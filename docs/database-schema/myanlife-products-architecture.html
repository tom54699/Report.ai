<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyAnLife å•†å“ç³»çµ±è³‡æ–™åº«æ¶æ§‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            background: #f5f5f5;
            border-bottom: 3px solid #667eea;
            overflow-x: auto;
        }

        .tab {
            padding: 20px 30px;
            cursor: pointer;
            background: #f5f5f5;
            border: none;
            font-size: 1.1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .tab:hover {
            background: #e0e0e0;
        }

        .tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
            margin-bottom: -3px;
        }

        .tab-content {
            display: none;
            padding: 40px;
            animation: fadeIn 0.3s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 3em;
            font-weight: bold;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .system-section {
            margin-bottom: 30px;
            padding: 25px;
            background: #f9f9f9;
            border-radius: 12px;
            border-left: 5px solid #667eea;
        }

        .system-title {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .system-title span {
            font-size: 1.2em;
        }

        .table-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .table-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
            cursor: pointer;
        }

        .table-item:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .table-name {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 5px;
        }

        .table-desc {
            font-size: 0.9em;
            color: #666;
        }

        .er-diagram {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .er-container {
            min-width: 1200px;
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        .er-row {
            display: flex;
            justify-content: space-around;
            align-items: flex-start;
            gap: 30px;
        }

        .er-table {
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            min-width: 200px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .er-table-header {
            background: #667eea;
            color: white;
            padding: 12px;
            font-weight: 600;
            text-align: center;
            border-radius: 6px 6px 0 0;
        }

        .er-table-body {
            padding: 10px;
            font-size: 0.85em;
            color: #666;
        }

        .er-table-body div {
            padding: 3px 0;
        }

        .er-arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 1.5em;
            font-weight: bold;
        }

        .search-box {
            margin-bottom: 25px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 10px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 20px;
            font-size: 1em;
            border: 2px solid #ddd;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .search-box input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .table-detail {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .table-detail-header {
            background: #667eea;
            color: white;
            padding: 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-detail-header:hover {
            background: #5568d3;
        }

        .table-detail-body {
            padding: 20px;
            display: none;
        }

        .table-detail-body.show {
            display: block;
        }

        .field-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        .field-table th {
            background: #f5f5f5;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #667eea;
        }

        .field-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #e0e0e0;
        }

        .field-table tr:hover {
            background: #f9f9f9;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
            margin: 2px;
        }

        .badge-pk {
            background: #ff9800;
            color: white;
        }

        .badge-fk {
            background: #4caf50;
            color: white;
        }

        .badge-unique {
            background: #9c27b0;
            color: white;
        }

        .badge-index {
            background: #2196f3;
            color: white;
        }

        .optimization-section {
            background: #e8f5e9;
            border-left: 5px solid #4caf50;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .optimization-title {
            color: #2e7d32;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .optimization-list {
            list-style: none;
            padding: 0;
        }

        .optimization-list li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
            color: #333;
            line-height: 1.8;
        }

        .optimization-list li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #4caf50;
            font-weight: bold;
            font-size: 1.2em;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 10px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .warning-box h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        .warning-box p {
            color: #856404;
            line-height: 1.8;
        }

        .merchant { border-color: #e74c3c !important; }
        .merchant .er-table-header { background: #e74c3c !important; }

        .product { border-color: #3498db !important; }
        .product .er-table-header { background: #3498db !important; }

        .user { border-color: #2ecc71 !important; }
        .user .er-table-header { background: #2ecc71 !important; }

        .order { border-color: #f39c12 !important; }
        .order .er-table-header { background: #f39c12 !important; }

        .promo { border-color: #9b59b6 !important; }
        .promo .er-table-header { background: #9b59b6 !important; }

        .back-link {
            display: inline-block;
            color: white;
            text-decoration: none;
            margin-bottom: 20px;
            padding: 10px 20px;
            background: rgba(255,255,255,0.2);
            border-radius: 8px;
            transition: all 0.3s;
        }

        .back-link:hover {
            background: rgba(255,255,255,0.3);
            transform: translateX(-5px);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="../../myanLife/architecture.html" class="back-link">â† è¿”å›æ¶æ§‹ç¸½è¦½</a>
            <h1>ğŸª MyAnLife å•†å“ç³»çµ±è³‡æ–™åº«æ¶æ§‹</h1>
            <p class="subtitle">å„ªæƒ åˆ¸é›»å•†å¹³å° - å®Œæ•´è³‡æ–™åº«è¨­è¨ˆæ–‡ä»¶</p>
        </header>

        <div class="tabs">
            <button class="tab active" onclick="showTab('overview')">ğŸ“Š ç¸½è¦½</button>
            <button class="tab" onclick="showTab('er-diagram')">ğŸ”— ER é—œä¿‚åœ–</button>
            <button class="tab" onclick="showTab('tables')">ğŸ“‹ è¡¨æ ¼è©³æƒ…</button>
            <button class="tab" onclick="showTab('optimizations')">âš¡ å„ªåŒ–èªªæ˜</button>
        </div>

        <!-- Tab 1: ç¸½è¦½ -->
        <div id="overview" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">è³‡æ–™è¡¨æ•¸é‡</div>
                    <div class="stat-number">18</div>
                    <div class="stat-label">å¼µè¡¨</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">å¤–éµé—œä¿‚</div>
                    <div class="stat-number">24</div>
                    <div class="stat-label">å€‹é—œè¯</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ç¸½æ¬„ä½æ•¸</div>
                    <div class="stat-number">200+</div>
                    <div class="stat-label">å€‹æ¬„ä½</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ç´¢å¼•æ•¸é‡</div>
                    <div class="stat-number">60+</div>
                    <div class="stat-label">å€‹ç´¢å¼•</div>
                </div>
            </div>

            <div class="system-section">
                <div class="system-title">
                    <span>ğŸª</span>
                    <span>å•†å®¶ç³»çµ±ï¼ˆ2 å¼µè¡¨ï¼‰</span>
                </div>
                <div class="table-list">
                    <div class="table-item">
                        <div class="table-name">merchants</div>
                        <div class="table-desc">å•†å®¶ä¸»è¡¨ï¼ˆè¨»å†Šå¸³è™Ÿã€å•†å®¶è³‡è¨Šã€å¯©æ ¸ç‹€æ…‹ï¼‰</div>
                    </div>
                    <div class="table-item">
                        <div class="table-name">stores</div>
                        <div class="table-desc">åº—å®¶è¡¨ï¼ˆæ”¯æ´å–®åº—/é€£é–ï¼Œåœ°å€ã€ç‡Ÿæ¥­æ™‚é–“ï¼‰</div>
                    </div>
                </div>
            </div>

            <div class="system-section">
                <div class="system-title">
                    <span>ğŸ«</span>
                    <span>å•†å“ç³»çµ±ï¼ˆ7 å¼µè¡¨ï¼‰</span>
                </div>
                <div class="table-list">
                    <div class="table-item">
                        <div class="table-name">product_categories</div>
                        <div class="table-desc">å•†å“åˆ†é¡è¡¨ï¼ˆç®¡ç†å“¡çµ±ä¸€ç®¡ç†ï¼‰</div>
                    </div>
                    <div class="table-item">
                        <div class="table-name">products</div>
                        <div class="table-desc">å•†å“ä¸»è¡¨ï¼ˆå„ªæƒ åˆ¸çµ±ä¸€ç‚ºå•†å“ï¼‰</div>
                    </div>
                    <div class="table-item">
                        <div class="table-name">food_products</div>
                        <div class="table-desc">ç¾é£Ÿå„ªæƒ åˆ¸å­è¡¨</div>
                    </div>
                    <div class="table-item">
                        <div class="table-name">travel_products</div>
                        <div class="table-desc">æ—…éŠå„ªæƒ åˆ¸å­è¡¨</div>
                    </div>
                    <div class="table-item">
                        <div class="table-name">hotel_products</div>
                        <div class="table-desc">ä½å®¿å„ªæƒ åˆ¸å­è¡¨</div>
                    </div>
                    <div class="table-item">
                        <div class="table-name">entertainment_products</div>
                        <div class="table-desc">ä¼‘é–’å¨›æ¨‚å„ªæƒ åˆ¸å­è¡¨</div>
                    </div>
                    <div class="table-item">
                        <div class="table-name">product_stores</div>
                        <div class="table-desc">å•†å“èˆ‡åº—å®¶é—œè¯è¡¨ï¼ˆM:N é—œä¿‚ï¼‰</div>
                    </div>
                </div>
            </div>

            <div class="system-section">
                <div class="system-title">
                    <span>ğŸ‘¤</span>
                    <span>ç”¨æˆ¶æŒæœ‰èˆ‡æ ¸éŠ·ï¼ˆ2 å¼µè¡¨ï¼‰</span>
                </div>
                <div class="table-list">
                    <div class="table-item">
                        <div class="table-name">user_products</div>
                        <div class="table-desc">ç”¨æˆ¶æŒæœ‰å•†å“ï¼ˆå‹•æ…‹ QR Codeã€æœ‰æ•ˆæœŸé™ï¼‰</div>
                    </div>
                    <div class="table-item">
                        <div class="table-name">redemptions</div>
                        <div class="table-desc">æ ¸éŠ·è¨˜éŒ„ï¼ˆå•†å®¶ App æƒææ ¸éŠ·ï¼‰</div>
                    </div>
                </div>
            </div>

            <div class="system-section">
                <div class="system-title">
                    <span>âœ…</span>
                    <span>å¯©æ ¸ç³»çµ±ï¼ˆ1 å¼µè¡¨ï¼‰</span>
                </div>
                <div class="table-list">
                    <div class="table-item">
                        <div class="table-name">product_reviews</div>
                        <div class="table-desc">å•†å“å¯©æ ¸è¨˜éŒ„ï¼ˆå•†å®¶ä¸Šæ¶éœ€å¾Œå°å¯©æ ¸ï¼‰</div>
                    </div>
                </div>
            </div>

            <div class="system-section">
                <div class="system-title">
                    <span>ğŸ›’</span>
                    <span>è¨‚å–®ç³»çµ±ï¼ˆ4 å¼µè¡¨ï¼‰</span>
                </div>
                <div class="table-list">
                    <div class="table-item">
                        <div class="table-name">orders</div>
                        <div class="table-desc">è¨‚å–®ä¸»è¡¨ï¼ˆé‡‘é¡ã€ç‹€æ…‹ã€è¯çµ¡è³‡è¨Šï¼‰</div>
                    </div>
                    <div class="table-item">
                        <div class="table-name">order_items</div>
                        <div class="table-desc">è¨‚å–®æ˜ç´°ï¼ˆå•†å“å¿«ç…§ã€åƒ¹æ ¼ã€æ•¸é‡ï¼‰</div>
                    </div>
                    <div class="table-item">
                        <div class="table-name">payments</div>
                        <div class="table-desc">æ”¯ä»˜è¨˜éŒ„ï¼ˆç¬¬ä¸‰æ–¹æ”¯ä»˜æ•´åˆï¼‰</div>
                    </div>
                    <div class="table-item">
                        <div class="table-name">order_status_logs</div>
                        <div class="table-desc">è¨‚å–®ç‹€æ…‹è¨˜éŒ„ï¼ˆè¿½è¹¤è®Šæ›´æ­·å²ï¼‰</div>
                    </div>
                </div>
            </div>

            <div class="system-section">
                <div class="system-title">
                    <span>ğŸ</span>
                    <span>ä¿ƒéŠ·ç³»çµ±ï¼ˆ1 å¼µè¡¨ï¼‰</span>
                </div>
                <div class="table-list">
                    <div class="table-item">
                        <div class="table-name">promo_codes</div>
                        <div class="table-desc">æŠ˜æ‰£ç¢¼è¡¨ï¼ˆä½¿ç”¨æ¬¡æ•¸è¿½è¹¤ï¼‰</div>
                    </div>
                </div>
            </div>

            <div class="system-section">
                <div class="system-title">
                    <span>â­</span>
                    <span>è©•åˆ†ç³»çµ±ï¼ˆ1 å¼µè¡¨ï¼‰</span>
                </div>
                <div class="table-list">
                    <div class="table-item">
                        <div class="table-name">product_ratings</div>
                        <div class="table-desc">å•†å“è©•åˆ†è¡¨ï¼ˆ1-5æ˜Ÿè©•åˆ†ã€è©•åƒ¹å…§å®¹ï¼‰</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: ER é—œä¿‚åœ– -->
        <div id="er-diagram" class="tab-content">
            <h2 style="margin-bottom: 20px;">ğŸ“ å¯¦é«”é—œä¿‚åœ–ï¼ˆER Diagramï¼‰</h2>

            <div class="er-diagram">
                <div class="er-container">
                    <!-- å•†å®¶ â†’ åº—å®¶ -->
                    <div class="er-row">
                        <div class="er-table merchant">
                            <div class="er-table-header">merchants<br>å•†å®¶ä¸»è¡¨</div>
                            <div class="er-table-body">
                                <div>ğŸ“§ account_email</div>
                                <div>ğŸ¢ merchant_name</div>
                                <div>ğŸ“± contact_phone</div>
                                <div>ğŸ¯ category</div>
                            </div>
                        </div>
                        <div class="er-arrow">1 : N</div>
                        <div class="er-table merchant">
                            <div class="er-table-header">stores<br>åº—å®¶è¡¨</div>
                            <div class="er-table-body">
                                <div>ğŸª store_name</div>
                                <div>ğŸ“ address</div>
                                <div>ğŸ•’ business_hours</div>
                            </div>
                        </div>
                    </div>

                    <!-- å•†å“ç³»çµ± -->
                    <div class="er-row">
                        <div class="er-table product">
                            <div class="er-table-header">products<br>å•†å“ä¸»è¡¨</div>
                            <div class="er-table-body">
                                <div>ğŸ“¦ product_name</div>
                                <div>ğŸ’° selling_price</div>
                                <div>ğŸ“… valid_from/to</div>
                                <div>âœ… review_status</div>
                            </div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 20px;">
                            <div class="er-arrow">1:1</div>
                            <div class="er-table product">
                                <div class="er-table-header">food_products</div>
                            </div>
                            <div class="er-table product">
                                <div class="er-table-header">travel_products</div>
                            </div>
                            <div class="er-table product">
                                <div class="er-table-header">hotel_products</div>
                            </div>
                            <div class="er-table product">
                                <div class="er-table-header">entertainment_products</div>
                            </div>
                        </div>
                    </div>

                    <!-- å•†å“ â†” åº—å®¶é—œè¯ -->
                    <div class="er-row">
                        <div class="er-table product">
                            <div class="er-table-header">products</div>
                        </div>
                        <div class="er-arrow">M : N</div>
                        <div class="er-table product">
                            <div class="er-table-header">product_stores<br>é—œè¯è¡¨</div>
                        </div>
                        <div class="er-arrow">M : N</div>
                        <div class="er-table merchant">
                            <div class="er-table-header">stores</div>
                        </div>
                    </div>

                    <!-- è¨‚å–®ç³»çµ± -->
                    <div class="er-row">
                        <div class="er-table order">
                            <div class="er-table-header">orders<br>è¨‚å–®ä¸»è¡¨</div>
                            <div class="er-table-body">
                                <div>ğŸ“‹ order_number</div>
                                <div>ğŸ’µ final_amount</div>
                                <div>ğŸ“Š order_status</div>
                            </div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 15px;">
                            <div class="er-arrow">1:N â†“</div>
                            <div class="er-table order">
                                <div class="er-table-header">order_items</div>
                            </div>
                            <div class="er-table order">
                                <div class="er-table-header">payments</div>
                            </div>
                            <div class="er-table order">
                                <div class="er-table-header">order_status_logs</div>
                            </div>
                        </div>
                    </div>

                    <!-- ç”¨æˆ¶æŒæœ‰èˆ‡æ ¸éŠ· -->
                    <div class="er-row">
                        <div class="er-table user">
                            <div class="er-table-header">user_products<br>ç”¨æˆ¶æŒæœ‰</div>
                            <div class="er-table-body">
                                <div>ğŸ”¢ unique_code</div>
                                <div>ğŸ” qr_temp_token</div>
                                <div>ğŸ“… valid_to</div>
                                <div>âœ… status</div>
                            </div>
                        </div>
                        <div class="er-arrow">1 : N</div>
                        <div class="er-table user">
                            <div class="er-table-header">redemptions<br>æ ¸éŠ·è¨˜éŒ„</div>
                            <div class="er-table-body">
                                <div>ğŸª store_id</div>
                                <div>ğŸ‘¤ staff_name</div>
                                <div>ğŸ•’ redeemed_at</div>
                            </div>
                        </div>
                    </div>

                    <!-- è©•åˆ†ç³»çµ± -->
                    <div class="er-row">
                        <div class="er-table product">
                            <div class="er-table-header">products</div>
                        </div>
                        <div class="er-arrow">1 : N</div>
                        <div class="er-table product">
                            <div class="er-table-header">product_ratings<br>å•†å“è©•åˆ†</div>
                            <div class="er-table-body">
                                <div>â­ rating (1-5)</div>
                                <div>ğŸ’¬ review_text</div>
                                <div>ğŸ–¼ï¸ images</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="warning-box">
                <h4>ğŸ”— é—œä¿‚èªªæ˜</h4>
                <p><strong>1:N (ä¸€å°å¤š)ï¼š</strong>ä¸€å€‹å•†å®¶æœ‰å¤šå€‹åº—å®¶ã€ä¸€å€‹è¨‚å–®æœ‰å¤šå€‹è¨‚å–®é …ç›®</p>
                <p><strong>M:N (å¤šå°å¤š)ï¼š</strong>ä¸€å€‹å•†å“å¯åœ¨å¤šå€‹åº—å®¶ä½¿ç”¨ï¼Œé€é product_stores é—œè¯è¡¨</p>
                <p><strong>1:1 (ä¸€å°ä¸€)ï¼š</strong>å•†å“ä¸»è¡¨èˆ‡å­è¡¨ï¼ˆfood/travel/hotel/entertainmentï¼‰</p>
            </div>
        </div>

        <!-- Tab 3: è¡¨æ ¼è©³æƒ… -->
        <div id="tables" class="tab-content">
            <h2 style="margin-bottom: 20px;">ğŸ“‹ è¡¨æ ¼è©³ç´°è³‡è¨Š</h2>

            <div class="search-box">
                <input type="text" id="tableSearch" placeholder="ğŸ” æœå°‹è¡¨æ ¼åç¨±æˆ–æ¬„ä½..." onkeyup="searchTables()">
            </div>

            <div id="tableDetails">
                <!-- merchants -->
                <div class="table-detail" data-table="merchants">
                    <div class="table-detail-header" onclick="toggleDetail(this)">
                        <div>
                            <strong>merchants</strong> - å•†å®¶ä¸»è¡¨
                            <div style="font-size: 0.9em; opacity: 0.9; margin-top: 5px;">å•†å®¶è¨»å†Šå¸³è™Ÿã€åŸºæœ¬è³‡è¨Šã€å¯©æ ¸ç‹€æ…‹ã€è²¡å‹™è¨­å®š</div>
                        </div>
                        <span>â–¼</span>
                    </div>
                    <div class="table-detail-body">
                        <h4>ğŸ“‹ æ¬„ä½åˆ—è¡¨</h4>
                        <table class="field-table">
                            <thead>
                                <tr>
                                    <th>æ¬„ä½åç¨±</th>
                                    <th>é¡å‹</th>
                                    <th>èªªæ˜</th>
                                    <th>å±¬æ€§</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>BIGINT UNSIGNED</td>
                                    <td>å•†å®¶ ID</td>
                                    <td><span class="badge badge-pk">PK</span> <span class="badge badge-index">AUTO_INCREMENT</span></td>
                                </tr>
                                <tr>
                                    <td>account_email</td>
                                    <td>VARCHAR(255)</td>
                                    <td>å•†å®¶å¸³è™Ÿä¿¡ç®±</td>
                                    <td><span class="badge badge-unique">UNIQUE</span> <span class="badge badge-index">INDEX</span></td>
                                </tr>
                                <tr>
                                    <td>category</td>
                                    <td>VARCHAR(50)</td>
                                    <td>å•†å®¶é¡å‹ (travel/food/hotel/entertainment)</td>
                                    <td><span class="badge badge-index">INDEX</span></td>
                                </tr>
                                <tr>
                                    <td>commission_rate</td>
                                    <td>DECIMAL(5,2)</td>
                                    <td>å¹³å°æŠ½æˆæ¯”ä¾‹(%)</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>status</td>
                                    <td>VARCHAR(20)</td>
                                    <td>å¯©æ ¸ç‹€æ…‹ (pending/approved/rejected/suspended)</td>
                                    <td><span class="badge badge-index">INDEX</span></td>
                                </tr>
                                <tr>
                                    <td>deleted_at</td>
                                    <td>TIMESTAMP</td>
                                    <td>åˆªé™¤æ™‚é–“ï¼ˆè»Ÿåˆªé™¤ï¼‰</td>
                                    <td><span class="badge badge-index">INDEX</span></td>
                                </tr>
                            </tbody>
                        </table>
                        <h4>ğŸ”— é—œè¯</h4>
                        <p>â†’ stores (1:N) - ä¸€å€‹å•†å®¶å¯ä»¥æœ‰å¤šå€‹åº—å®¶/åˆ†åº—</p>
                        <p>â†’ products (1:N) - ä¸€å€‹å•†å®¶å¯ä»¥æœ‰å¤šå€‹å•†å“</p>
                    </div>
                </div>

                <!-- products -->
                <div class="table-detail" data-table="products">
                    <div class="table-detail-header" onclick="toggleDetail(this)">
                        <div>
                            <strong>products</strong> - å•†å“ä¸»è¡¨
                            <div style="font-size: 0.9em; opacity: 0.9; margin-top: 5px;">çµ±ä¸€ç®¡ç†å„ªæƒ åˆ¸å•†å“ã€åƒ¹æ ¼ã€åº«å­˜ã€ä½¿ç”¨è¨­å®šã€é€€æ¬¾æ”¿ç­–</div>
                        </div>
                        <span>â–¼</span>
                    </div>
                    <div class="table-detail-body">
                        <h4>ğŸ“‹ ä¸»è¦æ¬„ä½</h4>
                        <table class="field-table">
                            <thead>
                                <tr>
                                    <th>æ¬„ä½åç¨±</th>
                                    <th>é¡å‹</th>
                                    <th>èªªæ˜</th>
                                    <th>å±¬æ€§</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>BIGINT UNSIGNED</td>
                                    <td>å•†å“ ID</td>
                                    <td><span class="badge badge-pk">PK</span></td>
                                </tr>
                                <tr>
                                    <td>merchant_id</td>
                                    <td>BIGINT UNSIGNED</td>
                                    <td>æ‰€å±¬å•†å®¶ ID</td>
                                    <td><span class="badge badge-fk">FK</span> <span class="badge badge-index">INDEX</span></td>
                                </tr>
                                <tr>
                                    <td>selling_price</td>
                                    <td>DECIMAL(10,2)</td>
                                    <td>å”®åƒ¹ï¼ˆ0 è¡¨ç¤ºå…è²»ï¼‰</td>
                                    <td><span class="badge badge-index">INDEX</span></td>
                                </tr>
                                <tr>
                                    <td>discount_type</td>
                                    <td>VARCHAR(50)</td>
                                    <td>å„ªæƒ é¡å‹ï¼ˆpercentage/fixed_amountç­‰ï¼‰</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>review_status</td>
                                    <td>VARCHAR(20)</td>
                                    <td>å¯©æ ¸ç‹€æ…‹ï¼ˆdraft/pending/approved/rejectedï¼‰</td>
                                    <td><span class="badge badge-index">INDEX</span></td>
                                </tr>
                                <tr>
                                    <td>rating_average</td>
                                    <td>DECIMAL(3,2)</td>
                                    <td>å¹³å‡è©•åˆ†</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>rating_count</td>
                                    <td>INT</td>
                                    <td>è©•åˆ†äººæ•¸</td>
                                    <td>-</td>
                                </tr>
                            </tbody>
                        </table>
                        <h4>ğŸ”— é—œè¯</h4>
                        <p>â† merchants (N:1) - å±¬æ–¼æŸå€‹å•†å®¶</p>
                        <p>â†’ food/travel/hotel/entertainment_products (1:1) - æ ¹æ“šé¡å‹é—œè¯å­è¡¨</p>
                        <p>â†’ product_stores (1:N) - å¯åœ¨å¤šå€‹åº—å®¶ä½¿ç”¨</p>
                        <p>â†’ product_ratings (1:N) - å¯æœ‰å¤šå€‹è©•åˆ†</p>
                    </div>
                </div>

                <!-- user_products -->
                <div class="table-detail" data-table="user_products">
                    <div class="table-detail-header" onclick="toggleDetail(this)">
                        <div>
                            <strong>user_products</strong> - ç”¨æˆ¶æŒæœ‰å•†å“è¡¨
                            <div style="font-size: 0.9em; opacity: 0.9; margin-top: 5px;">å‹•æ…‹ QR Code å®‰å…¨æ©Ÿåˆ¶ã€æœ‰æ•ˆæœŸé™ã€æ ¸éŠ·ç‹€æ…‹</div>
                        </div>
                        <span>â–¼</span>
                    </div>
                    <div class="table-detail-body">
                        <h4>ğŸ“‹ æ¬„ä½åˆ—è¡¨ï¼ˆQR Code å‹•æ…‹ç”Ÿæˆæ–¹æ¡ˆï¼‰</h4>
                        <table class="field-table">
                            <thead>
                                <tr>
                                    <th>æ¬„ä½åç¨±</th>
                                    <th>é¡å‹</th>
                                    <th>èªªæ˜</th>
                                    <th>å±¬æ€§</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>unique_code</td>
                                    <td>VARCHAR(100)</td>
                                    <td>å”¯ä¸€è­˜åˆ¥ç¢¼ï¼ˆå›ºå®šä¸è®Šï¼Œå¦‚ï¼šUP-1234567890ï¼‰</td>
                                    <td><span class="badge badge-unique">UNIQUE</span> <span class="badge badge-index">INDEX</span></td>
                                </tr>
                                <tr>
                                    <td>qr_temp_token</td>
                                    <td>VARCHAR(255)</td>
                                    <td>è‡¨æ™‚ QR tokenï¼ˆ5åˆ†é˜æœ‰æ•ˆï¼Œé˜²æ­¢æˆªåœ–ç›œç”¨ï¼‰</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>qr_temp_token_expires_at</td>
                                    <td>TIMESTAMP</td>
                                    <td>QR token éæœŸæ™‚é–“</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>status</td>
                                    <td>VARCHAR(20)</td>
                                    <td>ç‹€æ…‹ï¼ˆactive/redeemed/expired/cancelledï¼‰</td>
                                    <td><span class="badge badge-index">INDEX</span></td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="warning-box">
                            <h4>ğŸ” QR Code å®‰å…¨æ©Ÿåˆ¶èªªæ˜</h4>
                            <p><strong>é‹ä½œæµç¨‹ï¼š</strong></p>
                            <p>1. ç”¨æˆ¶æ‰“é–‹ã€Œæˆ‘çš„åˆ¸ã€â†’ App å‘¼å« API ç”Ÿæˆè‡¨æ™‚ tokenï¼ˆ5åˆ†é˜æœ‰æ•ˆï¼‰</p>
                            <p>2. å‰ç«¯å‹•æ…‹ç”¢ç”Ÿ QR Codeï¼ˆå…§å®¹ï¼šunique_code + temp_tokenï¼‰</p>
                            <p>3. å•†å®¶æƒæ â†’ å¾Œç«¯é©—è­‰ token æ˜¯å¦æœ‰æ•ˆã€æ˜¯å¦éæœŸ</p>
                            <p>4. 5åˆ†é˜å¾Œè‡ªå‹•å¤±æ•ˆï¼Œé˜²æ­¢æˆªåœ–ç›œç”¨</p>
                        </div>
                    </div>
                </div>

                <!-- orders -->
                <div class="table-detail" data-table="orders">
                    <div class="table-detail-header" onclick="toggleDetail(this)">
                        <div>
                            <strong>orders</strong> - è¨‚å–®ä¸»è¡¨
                            <div style="font-size: 0.9em; opacity: 0.9; margin-top: 5px;">è¨‚å–®é‡‘é¡ã€ä»˜æ¬¾ç‹€æ…‹ã€è¯çµ¡è³‡è¨Šã€æ™‚é–“è¨˜éŒ„</div>
                        </div>
                        <span>â–¼</span>
                    </div>
                    <div class="table-detail-body">
                        <h4>ğŸ“‹ ä¸»è¦æ¬„ä½</h4>
                        <table class="field-table">
                            <thead>
                                <tr>
                                    <th>æ¬„ä½åç¨±</th>
                                    <th>é¡å‹</th>
                                    <th>èªªæ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>order_number</td>
                                    <td>VARCHAR(50)</td>
                                    <td>è¨‚å–®ç·¨è™Ÿï¼ˆå”¯ä¸€ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>payment_method</td>
                                    <td>VARCHAR(50)</td>
                                    <td>ä»˜æ¬¾æ–¹å¼ï¼ˆkbzpay/aya_pay/credit_cardç­‰ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>order_status</td>
                                    <td>VARCHAR(20)</td>
                                    <td>è¨‚å–®ç‹€æ…‹ï¼ˆpending/confirmed/completed/cancelledï¼‰</td>
                                </tr>
                                <tr>
                                    <td>confirmed_at</td>
                                    <td>TIMESTAMP</td>
                                    <td>ç¢ºèªæ™‚é–“</td>
                                </tr>
                                <tr>
                                    <td>completed_at</td>
                                    <td>TIMESTAMP</td>
                                    <td>å®Œæˆæ™‚é–“</td>
                                </tr>
                                <tr>
                                    <td>cancelled_at</td>
                                    <td>TIMESTAMP</td>
                                    <td>å–æ¶ˆæ™‚é–“</td>
                                </tr>
                            </tbody>
                        </table>
                        <h4>ğŸ”— é—œè¯</h4>
                        <p>â†’ order_items (1:N) - ä¸€å€‹è¨‚å–®æœ‰å¤šå€‹å•†å“</p>
                        <p>â†’ payments (1:N) - ä¸€å€‹è¨‚å–®å¯èƒ½æœ‰å¤šæ¬¡æ”¯ä»˜è¨˜éŒ„</p>
                        <p>â†’ order_status_logs (1:N) - è¿½è¹¤ç‹€æ…‹è®Šæ›´æ­·å²</p>
                    </div>
                </div>

                <!-- promo_codes -->
                <div class="table-detail" data-table="promo_codes">
                    <div class="table-detail-header" onclick="toggleDetail(this)">
                        <div>
                            <strong>promo_codes</strong> - æŠ˜æ‰£ç¢¼è¡¨
                            <div style="font-size: 0.9em; opacity: 0.9; margin-top: 5px;">æŠ˜æ‰£è¨­å®šã€ä½¿ç”¨æ¬¡æ•¸è¿½è¹¤ã€æœ‰æ•ˆæœŸé™</div>
                        </div>
                        <span>â–¼</span>
                    </div>
                    <div class="table-detail-body">
                        <h4>ğŸ“‹ ä¸»è¦æ¬„ä½</h4>
                        <table class="field-table">
                            <thead>
                                <tr>
                                    <th>æ¬„ä½åç¨±</th>
                                    <th>é¡å‹</th>
                                    <th>èªªæ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>code</td>
                                    <td>VARCHAR(50)</td>
                                    <td>æŠ˜æ‰£ç¢¼ï¼ˆå”¯ä¸€ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>discount_type</td>
                                    <td>VARCHAR(20)</td>
                                    <td>æŠ˜æ‰£é¡å‹ï¼ˆfixed/percentageï¼‰</td>
                                </tr>
                                <tr>
                                    <td>quantity</td>
                                    <td>INT</td>
                                    <td>å¯ä½¿ç”¨ç¸½æ•¸é‡</td>
                                </tr>
                                <tr>
                                    <td>used_count</td>
                                    <td>INT</td>
                                    <td>å·²ä½¿ç”¨æ¬¡æ•¸ï¼ˆè¿½è¹¤ä½¿ç”¨ç‹€æ³ï¼‰</td>
                                </tr>
                                <tr>
                                    <td>usage_limit</td>
                                    <td>INT</td>
                                    <td>æ¯ä½ä½¿ç”¨è€…å¯ä½¿ç”¨æ¬¡æ•¸</td>
                                </tr>
                            </tbody>
                        </table>
                        <p style="margin-top: 15px;"><strong>ğŸ’¡ ä½¿ç”¨è¿½è¹¤ï¼š</strong>é€é order_items.promo_code_id å¯æŸ¥è©¢å®Œæ•´ä½¿ç”¨è¨˜éŒ„</p>
                    </div>
                </div>

                <!-- product_ratings -->
                <div class="table-detail" data-table="product_ratings">
                    <div class="table-detail-header" onclick="toggleDetail(this)">
                        <div>
                            <strong>product_ratings</strong> - å•†å“è©•åˆ†è¡¨
                            <div style="font-size: 0.9em; opacity: 0.9; margin-top: 5px;">1-5æ˜Ÿè©•åˆ†ã€è©•åƒ¹å…§å®¹ã€åœ–ç‰‡ã€åŒ¿åè¨­å®š</div>
                        </div>
                        <span>â–¼</span>
                    </div>
                    <div class="table-detail-body">
                        <h4>ğŸ“‹ æ¬„ä½åˆ—è¡¨</h4>
                        <table class="field-table">
                            <thead>
                                <tr>
                                    <th>æ¬„ä½åç¨±</th>
                                    <th>é¡å‹</th>
                                    <th>èªªæ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>rating</td>
                                    <td>INT</td>
                                    <td>è©•åˆ†ï¼ˆ1-5æ˜Ÿï¼‰</td>
                                </tr>
                                <tr>
                                    <td>review_text</td>
                                    <td>TEXT</td>
                                    <td>è©•åƒ¹å…§å®¹</td>
                                </tr>
                                <tr>
                                    <td>images</td>
                                    <td>JSON</td>
                                    <td>è©•åƒ¹åœ–ç‰‡</td>
                                </tr>
                                <tr>
                                    <td>is_anonymous</td>
                                    <td>TINYINT(1)</td>
                                    <td>æ˜¯å¦åŒ¿åï¼ˆ0:å¦ 1:æ˜¯ï¼‰</td>
                                </tr>
                            </tbody>
                        </table>
                        <p style="margin-top: 15px;"><strong>ğŸ”’ é™åˆ¶ï¼š</strong>æ¯ä½æœƒå“¡å°åŒä¸€è¨‚å–®çš„åŒä¸€å•†å“åªèƒ½è©•åˆ†ä¸€æ¬¡ï¼ˆUNIQUE KEYï¼‰</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 4: å„ªåŒ–èªªæ˜ -->
        <div id="optimizations" class="tab-content">
            <h2 style="margin-bottom: 20px;">âš¡ è³‡æ–™åº«å„ªåŒ–èªªæ˜</h2>

            <div class="optimization-section">
                <div class="optimization-title">ğŸ”´ å¿…é ˆå„ªåŒ–ï¼šENUM æ”¹ VARCHAR</div>
                <ul class="optimization-list">
                    <li><strong>å•é¡Œï¼š</strong>ENUM é¡å‹æ“´å±•å›°é›£ï¼Œæ–°å¢é¸é …éœ€è¦ ALTER TABLE</li>
                    <li><strong>è§£æ±ºï¼š</strong>æ”¹ç”¨ VARCHARï¼Œåœ¨ç¨‹å¼ç«¯æ§åˆ¶é©—è­‰</li>
                    <li><strong>å½±éŸ¿æ¬„ä½ï¼š</strong>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>merchants.category (travel/food/hotel/entertainment)</li>
                            <li>products.discount_type (percentage/fixed_amountç­‰)</li>
                            <li>orders.payment_method (kbzpay/aya_payç­‰)</li>
                            <li>æ‰€æœ‰ status æ¬„ä½ï¼ˆpending/approvedç­‰ï¼‰</li>
                        </ul>
                    </li>
                </ul>
                <div class="code-block">
-- ä¿®æ”¹å‰
category ENUM('travel','food','hotel','entertainment')

-- ä¿®æ”¹å¾Œï¼ˆå¯å½ˆæ€§æ“´å±•ï¼‰
category VARCHAR(50) NOT NULL COMMENT 'å•†å®¶é¡å‹(travel/food/hotel/entertainment)'
                </div>
            </div>

            <div class="optimization-section">
                <div class="optimization-title">ğŸŸ¡ å¼·çƒˆå»ºè­°ï¼šè»Ÿåˆªé™¤æ©Ÿåˆ¶</div>
                <ul class="optimization-list">
                    <li><strong>ç›®çš„ï¼š</strong>é‡è¦è³‡æ–™ä¸ç›´æ¥åˆªé™¤ï¼Œå¯è¿½æº¯æ­·å²</li>
                    <li><strong>å¯¦ä½œï¼š</strong>æ–°å¢ deleted_at æ¬„ä½</li>
                    <li><strong>é©ç”¨è¡¨ï¼š</strong>merchants, stores, products, orders</li>
                    <li><strong>æŸ¥è©¢æ™‚ï¼š</strong>WHERE deleted_at IS NULL åªé¡¯ç¤ºæœªåˆªé™¤è³‡æ–™</li>
                </ul>
                <div class="code-block">
-- æ–°å¢è»Ÿåˆªé™¤æ¬„ä½
deleted_at TIMESTAMP NULL COMMENT 'åˆªé™¤æ™‚é–“',
KEY idx_deleted (deleted_at)

-- Laravel æŸ¥è©¢ç¯„ä¾‹
Model::whereNull('deleted_at')->get();
                </div>
            </div>

            <div class="optimization-section">
                <div class="optimization-title">ğŸ” å®‰å…¨å„ªåŒ–ï¼šQR Code å‹•æ…‹ç”Ÿæˆ</div>
                <ul class="optimization-list">
                    <li><strong>æ–¹æ¡ˆ Bï¼šå‹•æ…‹ QR Codeï¼ˆå·²æ¡ç”¨ï¼‰</strong></li>
                    <li>åªå­˜å›ºå®šçš„ unique_codeï¼Œä¸å­˜ QR åœ–ç‰‡</li>
                    <li>ç”¨æˆ¶æ‰“é–‹åˆ¸æ™‚æ‰ç”Ÿæˆè‡¨æ™‚ tokenï¼ˆ5åˆ†é˜æœ‰æ•ˆï¼‰</li>
                    <li>å‰ç«¯ç”¨ JS å‹•æ…‹ç”¢ç”Ÿ QR Code åœ–ç‰‡</li>
                    <li><strong>å®‰å…¨æ€§ï¼š</strong>é˜²æ­¢æˆªåœ–ç›œç”¨ã€token éæœŸè‡ªå‹•å¤±æ•ˆ</li>
                </ul>
                <div class="code-block">
-- user_products æ¬„ä½è¨­è¨ˆ
unique_code VARCHAR(100) UNIQUE,           -- å›ºå®šå”¯ä¸€ç¢¼
qr_temp_token VARCHAR(255),                -- è‡¨æ™‚ token
qr_temp_token_expires_at TIMESTAMP,       -- éæœŸæ™‚é–“

-- å‰ç«¯å–å¾— QR å…§å®¹
GET /api/user-products/{id}/generate-qr-token
Response: {
  "unique_code": "UP-1234567890",
  "temp_token": "TMP-abc123",
  "expires_at": "2024-01-20T10:35:00Z"
}
                </div>
            </div>

            <div class="optimization-section">
                <div class="optimization-title">ğŸ“Š æ•ˆèƒ½å„ªåŒ–ï¼šè¤‡åˆç´¢å¼•</div>
                <ul class="optimization-list">
                    <li><strong>products è¡¨ï¼š</strong>idx_merchant_status (merchant_id, review_status, is_published)</li>
                    <li><strong>user_products è¡¨ï¼š</strong>idx_member_status (member_id, status)</li>
                    <li><strong>orders è¡¨ï¼š</strong>idx_member_created (member_id, created_at)</li>
                    <li><strong>redemptions è¡¨ï¼š</strong>idx_store_date (store_id, redeemed_at)</li>
                    <li><strong>æ•ˆæœï¼š</strong>åŠ é€Ÿå¸¸ç”¨æŸ¥è©¢çµ„åˆï¼Œæ¸›å°‘å…¨è¡¨æƒæ</li>
                </ul>
            </div>

            <div class="optimization-section">
                <div class="optimization-title">ğŸ åŠŸèƒ½æ“´å……ï¼šæŠ˜æ‰£ç¢¼ä½¿ç”¨è¿½è¹¤</div>
                <ul class="optimization-list">
                    <li>promo_codes è¡¨æ–°å¢ used_count æ¬„ä½</li>
                    <li>æ¯æ¬¡ä½¿ç”¨æŠ˜æ‰£ç¢¼æ™‚è‡ªå‹• +1</li>
                    <li>å¯å¿«é€Ÿåˆ¤æ–·æ˜¯å¦å·²ç”¨å®Œï¼ˆused_count >= quantityï¼‰</li>
                    <li>é€é order_items.promo_code_id å¯æŸ¥è©¢è©³ç´°ä½¿ç”¨è¨˜éŒ„</li>
                </ul>
            </div>

            <div class="optimization-section">
                <div class="optimization-title">â­ æ–°å¢åŠŸèƒ½ï¼šå•†å“è©•åˆ†ç³»çµ±</div>
                <ul class="optimization-list">
                    <li>æ–°å¢ product_ratings è¡¨ï¼ˆ18å¼µè¡¨ä¹‹ä¸€ï¼‰</li>
                    <li>æ”¯æ´ 1-5 æ˜Ÿè©•åˆ†ã€è©•åƒ¹å…§å®¹ã€åœ–ç‰‡</li>
                    <li>products è¡¨æ–°å¢ rating_count æ¬„ä½ï¼ˆè©•åˆ†äººæ•¸ï¼‰</li>
                    <li>æ¯ä½æœƒå“¡å°åŒä¸€å•†å“åªèƒ½è©•åˆ†ä¸€æ¬¡ï¼ˆUNIQUE KEYï¼‰</li>
                    <li>æ”¯æ´åŒ¿åè©•åƒ¹åŠŸèƒ½</li>
                </ul>
            </div>

            <div class="optimization-section">
                <div class="optimization-title">ğŸ•’ è¨‚å–®è¿½è¹¤ï¼šæ™‚é–“æˆ³è¨˜å„ªåŒ–</div>
                <ul class="optimization-list">
                    <li>orders è¡¨æ–°å¢å®Œæ•´æ™‚é–“è¨˜éŒ„ï¼š</li>
                    <li>confirmed_at - ç¢ºèªæ™‚é–“</li>
                    <li>completed_at - å®Œæˆæ™‚é–“</li>
                    <li>cancelled_at - å–æ¶ˆæ™‚é–“</li>
                    <li>cancellation_reason - å–æ¶ˆåŸå› </li>
                    <li><strong>å¥½è™•ï¼š</strong>æ–¹ä¾¿è¿½è¹¤è¨‚å–®è™•ç†æ™‚æ•ˆã€åˆ†æå–æ¶ˆåŸå› </li>
                </ul>
            </div>

            <div class="optimization-section">
                <div class="optimization-title">ğŸ’° å•†å®¶è²¡å‹™ï¼šçµç®—æ©Ÿåˆ¶</div>
                <ul class="optimization-list">
                    <li>merchants è¡¨æ–°å¢è²¡å‹™æ¬„ä½ï¼š</li>
                    <li>commission_rate - å¹³å°æŠ½æˆæ¯”ä¾‹</li>
                    <li>settlement_cycle - çµç®—é€±æœŸï¼ˆweekly/monthlyï¼‰</li>
                    <li>bank_account - æ”¶æ¬¾å¸³è™Ÿ</li>
                    <li><strong>æœªä¾†å¯æ“´å……ï¼š</strong>å»ºç«‹ settlements è¡¨è¨˜éŒ„æ¯æœŸçµç®—æ˜ç´°</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));

            // Show selected tab
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        function toggleDetail(element) {
            const body = element.nextElementSibling;
            const arrow = element.querySelector('span:last-child');

            if (body.classList.contains('show')) {
                body.classList.remove('show');
                arrow.textContent = 'â–¼';
            } else {
                body.classList.add('show');
                arrow.textContent = 'â–²';
            }
        }

        function searchTables() {
            const input = document.getElementById('tableSearch');
            const filter = input.value.toLowerCase();
            const tables = document.querySelectorAll('.table-detail');

            tables.forEach(table => {
                const tableName = table.getAttribute('data-table').toLowerCase();
                const text = table.textContent.toLowerCase();

                if (tableName.includes(filter) || text.includes(filter)) {
                    table.style.display = '';
                } else {
                    table.style.display = 'none';
                }
            });
        }

        // Auto-expand first table on page load
        document.addEventListener('DOMContentLoaded', function() {
            const firstTable = document.querySelector('.table-detail-header');
            if (firstTable) {
                toggleDetail(firstTable);
            }
        });
    </script>
</body>
</html>
