<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>myanLife ç³»çµ±ç•«é¢æ¨¡æ“¬ - UI Mockups</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 30px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .back-link {
            display: inline-block;
            color: white;
            text-decoration: none;
            margin-bottom: 20px;
            padding: 10px 20px;
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            transition: all 0.3s;
        }

        .back-link:hover {
            background: rgba(255,255,255,0.3);
            transform: translateX(-5px);
        }

        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 12px 24px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid transparent;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s;
        }

        .tab:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .tab.active {
            background: white;
            color: #667eea;
            border-color: white;
        }

        .mockup-container {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            min-height: 600px;
        }

        .mockup-container.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .mockup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #f0f0f0;
        }

        .mockup-title {
            font-size: 2em;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .mockup-nav {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .nav-item {
            padding: 8px 16px;
            background: #f8f9fa;
            border-radius: 20px;
            color: #666;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-item:hover {
            background: #667eea;
            color: white;
        }

        .nav-item.active {
            background: #667eea;
            color: white;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px;
            background: #f8f9fa;
            border-radius: 20px;
        }

        .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: #667eea;
        }

        .card-image {
            width: 100%;
            height: 160px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
        }

        .card-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .card-desc {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 12px;
            line-height: 1.5;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85em;
            color: #999;
        }

        .card-price {
            color: #f44336;
            font-weight: bold;
            font-size: 1.3em;
        }

        .card-button {
            padding: 8px 16px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .card-button:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-card.success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .stat-card.warning {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .stat-card.info {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }

        .data-table thead {
            background: #f8f9fa;
        }

        .data-table th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #333;
            border-bottom: 2px solid #e0e0e0;
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
            color: #666;
        }

        .data-table tbody tr:hover {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .status-badge.active {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .status-badge.pending {
            background: #fff3e0;
            color: #f57c00;
        }

        .status-badge.rejected {
            background: #ffebee;
            color: #c62828;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85em;
            transition: all 0.3s;
        }

        .action-btn.approve {
            background: #4caf50;
            color: white;
        }

        .action-btn.reject {
            background: #f44336;
            color: white;
        }

        .action-btn.edit {
            background: #2196f3;
            color: white;
        }

        .action-btn:hover {
            transform: scale(1.05);
            opacity: 0.9;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .dashboard-card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 25px;
        }

        .dashboard-card-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chart-placeholder {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 1.1em;
        }

        .country-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .country-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .country-btn:hover {
            border-color: #667eea;
            color: #667eea;
        }

        .country-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: transparent;
        }

        .quick-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .quick-action-btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .filter-btn {
            padding: 8px 16px;
            background: #f5f5f5;
            color: #666;
            border: 2px solid transparent;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            font-size: 0.9em;
        }

        .filter-btn:hover {
            background: #e8e8e8;
            transform: translateY(-1px);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: #667eea;
        }

        .info-note {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin-top: 20px;
            border-radius: 4px;
            color: #1976d2;
        }

        .login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 500px;
            padding: 40px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .login-container.hidden {
            display: none;
        }

        .login-box {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            max-width: 400px;
            width: 100%;
        }

        .login-box h2 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-size: 1.8em;
        }

        .login-box .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 0.9em;
        }

        .login-box .form-group {
            margin-bottom: 20px;
        }

        .login-box label {
            display: block;
            color: #333;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .login-box input,
        .login-box select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            box-sizing: border-box;
        }

        .login-box input:focus,
        .login-box select:focus {
            outline: none;
            border-color: #667eea;
        }

        .login-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .logout-btn {
            padding: 8px 16px;
            background: #f44336;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            margin-left: 10px;
        }

        .logout-btn:hover {
            background: #d32f2f;
            transform: translateY(-2px);
        }

        .main-content {
            display: none;
        }

        .main-content.active {
            display: block;
        }

        .content-view {
            display: none;
        }

        .content-view.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .filter-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-tab {
            padding: 8px 16px;
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
        }

        .filter-tab:hover {
            border-color: #667eea;
            color: #667eea;
        }

        .filter-tab.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: transparent;
        }

        .order-card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }

        .order-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        .order-number {
            font-weight: 600;
            color: #333;
        }

        .order-date {
            color: #999;
            font-size: 0.9em;
        }

        .order-items {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-bottom: 15px;
        }

        .order-image {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
        }

        .order-details {
            flex: 1;
        }

        .order-product-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .order-product-desc {
            color: #666;
            font-size: 0.9em;
        }

        .order-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .order-total {
            font-weight: bold;
            color: #f44336;
            font-size: 1.2em;
        }

        .settings-section {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .settings-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .settings-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .settings-item:last-child {
            border-bottom: none;
        }

        .settings-label {
            font-weight: 500;
            color: #333;
        }

        .settings-value {
            color: #666;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .mockup-container {
                padding: 20px;
            }

            .content-grid {
                grid-template-columns: 1fr;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .mockup-header {
                flex-direction: column;
                gap: 15px;
            }

            .tabs {
                gap: 5px;
            }

            .tab {
                padding: 10px 16px;
                font-size: 0.9em;
            }
        }

        /* ============================================
           é€šç”¨ UI çµ„ä»¶æ¨£å¼
           ============================================ */

        /* Toast é€šçŸ¥ */
        .toast {
            display: flex;
            align-items: center;
            gap: 12px;
            background: white;
            padding: 16px 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            min-width: 300px;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.3s ease;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(0);
        }

        .toast-icon {
            font-size: 1.5em;
        }

        .toast-message {
            flex: 1;
            font-size: 0.95em;
            color: #333;
        }

        .toast-success {
            border-left: 4px solid #10b981;
        }

        .toast-error {
            border-left: 4px solid #ef4444;
        }

        .toast-warning {
            border-left: 4px solid #f59e0b;
        }

        .toast-info {
            border-left: 4px solid #3b82f6;
        }

        /* Modal æ¨¡æ…‹æ¡† */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.show {
            opacity: 1;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal-overlay.show .modal-content {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            border-bottom: 1px solid #e5e7eb;
        }

        .modal-header h3 {
            margin: 0;
            font-size: 1.4em;
            color: #333;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 2em;
            color: #999;
            cursor: pointer;
            line-height: 1;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .modal-close:hover {
            background: #f3f4f6;
            color: #333;
        }

        .modal-body {
            padding: 25px;
            overflow-y: auto;
            flex: 1;
        }

        .modal-footer {
            padding: 20px 25px;
            border-top: 1px solid #e5e7eb;
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* æŒ‰éˆ•æ¨£å¼ */
        .btn-primary, .btn-secondary {
            padding: 10px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e5e7eb;
            color: #333;
        }

        .btn-secondary:hover {
            background: #d1d5db;
        }

        /* Loading Spinner */
        .spinner {
            display: inline-block;
            width: 14px;
            height: 14px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* è¡¨å–®æ¨£å¼ */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.2s;
            font-family: inherit;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* QR Code æ¨£å¼ */
        .qr-code {
            width: 200px;
            height: 200px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            font-size: 3em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="architecture.html" class="back-link">â† è¿”å›æ¶æ§‹åœ–</a>
            <h1>ğŸ–¥ï¸ myanLife ç³»çµ±ç•«é¢æ¨¡æ“¬</h1>
            <p class="subtitle">äº’å‹•å¼ UI Mockups - å››å¤§ç³»çµ±ä»‹é¢å±•ç¤º</p>
        </header>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('memberApp')">ğŸŒ æœƒå“¡ç«¯</button>
            <button class="tab" onclick="switchTab('merchantApp')">ğŸª å•†å®¶ç«¯</button>
            <button class="tab" onclick="switchTab('operation')">ğŸ‘¥ é‹ç‡Ÿå¾Œå°</button>
            <button class="tab" onclick="switchTab('central')">ğŸ›ï¸ ä¸­å¤®å¾Œå°</button>
        </div>

        <!-- 1. æœƒå“¡ç«¯ Web App -->
        <div id="memberApp" class="mockup-container active">
            <!-- ç™»å…¥ç•«é¢ -->
            <div class="login-container" id="memberLogin">
                <div class="login-box">
                    <h2>ğŸ‘¤ æœƒå“¡ç™»å…¥</h2>
                    <p class="subtitle">æ­¡è¿å›ä¾†ï¼è«‹ç™»å…¥æ‚¨çš„ myanLife æœƒå“¡å¸³è™Ÿ</p>
                    <div class="form-group">
                        <label>é›»å­ä¿¡ç®±æˆ–æ‰‹æ©Ÿè™Ÿç¢¼</label>
                        <input type="text" placeholder="è«‹è¼¸å…¥ä¿¡ç®±æˆ–æ‰‹æ©Ÿè™Ÿç¢¼">
                    </div>
                    <div class="form-group">
                        <label>å¯†ç¢¼</label>
                        <input type="password" placeholder="è«‹è¼¸å…¥å¯†ç¢¼">
                    </div>
                    <button class="login-btn" onclick="login('member')">ç™»å…¥</button>
                    <p style="text-align: center; margin-top: 15px; color: #666; font-size: 0.9em;">
                        é‚„æ²’æœ‰å¸³è™Ÿï¼Ÿ<a href="#" style="color: #667eea;">ç«‹å³è¨»å†Š</a>
                    </p>
                </div>
            </div>

            <!-- ä¸»è¦å…§å®¹ -->
            <div class="main-content" id="memberContent">
            <div class="mockup-header">
                <div class="mockup-title">
                    <span>ğŸŒ</span>
                    <span>myanLife æœƒå“¡ç«¯</span>
                </div>
                <div class="mockup-nav">
                    <div class="nav-item active" onclick="switchMemberView('home')">é¦–é </div>
                    <div class="nav-item" onclick="switchMemberView('products')">å•†å“</div>
                    <div class="nav-item" onclick="switchMemberView('orders')">æˆ‘çš„è¨‚å–®</div>
                    <div class="nav-item" onclick="switchMemberView('tasks')">ä»»å‹™ä¸­å¿ƒ</div>
                    <div class="nav-item" onclick="switchMemberView('settings')">è¨­å®š</div>
                    <div class="user-info">
                        <div class="avatar">å¼µ</div>
                        <span>å¼µå°æ˜</span>
                    </div>
                    <button class="logout-btn" onclick="logout('member')">ç™»å‡º</button>
                </div>
            </div>

            <!-- é¦–é è¦–åœ– -->
            <div id="memberHome" class="content-view active">
                <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-number" id="memberStatTotalOrders">0</div>
                    <div class="stat-label">æˆ‘çš„è¨‚å–®</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-number" id="memberStatPendingOrders">0</div>
                    <div class="stat-label">å¾…æ ¸éŠ·</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-number" id="memberStatActiveTasks">0</div>
                    <div class="stat-label">é€²è¡Œä¸­ä»»å‹™</div>
                </div>
                <div class="stat-card info">
                    <div class="stat-number" id="memberStatPoints">0</div>
                    <div class="stat-label">ä»»å‹™ç©åˆ†</div>
                </div>
            </div>

            <h3 style="margin-bottom: 15px; color: #333;">ğŸ”¥ ç†±é–€å•†å“</h3>

            <!-- æœç´¢å’Œç¯©é¸å€ -->
            <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="margin-bottom: 15px;">
                    <input type="text" id="productSearch" placeholder="ğŸ” æœç´¢å•†å“åç¨±æˆ–å•†å®¶..." style="width: 100%; padding: 12px 16px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em;" oninput="filterProducts()">
                </div>
                <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 10px;">
                    <button class="filter-btn active" data-category="all" onclick="selectCategory(this, 'all')">å…¨éƒ¨</button>
                    <button class="filter-btn" data-category="é¤é£²ç¾é£Ÿ" onclick="selectCategory(this, 'é¤é£²ç¾é£Ÿ')">ğŸ” é¤é£²ç¾é£Ÿ</button>
                    <button class="filter-btn" data-category="æ—…éŠäº¤é€š" onclick="selectCategory(this, 'æ—…éŠäº¤é€š')">âœˆï¸ æ—…éŠäº¤é€š</button>
                    <button class="filter-btn" data-category="é£¯åº—ä½å®¿" onclick="selectCategory(this, 'é£¯åº—ä½å®¿')">ğŸ¨ é£¯åº—ä½å®¿</button>
                    <button class="filter-btn" data-category="å¨›æ¨‚ä¼‘é–’" onclick="selectCategory(this, 'å¨›æ¨‚ä¼‘é–’')">ğŸ­ å¨›æ¨‚ä¼‘é–’</button>
                </div>
            </div>

            <div id="productGrid" class="content-grid">
                <!-- å•†å“å¡ç‰‡å°‡ç”± renderProducts() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
            </div>

            <h3 style="margin-bottom: 15px; margin-top: 40px; color: #333;">âœ… æˆ‘çš„ä»»å‹™</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ä»»å‹™åç¨±</th>
                        <th>ä»»å‹™é¡å‹</th>
                        <th>çå‹µç©åˆ†</th>
                        <th>é€²åº¦</th>
                        <th>ç‹€æ…‹</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>å®Œæˆé¦–æ¬¡è³¼ç‰©</td>
                        <td>æ–°æ‰‹ä»»å‹™</td>
                        <td>+100 åˆ†</td>
                        <td>1/1</td>
                        <td><span class="status-badge active">å·²å®Œæˆ</span></td>
                    </tr>
                    <tr>
                        <td>é€£çºŒ7å¤©ç™»å…¥</td>
                        <td>æ¯æ—¥ä»»å‹™</td>
                        <td>+50 åˆ†</td>
                        <td>5/7</td>
                        <td><span class="status-badge pending">é€²è¡Œä¸­</span></td>
                    </tr>
                    <tr>
                        <td>é‚€è«‹å¥½å‹è¨»å†Š</td>
                        <td>æ¨å»£ä»»å‹™</td>
                        <td>+200 åˆ†</td>
                        <td>2/5</td>
                        <td><span class="status-badge pending">é€²è¡Œä¸­</span></td>
                    </tr>
                </tbody>
            </table>

            </div>
            <!-- é¦–é è¦–åœ–çµæŸ -->

            <!-- å•†å“è¦–åœ– -->
            <div id="memberProducts" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ›ï¸ æ‰€æœ‰å•†å“</h3>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterProducts('all', this)">å…¨éƒ¨å•†å“</button>
                    <button class="filter-tab" onclick="filterProducts(1, this)">ğŸ” é¤é£²ç¾é£Ÿ</button>
                    <button class="filter-tab" onclick="filterProducts(2, this)">âœˆï¸ æ—…éŠäº¤é€š</button>
                    <button class="filter-tab" onclick="filterProducts(3, this)">ğŸ¨ é£¯åº—ä½å®¿</button>
                    <button class="filter-tab" onclick="filterProducts(4, this)">ğŸ­ å¨›æ¨‚ä¼‘é–’</button>
                </div>

                <div class="content-grid" id="productsGrid">
                    <!-- å•†å“å¡ç‰‡å°‡ç”± renderProducts() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                </div>
            </div>
            <!-- å•†å“è¦–åœ–çµæŸ -->

            <!-- æˆ‘çš„è¨‚å–®è¦–åœ– -->
            <div id="memberOrders" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ“¦ æˆ‘çš„è¨‚å–®</h3>

                <div class="filter-tabs">
                    <button class="filter-tab active">å…¨éƒ¨è¨‚å–®</button>
                    <button class="filter-tab">å¾…ä»˜æ¬¾</button>
                    <button class="filter-tab">å¾…æ ¸éŠ·</button>
                    <button class="filter-tab">å·²å®Œæˆ</button>
                    <button class="filter-tab">å·²å–æ¶ˆ</button>
                </div>

                <div id="ordersContainer">
                    <!-- è¨‚å–®å¡ç‰‡å°‡ç”± renderOrders() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                </div>
            </div>
            <!-- æˆ‘çš„è¨‚å–®è¦–åœ–çµæŸ -->

            <!-- ä»»å‹™ä¸­å¿ƒè¦–åœ– -->
            <div id="memberTasks" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">âœ… ä»»å‹™ä¸­å¿ƒ</h3>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card info">
                        <div class="stat-number" id="memberTasksTotalPoints">0</div>
                        <div class="stat-label">æˆ‘çš„ç¸½ç©åˆ†</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number" id="memberTasksActiveCount">0</div>
                        <div class="stat-label">é€²è¡Œä¸­ä»»å‹™</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number" id="memberTasksCompletedCount">0</div>
                        <div class="stat-label">å·²å®Œæˆä»»å‹™</div>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active">å…¨éƒ¨ä»»å‹™</button>
                    <button class="filter-tab">æ–°æ‰‹ä»»å‹™</button>
                    <button class="filter-tab">æ¯æ—¥ä»»å‹™</button>
                    <button class="filter-tab">æ¨å»£ä»»å‹™</button>
                    <button class="filter-tab">å·²å®Œæˆ</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ä»»å‹™åç¨±</th>
                            <th>ä»»å‹™é¡å‹</th>
                            <th>çå‹µç©åˆ†</th>
                            <th>é€²åº¦</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="memberTasksTable">
                        <!-- ä»»å‹™è³‡æ–™å°‡ç”± renderTasks() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ é—œæ–¼ä»»å‹™ç©åˆ†ï¼š</strong>å®Œæˆä»»å‹™å¯ç²å¾—ç©åˆ†çå‹µï¼Œç©åˆ†å¯ç”¨æ–¼å…Œæ›å„ªæƒ åˆ¸ã€å°ˆå±¬å•†å“æˆ–åƒåŠ æŠ½çæ´»å‹•ã€‚æ¯æ—¥ä»»å‹™æœƒåœ¨æ¯å¤© 00:00 (GMT+6:30) é‡ç½®ã€‚
                </div>
            </div>
            <!-- ä»»å‹™ä¸­å¿ƒè¦–åœ–çµæŸ -->

            <!-- è¨­å®šè¦–åœ– -->
            <div id="memberSettings" class="content-view">
                <h3 style="margin-bottom: 20px; color: #333;">âš™ï¸ å¸³è™Ÿè¨­å®š</h3>

                <div class="settings-section">
                    <div class="settings-title">
                        <span>ğŸ‘¤</span>
                        <span>å€‹äººè³‡æ–™</span>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å§“å</div>
                        <div class="settings-value">å¼µå°æ˜</div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">é›»å­ä¿¡ç®±</div>
                        <div class="settings-value">zhang@example.com</div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">æ‰‹æ©Ÿè™Ÿç¢¼</div>
                        <div class="settings-value">+95-9-123-456789</div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">æœƒå“¡ç­‰ç´š</div>
                        <div class="settings-value">ğŸŒŸ é»ƒé‡‘æœƒå“¡</div>
                    </div>
                    <button class="quick-action-btn" style="margin-top: 15px;" onclick="showEditProfile()">ç·¨è¼¯å€‹äººè³‡æ–™</button>
                </div>

                <div class="settings-section">
                    <div class="settings-title">
                        <span>ğŸŒ</span>
                        <span>åå¥½è¨­å®š (user_preferences)</span>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">èªè¨€</div>
                        <select id="langSelect" style="padding: 8px 12px; border: 1px solid #e0e0e0; border-radius: 6px;" onchange="handleLangChange(this.value)">
                            <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                            <option value="en">English</option>
                            <option value="my">á€™á€¼á€”á€ºá€™á€¬á€˜á€¬á€á€¬ (ç·¬ç”¸èª)</option>
                            <option value="th">à¹„à¸—à¸¢ (æ³°èª)</option>
                        </select>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">è²¨å¹£é¡¯ç¤º</div>
                        <select id="currencySelect" style="padding: 8px 12px; border: 1px solid #e0e0e0; border-radius: 6px;" onchange="handleCurrencyChange(this.value)">
                            <option value="MMK">MMK (ç·¬ç”¸å…ƒ)</option>
                            <option value="USD">USD (ç¾å…ƒ)</option>
                            <option value="TWD">TWD (æ–°å°å¹£)</option>
                            <option value="THB">THB (æ³°éŠ–)</option>
                        </select>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">è¨‚é–±é›»å­å ±</div>
                        <label class="switch">
                            <input type="checkbox" id="newsletterToggle" checked onchange="handleNewsletterToggle(this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">æ¥æ”¶æ¨æ’­é€šçŸ¥</div>
                        <label class="switch">
                            <input type="checkbox" id="pushToggle" checked onchange="handlePushToggle(this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">æ¥æ”¶ä¿ƒéŠ·è¨Šæ¯</div>
                        <label class="switch">
                            <input type="checkbox" id="promoToggle" onchange="handlePromoToggle(this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <div class="settings-title">
                        <span>ğŸ”’</span>
                        <span>å®‰å…¨è¨­å®š</span>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å¯†ç¢¼</div>
                        <button class="action-btn edit" onclick="handleChangePassword()">ä¿®æ”¹å¯†ç¢¼</button>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">é›™é‡é©—è­‰ (2FA)</div>
                        <label class="switch">
                            <input type="checkbox" id="twoFAToggle" onchange="handle2FAToggle(this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">ç¤¾ç¾¤å¸³è™Ÿé€£çµ</div>
                        <div style="display: flex; gap: 10px;">
                            <span style="color: #4267B2;">âœ“ Facebook</span>
                            <span style="color: #999;">Google</span>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <div class="settings-title">
                        <span>ğŸ’³</span>
                        <span>ä»˜æ¬¾æ–¹å¼</span>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å·²ç¶å®šä¿¡ç”¨å¡</div>
                        <div class="settings-value">Visa â€¢â€¢â€¢â€¢ 4567</div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">è¡Œå‹•æ”¯ä»˜</div>
                        <div class="settings-value">Wave Money å·²é€£çµ</div>
                    </div>
                    <button class="quick-action-btn" style="margin-top: 15px;" onclick="handleManagePayment()">ç®¡ç†ä»˜æ¬¾æ–¹å¼</button>
                </div>

                <div class="settings-section">
                    <div class="settings-title">
                        <span>â„¹ï¸</span>
                        <span>é—œæ–¼</span>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">App ç‰ˆæœ¬</div>
                        <div class="settings-value">v2.5.1</div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">æœå‹™æ¢æ¬¾</div>
                        <a href="#" style="color: #667eea;" onclick="handleViewTerms(event)">æŸ¥çœ‹</a>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">éš±ç§æ”¿ç­–</div>
                        <a href="#" style="color: #667eea;" onclick="handleViewPrivacy(event)">æŸ¥çœ‹</a>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å®¢æœä¸­å¿ƒ</div>
                        <a href="#" style="color: #667eea;" onclick="handleContactUs(event)">è¯çµ¡æˆ‘å€‘</a>
                    </div>
                </div>

                <button class="action-btn reject" style="width: 100%; margin-top: 20px; padding: 12px;" onclick="handleDeleteAccount()">åˆªé™¤å¸³è™Ÿ</button>
            </div>
            <!-- è¨­å®šè¦–åœ–çµæŸ -->

            <div class="info-note">
                <strong>ğŸ’¡ æœƒå“¡ç«¯åŠŸèƒ½ï¼š</strong>åŸºæ–¼ users è¡¨ï¼Œæ”¯æ´ email/phone_number ç™»å…¥ï¼ˆå«ç¤¾ç¾¤ç™»å…¥ï¼‰ã€‚åŠŸèƒ½åŒ…å«ï¼šç€è¦½å•†å“ (products, product_categories)ã€è³¼è²·å•†å“ (orders, order_items, payments)ã€æ ¸éŠ·å•†å“ (user_products, redemptions)ã€è©•åˆ†å•†å“ (product_ratings)ã€å®Œæˆä»»å‹™ (member_tasks, member_task_logs)ã€åå¥½è¨­å®š (user_preferences: èªè¨€/è²¨å¹£/é›»å­å ±è¨‚é–±)ã€æŸ¥çœ‹è¨‚å–®ç‹€æ…‹ (order_status_logs)ã€ä½¿ç”¨å„ªæƒ ç¢¼ (promo_codes)ã€‚æ”¯æ´ 4 ç¨®å•†å“é¡å‹ï¼šé¤é£²ç¾é£Ÿ (food_products)ã€æ—…éŠäº¤é€š (travel_products)ã€é£¯åº—ä½å®¿ (hotel_products)ã€å¨›æ¨‚ä¼‘é–’ (entertainment_products)ã€‚
            </div>
            </div>
            <!-- ä¸»è¦å…§å®¹çµæŸ -->
        </div>

        <!-- 2. å•†å®¶ç«¯ Web App -->
        <div id="merchantApp" class="mockup-container">
            <!-- ç™»å…¥ç•«é¢ -->
            <div class="login-container" id="merchantLogin">
                <div class="login-box">
                    <h2>ğŸª å•†å®¶ç™»å…¥</h2>
                    <p class="subtitle">æ­¡è¿å•†å®¶å¤¥ä¼´ï¼è«‹ç™»å…¥æ‚¨çš„å•†å®¶ç®¡ç†å¸³è™Ÿ</p>
                    <div class="form-group">
                        <label>å•†å®¶é›»å­ä¿¡ç®±</label>
                        <input type="email" placeholder="è«‹è¼¸å…¥å•†å®¶è¨»å†Šä¿¡ç®±">
                    </div>
                    <div class="form-group">
                        <label>å¯†ç¢¼</label>
                        <input type="password" placeholder="è«‹è¼¸å…¥å¯†ç¢¼">
                    </div>
                    <button class="login-btn" onclick="login('merchant')">ç™»å…¥å•†å®¶å¾Œå°</button>
                    <p style="text-align: center; margin-top: 15px; color: #666; font-size: 0.9em;">
                        é‚„æ²’æœ‰å•†å®¶å¸³è™Ÿï¼Ÿ<a href="#" style="color: #667eea;">ç”³è«‹åŠ å…¥</a>
                    </p>
                </div>
            </div>

            <!-- ä¸»è¦å…§å®¹ -->
            <div class="main-content" id="merchantContent">
            <div class="mockup-header">
                <div class="mockup-title">
                    <span>ğŸª</span>
                    <span>myanLife å•†å®¶ç«¯</span>
                </div>
                <div class="mockup-nav">
                    <div class="nav-item active" onclick="switchMerchantView('dashboard')">å„€è¡¨æ¿</div>
                    <div class="nav-item" onclick="switchMerchantView('stores')">åº—é‹ªç®¡ç†</div>
                    <div class="nav-item" onclick="switchMerchantView('products')">å•†å“ç®¡ç†</div>
                    <div class="nav-item" onclick="switchMerchantView('orders')">è¨‚å–®ç®¡ç†</div>
                    <div class="nav-item" onclick="switchMerchantView('tasks')">ä»»å‹™ä¸­å¿ƒ</div>
                    <div class="nav-item" onclick="switchMerchantView('settings')">è¨­å®š</div>
                    <div class="user-info">
                        <div class="avatar">ğŸ•</div>
                        <span>Pizza Hut Myanmar</span>
                    </div>
                    <button class="logout-btn" onclick="logout('merchant')">ç™»å‡º</button>
                </div>
            </div>

            <!-- å„€è¡¨æ¿è¦–åœ– -->
            <div id="merchantDashboard" class="content-view active">
                <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-number" id="merchantMonthlyOrders">0</div>
                    <div class="stat-label">æœ¬æœˆè¨‚å–®</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-number" id="merchantMonthlyRevenue">0</div>
                    <div class="stat-label">æœ¬æœˆç‡Ÿæ”¶ (MMK)</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-number" id="merchantPendingOrders">0</div>
                    <div class="stat-label">å¾…è™•ç†è¨‚å–®</div>
                </div>
                <div class="stat-card info">
                    <div class="stat-number" id="merchantAverageRating">0 â­</div>
                    <div class="stat-label">å¹³å‡è©•åˆ†</div>
                </div>
            </div>

            <h3 style="margin-bottom: 15px; color: #333;">ğŸ¬ æˆ‘çš„åº—é‹ª</h3>
            <div class="content-grid" id="merchantDashboardStoresGrid">
                <!-- åº—é‹ªå¡ç‰‡å°‡ç”± renderMerchantDashboard() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
            </div>

            <h3 style="margin-bottom: 15px; margin-top: 40px; color: #333;">ğŸ« å•†å“ç®¡ç†</h3>
            <div class="quick-actions">
                <button class="quick-action-btn" onclick="showAddProduct()">â• æ–°å¢å•†å“</button>
                <button class="quick-action-btn" onclick="showSalesStats()">ğŸ“Š éŠ·å”®çµ±è¨ˆ</button>
                <button class="quick-action-btn">âš™ï¸ åå¥½è¨­å®š</button>
            </div>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>å•†å“åç¨±</th>
                        <th>é¡åˆ¥</th>
                        <th>åƒ¹æ ¼ (MMK)</th>
                        <th>å·²å”®/åº«å­˜</th>
                        <th>è©•åˆ†</th>
                        <th>ç‹€æ…‹</th>
                        <th>æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody id="merchantDashboardProductsTable">
                    <!-- å•†å“è³‡æ–™å°‡ç”± renderMerchantDashboard() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                </tbody>
            </table>

            <h3 style="margin-bottom: 15px; margin-top: 40px; color: #333;">âœ… å•†å®¶ä»»å‹™</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ä»»å‹™åç¨±</th>
                        <th>ä»»å‹™é¡å‹</th>
                        <th>çå‹µ</th>
                        <th>é€²åº¦</th>
                        <th>ç‹€æ…‹</th>
                    </tr>
                </thead>
                <tbody id="merchantDashboardTasksTable">
                    <!-- ä»»å‹™è³‡æ–™å°‡ç”± renderMerchantDashboard() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                </tbody>
            </table>

            </div>
            <!-- å„€è¡¨æ¿è¦–åœ–çµæŸ -->

            <!-- åº—é‹ªç®¡ç†è¦–åœ– -->
            <div id="merchantStores" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ¬ åº—é‹ªç®¡ç†</h3>

                <div class="quick-actions" style="margin-bottom: 20px;">
                    <button class="quick-action-btn" onclick="showAddStore()">â• æ–°å¢åº—é‹ª</button>
                    <button class="quick-action-btn">ğŸ“Š ç‡Ÿæ¥­çµ±è¨ˆ</button>
                </div>

                <div class="content-grid" id="merchantStoresGrid">
                    <!-- åº—é‹ªå¡ç‰‡å°‡ç”± renderMerchantStores() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                </div>

                <h3 style="margin-bottom: 15px; margin-top: 40px; color: #333;">ğŸ“Š å„åº—é‹ªç‡Ÿæ¥­æ•¸æ“š</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>åº—é‹ªåç¨±</th>
                            <th>æœ¬æœˆè¨‚å–®</th>
                            <th>æœ¬æœˆç‡Ÿæ”¶</th>
                            <th>å¹³å‡è©•åˆ†</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="merchantStoresStatsTable">
                        <!-- åº—é‹ªæ•¸æ“šå°‡ç”± renderMerchantStores() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>
            </div>
            <!-- åº—é‹ªç®¡ç†è¦–åœ–çµæŸ -->

            <!-- å•†å“ç®¡ç†è¦–åœ– -->
            <div id="merchantProducts" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ« å•†å“ç®¡ç†</h3>

                <div class="quick-actions" style="margin-bottom: 20px;">
                    <button class="quick-action-btn" onclick="showAddProduct()">â• æ–°å¢å•†å“</button>
                    <button class="quick-action-btn" onclick="showSalesStats()">ğŸ“Š éŠ·å”®çµ±è¨ˆ</button>
                    <button class="quick-action-btn" onclick="showToast('æ‰¹æ¬¡åŒ¯å…¥åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“¦ æ‰¹æ¬¡åŒ¯å…¥</button>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterMerchantProducts('all', this)">å…¨éƒ¨å•†å“</button>
                    <button class="filter-tab" onclick="filterMerchantProducts('approved', this)">ä¸Šæ¶ä¸­</button>
                    <button class="filter-tab" onclick="filterMerchantProducts('pending', this)">å¯©æ ¸ä¸­</button>
                    <button class="filter-tab" onclick="filterMerchantProducts('rejected', this)">å·²ä¸‹æ¶</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>å•†å“åç¨±</th>
                            <th>é¡åˆ¥</th>
                            <th>åƒ¹æ ¼ (MMK)</th>
                            <th>å·²å”®/åº«å­˜</th>
                            <th>è©•åˆ†</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="merchantProductsTable">
                        <!-- å•†å“è³‡æ–™å°‡ç”± renderMerchantProducts() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                </table>
            </div>
            <!-- å•†å“ç®¡ç†è¦–åœ–çµæŸ -->

            <!-- è¨‚å–®ç®¡ç†è¦–åœ– -->
            <div id="merchantOrders" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ“¦ è¨‚å–®ç®¡ç†</h3>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterMerchantOrders('all', this)">å…¨éƒ¨è¨‚å–®</button>
                    <button class="filter-tab" onclick="filterMerchantOrders('processing', this)">å¾…è™•ç†</button>
                    <button class="filter-tab" onclick="filterMerchantOrders('pending', this)">å¾…æ ¸éŠ·</button>
                    <button class="filter-tab" onclick="filterMerchantOrders('completed', this)">å·²å®Œæˆ</button>
                    <button class="filter-tab" onclick="filterMerchantOrders('cancelled', this)">å·²å–æ¶ˆ</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>è¨‚å–®ç·¨è™Ÿ</th>
                            <th>é¡§å®¢</th>
                            <th>å•†å“</th>
                            <th>åº—é‹ª</th>
                            <th>é‡‘é¡ (MMK)</th>
                            <th>è¨‚å–®æ™‚é–“</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="merchantOrdersTable">
                        <!-- è¨‚å–®è³‡æ–™å°‡ç”± renderMerchantOrders() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>
            </div>
            <!-- è¨‚å–®ç®¡ç†è¦–åœ–çµæŸ -->

            <!-- ä»»å‹™ä¸­å¿ƒè¦–åœ– -->
            <div id="merchantTasks" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">âœ… å•†å®¶ä»»å‹™ä¸­å¿ƒ</h3>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card info">
                        <div class="stat-number" id="merchantTasksBadge">-</div>
                        <div class="stat-label">ç•¶å‰æ¨™ç« </div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number" id="merchantTasksActive">0</div>
                        <div class="stat-label">é€²è¡Œä¸­ä»»å‹™</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number" id="merchantTasksCompleted">0</div>
                        <div class="stat-label">å·²å®Œæˆä»»å‹™</div>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active">å…¨éƒ¨ä»»å‹™</button>
                    <button class="filter-tab">æ–°æ‰‹ä»»å‹™</button>
                    <button class="filter-tab">æ¥­ç¸¾ä»»å‹™</button>
                    <button class="filter-tab">å“è³ªä»»å‹™</button>
                    <button class="filter-tab">å·²å®Œæˆ</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ä»»å‹™åç¨±</th>
                            <th>ä»»å‹™é¡å‹</th>
                            <th>çå‹µ</th>
                            <th>é€²åº¦</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="merchantTasksTable">
                        <!-- ä»»å‹™è³‡æ–™å°‡ç”± renderMerchantTasks() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ é—œæ–¼å•†å®¶ä»»å‹™ï¼š</strong>å®Œæˆä»»å‹™å¯ç²å¾—å¹³å°æ¨è–¦ã€é™ä½æŠ½æˆã€å°ˆå±¬æ¨™ç« ç­‰çå‹µã€‚æŒçºŒä¿æŒå„ªè³ªæœå‹™ï¼Œè§£é–æ›´å¤šç‰¹æ¬Šï¼
                </div>
            </div>
            <!-- ä»»å‹™ä¸­å¿ƒè¦–åœ–çµæŸ -->

            <!-- è¨­å®šè¦–åœ– -->
            <div id="merchantSettings" class="content-view">
                <h3 style="margin-bottom: 20px; color: #333;">âš™ï¸ å•†å®¶è¨­å®š</h3>

                <div class="settings-section">
                    <div class="settings-title">
                        <span>ğŸª</span>
                        <span>å•†å®¶è³‡è¨Š</span>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å•†å®¶åç¨±</div>
                        <div class="settings-value">Pizza Hut Myanmar</div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å•†å®¶é›»å­ä¿¡ç®±</div>
                        <div class="settings-value">contact@pizzahut.mm</div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">çµ±ä¸€ç·¨è™Ÿ</div>
                        <div class="settings-value">MM-12345678</div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">åº—é‹ªæ•¸é‡</div>
                        <div class="settings-value">3 é–“</div>
                    </div>
                    <button class="quick-action-btn" style="margin-top: 15px;">ç·¨è¼¯å•†å®¶è³‡æ–™</button>
                </div>

                <div class="settings-section">
                    <div class="settings-title">
                        <span>ğŸŒ</span>
                        <span>åå¥½è¨­å®š (merchant_preferences)</span>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å¾Œå°èªè¨€</div>
                        <select style="padding: 8px 12px; border: 1px solid #e0e0e0; border-radius: 6px;">
                            <option>ç¹é«”ä¸­æ–‡</option>
                            <option>English</option>
                            <option>á€™á€¼á€”á€ºá€™á€¬á€˜á€¬á€á€¬ (ç·¬ç”¸èª)</option>
                            <option>à¹„à¸—à¸¢ (æ³°èª)</option>
                        </select>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">è²¨å¹£é¡¯ç¤º</div>
                        <select style="padding: 8px 12px; border: 1px solid #e0e0e0; border-radius: 6px;">
                            <option>MMK (ç·¬ç”¸å…ƒ)</option>
                            <option>USD (ç¾å…ƒ)</option>
                            <option>TWD (æ–°å°å¹£)</option>
                            <option>THB (æ³°éŠ–)</option>
                        </select>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">æ¥æ”¶è¨‚å–®é€šçŸ¥</div>
                        <label class="switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">æ¥æ”¶ç³»çµ±å…¬å‘Š</div>
                        <label class="switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">æ¥æ”¶å¹³å°æ´»å‹•è¨Šæ¯</div>
                        <label class="switch">
                            <input type="checkbox">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <div class="settings-title">
                        <span>ğŸ’°</span>
                        <span>é‡‘æµè¨­å®š</span>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">æ”¶æ¬¾å¸³æˆ¶</div>
                        <div class="settings-value">KBZ Bank â€¢â€¢â€¢â€¢ 5678</div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">çµç®—é€±æœŸ</div>
                        <div class="settings-value">æ¯æœˆ 5 è™Ÿçµç®—</div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å¹³å°æŠ½æˆ</div>
                        <div class="settings-value">8% (å„ªæƒ ä¸­)</div>
                    </div>
                    <button class="quick-action-btn" style="margin-top: 15px;">ç®¡ç†æ”¶æ¬¾æ–¹å¼</button>
                </div>

                <div class="settings-section">
                    <div class="settings-title">
                        <span>ğŸ”’</span>
                        <span>å®‰å…¨è¨­å®š</span>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å¯†ç¢¼</div>
                        <button class="action-btn edit">ä¿®æ”¹å¯†ç¢¼</button>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">é›™é‡é©—è­‰ (2FA)</div>
                        <label class="switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å“¡å·¥å­å¸³è™Ÿç®¡ç†</div>
                        <button class="action-btn approve">ç®¡ç†å­å¸³è™Ÿ (3)</button>
                    </div>
                </div>

                <div class="settings-section">
                    <div class="settings-title">
                        <span>â„¹ï¸</span>
                        <span>é—œæ–¼</span>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å•†å®¶å¾Œå°ç‰ˆæœ¬</div>
                        <div class="settings-value">v3.2.0</div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">åˆä½œæ¢æ¬¾</div>
                        <a href="#" style="color: #667eea;">æŸ¥çœ‹</a>
                    </div>
                    <div class="settings-item">
                        <div class="settings-label">å•†å®¶æœå‹™ä¸­å¿ƒ</div>
                        <a href="#" style="color: #667eea;">è¯çµ¡æˆ‘å€‘</a>
                    </div>
                </div>
            </div>
            <!-- è¨­å®šè¦–åœ–çµæŸ -->

            <div class="info-note">
                <strong>ğŸ’¡ å•†å®¶ç«¯åŠŸèƒ½ï¼š</strong>åŸºæ–¼ merchants è¡¨ï¼Œä½¿ç”¨ email ç™»å…¥ã€‚ç®¡ç†å¤šåº—é‹ª (stores)ã€æ–°å¢/ç·¨è¼¯å•†å“ (products) ä¸¦åˆ†é…åˆ°åº—é‹ª (product_stores)ã€è™•ç†è¨‚å–® (orders, order_items)ã€æŸ¥çœ‹å•†å“è©•åˆ†/è©•è«– (product_ratings)ã€å®Œæˆå•†å®¶ä»»å‹™ (merchant_tasks, merchant_task_logs)ã€åå¥½è¨­å®š (merchant_preferences: èªè¨€/è²¨å¹£)ã€æŸ¥çœ‹ç‡Ÿæ”¶çµ±è¨ˆ (payments)ã€å›è¦†é¡§å®¢è©•è«–ã€ä¸Šä¸‹æ¶å•†å“ç®¡ç†ã€‚æ”¯æ´ 4 ç¨®å•†å“é¡å‹ï¼šé¤é£²ç¾é£Ÿ (food_products)ã€æ—…éŠäº¤é€š (travel_products)ã€é£¯åº—ä½å®¿ (hotel_products)ã€å¨›æ¨‚ä¼‘é–’ (entertainment_products)ã€‚
            </div>
            </div>
            <!-- ä¸»è¦å…§å®¹çµæŸ -->
        </div>

        <!-- 3. é‹ç‡Ÿå¾Œå° -->
        <div id="operation" class="mockup-container">
            <!-- ç™»å…¥ç•«é¢ -->
            <div class="login-container" id="operationLogin">
                <div class="login-box">
                    <h2>ğŸ‘¨â€ğŸ’¼ ç®¡ç†å“¡ç™»å…¥</h2>
                    <p class="subtitle">é‹ç‡Ÿç®¡ç†å¾Œå° - å¤šåœ‹é‹ç‡Ÿç®¡ç†</p>
                    <div class="form-group">
                        <label>ç®¡ç†å“¡ä¿¡ç®±</label>
                        <input type="email" placeholder="è«‹è¼¸å…¥ç®¡ç†å“¡ä¿¡ç®±">
                    </div>
                    <div class="form-group">
                        <label>å¯†ç¢¼</label>
                        <input type="password" placeholder="è«‹è¼¸å…¥å¯†ç¢¼">
                    </div>
                    <div class="form-group">
                        <label>åœ‹å®¶/åœ°å€</label>
                        <select>
                            <option value="">é¸æ“‡æ‚¨çš„ç®¡ç†å€åŸŸ</option>
                            <option value="MM">ğŸ‡²ğŸ‡² Myanmar (ç·¬ç”¸)</option>
                            <option value="TW">ğŸ‡¹ğŸ‡¼ Taiwan (å°ç£)</option>
                            <option value="TH">ğŸ‡¹ğŸ‡­ Thailand (æ³°åœ‹)</option>
                            <option value="VN">ğŸ‡»ğŸ‡³ Vietnam (è¶Šå—)</option>
                        </select>
                    </div>
                    <button class="login-btn" onclick="login('operation')">ç™»å…¥ç®¡ç†å¾Œå°</button>
                </div>
            </div>

            <!-- ä¸»è¦å…§å®¹ -->
            <div class="main-content" id="operationContent">
            <div class="mockup-header">
                <div class="mockup-title">
                    <span>ğŸ‘¥</span>
                    <span>é‹ç‡Ÿç®¡ç†å¾Œå° - ç·¬ç”¸</span>
                </div>
                <div class="mockup-nav">
                    <div class="nav-item active" onclick="switchOperationView('dashboard')">å„€è¡¨æ¿</div>
                    <div class="nav-item" onclick="switchOperationView('members')">æœƒå“¡ç®¡ç†</div>
                    <div class="nav-item" onclick="switchOperationView('merchants')">å•†å®¶ç®¡ç†</div>
                    <div class="nav-item" onclick="switchOperationView('products')">å•†å“å¯©æ ¸</div>
                    <div class="nav-item" onclick="switchOperationView('cms')">å…§å®¹ç®¡ç†</div>
                    <div class="nav-item" onclick="switchOperationView('permissions')">æ¬Šé™ç®¡ç†</div>
                    <div class="user-info">
                        <div class="avatar">ğŸ›¡ï¸</div>
                        <span>Super Admin</span>
                    </div>
                    <button class="logout-btn" onclick="logout('operation')">ç™»å‡º</button>
                </div>
            </div>

            <!-- å„€è¡¨æ¿è¦–åœ– -->
            <div id="operationDashboard" class="content-view active">
                <div class="country-selector">
                <button class="country-btn active">ğŸ‡²ğŸ‡² ç·¬ç”¸</button>
                <button class="country-btn">ğŸ‡¹ğŸ‡¼ å°ç£</button>
                <button class="country-btn">ğŸ‡¹ğŸ‡­ æ³°åœ‹</button>
                <button class="country-btn">ğŸ‡»ğŸ‡³ è¶Šå—</button>
                <button class="country-btn">ğŸŒ è·¨åœ‹ç¸½è¦½</button>
            </div>

            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-number" id="operationDashboardMembers">0</div>
                    <div class="stat-label">è¨»å†Šæœƒå“¡</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-number" id="operationDashboardMerchants">0</div>
                    <div class="stat-label">åˆä½œå•†å®¶</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-number" id="operationDashboardPendingProducts">0</div>
                    <div class="stat-label">å¾…å¯©æ ¸å•†å“</div>
                </div>
                <div class="stat-card info">
                    <div class="stat-number" id="operationDashboardOrders">0</div>
                    <div class="stat-label">æœ¬æœˆè¨‚å–®</div>
                </div>
            </div>

            <h3 style="margin-bottom: 15px; color: #333;">ğŸ” å¾…å¯©æ ¸å•†å“ (Product Review)</h3>
            <div class="quick-actions">
                <button class="quick-action-btn" onclick="switchOperationView('dashboard')">ğŸ“Š æŸ¥çœ‹çµ±è¨ˆ</button>
                <button class="quick-action-btn" onclick="switchOperationView('members')">ğŸ‘¥ ç®¡ç†æœƒå“¡</button>
                <button class="quick-action-btn" onclick="switchOperationView('merchants')">ğŸª ç®¡ç†å•†å®¶</button>
                <button class="quick-action-btn" onclick="switchOperationView('cms')">ğŸ“° å…§å®¹ç®¡ç† (CMS)</button>
            </div>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>å•†å“åç¨±</th>
                        <th>é¡åˆ¥</th>
                        <th>å•†å®¶</th>
                        <th>åƒ¹æ ¼ (MMK)</th>
                        <th>æäº¤æ™‚é–“</th>
                        <th>ç‹€æ…‹</th>
                        <th>æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody id="operationDashboardPendingProductsTable">
                    <!-- å¾…å¯©æ ¸å•†å“å°‡ç”± renderOperationDashboard() å‹•æ…‹ç”Ÿæˆ -->
                </tbody>
            </table>

            <h3 style="margin-bottom: 15px; margin-top: 40px; color: #333;">ğŸ‘¥ ç®¡ç†å“¡èˆ‡æ¬Šé™ç®¡ç†</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ç®¡ç†å“¡</th>
                        <th>ä¿¡ç®±</th>
                        <th>è§’è‰²</th>
                        <th>æ¬Šé™ç¯„åœ</th>
                        <th>ç‹€æ…‹</th>
                        <th>æœ€å¾Œç™»å…¥</th>
                        <th>æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody id="adminManagementTable">
                    <!-- ç®¡ç†å“¡è³‡æ–™å°‡ç”± renderAdminManagement() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                </tbody>
            </table>

            <h3 style="margin-bottom: 15px; margin-top: 40px; color: #333;">ğŸ“° å…§å®¹ç®¡ç†ç³»çµ±</h3>
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <div class="dashboard-card-title">
                        <span>ğŸ–¼ï¸</span>
                        <span>æ©«å¹…å»£å‘Šç®¡ç†</span>
                    </div>
                    <p style="color: #666; margin: 10px 0;">ç®¡ç†é¦–é æ©«å¹…å»£å‘Šï¼Œæ”¯æ´åˆ†é¡ç®¡ç†</p>
                    <button class="quick-action-btn" style="margin-top: 10px;" onclick="switchOperationView('cms'); renderOperationBanners();">ç®¡ç†æ©«å¹…å»£å‘Š</button>
                </div>

                <div class="dashboard-card">
                    <div class="dashboard-card-title">
                        <span>ğŸ“°</span>
                        <span>æ–°èå…¬å‘Šç®¡ç†</span>
                    </div>
                    <p style="color: #666; margin: 10px 0;">ç™¼å¸ƒå¹³å°æ–°èèˆ‡å…¬å‘Šè¨Šæ¯</p>
                    <button class="quick-action-btn" style="margin-top: 10px;" onclick="switchOperationView('cms'); renderOperationNews();">ç®¡ç†æ–°èå…¬å‘Š</button>
                </div>

                <div class="dashboard-card">
                    <div class="dashboard-card-title">
                        <span>ğŸ“˜</span>
                        <span>é»ƒé ç®¡ç†</span>
                    </div>
                    <p style="color: #666; margin: 10px 0;">å•†å®¶ç›®éŒ„èˆ‡æœå‹™è³‡è¨Š</p>
                    <button class="quick-action-btn" style="margin-top: 10px;" onclick="switchOperationView('cms'); renderOperationYellowPages();">ç®¡ç†é»ƒé æœå‹™</button>
                </div>

                <div class="dashboard-card">
                    <div class="dashboard-card-title">
                        <span>â¤ï¸</span>
                        <span>æ…ˆå–„æ´»å‹•ç®¡ç†</span>
                    </div>
                    <p style="color: #666; margin: 10px 0;">å…¬ç›Šæ´»å‹•èˆ‡æ…ˆå–„å°ˆæ¡ˆ</p>
                    <button class="quick-action-btn" style="margin-top: 10px;" onclick="switchOperationView('cms'); renderOperationCharity();">ç®¡ç†æ…ˆå–„æ´»å‹•</button>
                </div>

                <div class="dashboard-card">
                    <div class="dashboard-card-title">
                        <span>ğŸ’¼</span>
                        <span>è·ç¼ºç®¡ç†</span>
                    </div>
                    <p style="color: #666; margin: 10px 0;">å¹³å°èˆ‡å•†å®¶è·ç¼ºè³‡è¨Š</p>
                    <button class="quick-action-btn" style="margin-top: 10px;" onclick="switchOperationView('cms'); renderOperationVacancies();">ç®¡ç†è·ç¼ºè³‡è¨Š</button>
                </div>

                <div class="dashboard-card">
                    <div class="dashboard-card-title">
                        <span>â­</span>
                        <span>å•†å“è©•è«–å¯©æ ¸</span>
                    </div>
                    <p style="color: #666; margin: 10px 0;">å¯©æ ¸èˆ‡ç®¡ç†å•†å“è©•è«–</p>
                    <button class="quick-action-btn" style="margin-top: 10px;" onclick="switchOperationView('cms'); renderOperationReviews();">ç®¡ç†å•†å“è©•è«–</button>
                </div>
            </div>

            </div>
            <!-- å„€è¡¨æ¿è¦–åœ–çµæŸ -->

            <!-- æœƒå“¡ç®¡ç†è¦–åœ– -->
            <div id="operationMembers" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ‘¥ æœƒå“¡ç®¡ç†</h3>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card">
                        <div class="stat-number" id="operationMembersTotal">0</div>
                        <div class="stat-label">ç¸½æœƒå“¡æ•¸</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number" id="operationMembersActive">0</div>
                        <div class="stat-label">æ´»èºæœƒå“¡</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number" id="operationMembersNew">0</div>
                        <div class="stat-label">æœ¬æœˆæ–°å¢</div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-number" id="operationMembersDisabled">0</div>
                        <div class="stat-label">åœç”¨å¸³è™Ÿ</div>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterOperationMembers('all', this)">å…¨éƒ¨æœƒå“¡</button>
                    <button class="filter-tab" onclick="filterOperationMembers('active', this)">æ´»èºæœƒå“¡</button>
                    <button class="filter-tab" onclick="filterOperationMembers('new', this)">æ–°è¨»å†Š</button>
                    <button class="filter-tab" onclick="filterOperationMembers('disabled', this)">å·²åœç”¨</button>
                </div>

                <div class="quick-actions" style="margin-bottom: 20px;">
                    <button class="quick-action-btn" onclick="showToast('åŒ¯å‡ºåŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“Š åŒ¯å‡ºæœƒå“¡è³‡æ–™</button>
                    <button class="quick-action-btn" onclick="showToast('æ‰¹æ¬¡é€šçŸ¥åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“§ æ‰¹æ¬¡ç™¼é€é€šçŸ¥</button>
                    <button class="quick-action-btn" onclick="showToast('æœƒå“¡è¨­å®šåŠŸèƒ½é–‹ç™¼ä¸­', 'info')">âš™ï¸ æœƒå“¡è¨­å®š</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>æœƒå“¡ID</th>
                            <th>å§“å</th>
                            <th>é›»å­ä¿¡ç®±</th>
                            <th>æ‰‹æ©Ÿè™Ÿç¢¼</th>
                            <th>è¨»å†Šæ—¥æœŸ</th>
                            <th>è¨‚å–®æ•¸</th>
                            <th>æ¶ˆè²»é‡‘é¡</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="operationMembersTable">
                        <!-- æœƒå“¡è³‡æ–™å°‡ç”± renderOperationMembers() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ æœƒå“¡ç®¡ç†èªªæ˜ï¼š</strong>å¯ç®¡ç†æ‰€æœ‰æœƒå“¡è³‡æ–™ (usersè¡¨)ã€æœƒå“¡åå¥½è¨­å®š (user_preferencesè¡¨)ã€‚æ”¯æ´æŸ¥çœ‹æœƒå“¡è©³ç´°è³‡è¨Šã€ç·¨è¼¯è³‡æ–™ã€åœç”¨/å•Ÿç”¨å¸³è™Ÿã€æ‰¹æ¬¡æ“ä½œç­‰åŠŸèƒ½ã€‚
                </div>
            </div>

            <!-- å•†å®¶ç®¡ç†è¦–åœ– -->
            <div id="operationMerchants" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸª å•†å®¶ç®¡ç†</h3>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card">
                        <div class="stat-number" id="operationMerchantsTotal">0</div>
                        <div class="stat-label">ç¸½å•†å®¶æ•¸</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number" id="operationMerchantsActive">0</div>
                        <div class="stat-label">ç‡Ÿæ¥­ä¸­</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number" id="operationMerchantsPending">0</div>
                        <div class="stat-label">å¾…å¯©æ ¸</div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-number" id="operationStoresTotal">0</div>
                        <div class="stat-label">ç¸½åº—é‹ªæ•¸</div>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterOperationMerchants('all', this)">å…¨éƒ¨å•†å®¶</button>
                    <button class="filter-tab" onclick="filterOperationMerchants('approved', this)">ç‡Ÿæ¥­ä¸­</button>
                    <button class="filter-tab" onclick="filterOperationMerchants('pending', this)">å¾…å¯©æ ¸</button>
                    <button class="filter-tab" onclick="filterOperationMerchants('disabled', this)">å·²åœç”¨</button>
                </div>

                <div class="quick-actions" style="margin-bottom: 20px;">
                    <button class="quick-action-btn" onclick="showToast('åŒ¯å‡ºåŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“Š åŒ¯å‡ºå•†å®¶è³‡æ–™</button>
                    <button class="quick-action-btn" onclick="showToast('æ‰¹æ¬¡é€šçŸ¥åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“§ æ‰¹æ¬¡é€šçŸ¥</button>
                    <button class="quick-action-btn" onclick="showToast('å•†å®¶è¨­å®šåŠŸèƒ½é–‹ç™¼ä¸­', 'info')">âš™ï¸ å•†å®¶è¨­å®š</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>å•†å®¶ID</th>
                            <th>å•†å®¶åç¨±</th>
                            <th>è¯çµ¡ä¿¡ç®±</th>
                            <th>åº—é‹ªæ•¸</th>
                            <th>å•†å“æ•¸</th>
                            <th>æœ¬æœˆè¨‚å–®</th>
                            <th>è©•åˆ†</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="operationMerchantsTable">
                        <!-- å•†å®¶è³‡æ–™å°‡ç”± renderOperationMerchants() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ å•†å®¶ç®¡ç†èªªæ˜ï¼š</strong>å¯ç®¡ç†æ‰€æœ‰å•†å®¶ (merchantsè¡¨)ã€åº—é‹ª (storesè¡¨)ã€å•†å®¶åå¥½è¨­å®š (merchant_preferencesè¡¨)ã€‚æ”¯æ´å¯©æ ¸æ–°å•†å®¶ã€ç·¨è¼¯å•†å®¶è³‡æ–™ã€æŸ¥çœ‹åº—é‹ªèˆ‡å•†å“ã€åœç”¨/å•Ÿç”¨å•†å®¶ç­‰åŠŸèƒ½ã€‚
                </div>
            </div>

            <!-- å•†å“å¯©æ ¸è¦–åœ– -->
            <div id="operationProducts" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ” å•†å“å¯©æ ¸</h3>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card warning">
                        <div class="stat-number" id="operationProductsPending">0</div>
                        <div class="stat-label">å¾…å¯©æ ¸å•†å“</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number" id="operationProductsApproved">0</div>
                        <div class="stat-label">å·²é€šé</div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-number" id="operationProductsTotal">0</div>
                        <div class="stat-label">ç¸½å•†å“æ•¸</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="operationProductsRejected">0</div>
                        <div class="stat-label">å·²æ‹’çµ•</div>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterOperationProducts('pending', this)">å¾…å¯©æ ¸</button>
                    <button class="filter-tab" onclick="filterOperationProducts('approved', this)">å·²é€šé</button>
                    <button class="filter-tab" onclick="filterOperationProducts('rejected', this)">å·²æ‹’çµ•</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>å•†å“ID</th>
                            <th>å•†å“åç¨±</th>
                            <th>é¡åˆ¥</th>
                            <th>å•†å®¶</th>
                            <th>åƒ¹æ ¼ (MMK)</th>
                            <th>æäº¤æ™‚é–“</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="operationProductsTable">
                        <!-- å•†å“è³‡æ–™å°‡ç”± renderOperationProducts() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ å•†å“å¯©æ ¸èªªæ˜ï¼š</strong>å¯©æ ¸å•†å®¶æäº¤çš„å•†å“ (productsè¡¨åŠ4ç¨®å­è¡¨ï¼šfood_productsã€travel_productsã€hotel_productsã€entertainment_products)ã€‚å¯å¯©æ ¸é€šéã€æ‹’çµ•æˆ–è¦æ±‚ä¿®æ”¹ã€‚å¯©æ ¸é€šéå¾Œå•†å“æ‰æœƒåœ¨å¹³å°ä¸Šæ¶é¡¯ç¤ºã€‚
                </div>
            </div>

            <!-- å…§å®¹ç®¡ç†è¦–åœ– -->
            <div id="operationCMS" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ“° å…§å®¹ç®¡ç†ç³»çµ± (CMS)</h3>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ–¼ï¸</span>
                            <span>æ©«å¹…å»£å‘Šç®¡ç†</span>
                        </div>
                        <div class="stats-row" style="margin: 15px 0;">
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #667eea;">12</div>
                                <div style="color: #666; font-size: 0.9em;">å•Ÿç”¨ä¸­</div>
                            </div>
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #999;">5</div>
                                <div style="color: #666; font-size: 0.9em;">è‰ç¨¿</div>
                            </div>
                        </div>
                        <button class="quick-action-btn" style="width: 100%;" onclick="renderOperationBanners()">ç®¡ç†æ©«å¹…å»£å‘Š</button>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ“°</span>
                            <span>æ–°èå…¬å‘Šç®¡ç†</span>
                        </div>
                        <div class="stats-row" style="margin: 15px 0;">
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #667eea;">28</div>
                                <div style="color: #666; font-size: 0.9em;">å·²ç™¼å¸ƒ</div>
                            </div>
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #999;">8</div>
                                <div style="color: #666; font-size: 0.9em;">è‰ç¨¿</div>
                            </div>
                        </div>
                        <button class="quick-action-btn" style="width: 100%;" onclick="renderOperationNews()">ç®¡ç†æ–°èå…¬å‘Š</button>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ“˜</span>
                            <span>é»ƒé ç®¡ç†</span>
                        </div>
                        <div class="stats-row" style="margin: 15px 0;">
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #667eea;">156</div>
                                <div style="color: #666; font-size: 0.9em;">å•†å®¶è³‡è¨Š</div>
                            </div>
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #999;">15</div>
                                <div style="color: #666; font-size: 0.9em;">åˆ†é¡</div>
                            </div>
                        </div>
                        <button class="quick-action-btn" style="width: 100%;" onclick="renderOperationYellowPages()">ç®¡ç†é»ƒé æœå‹™</button>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>â¤ï¸</span>
                            <span>æ…ˆå–„æ´»å‹•ç®¡ç†</span>
                        </div>
                        <div class="stats-row" style="margin: 15px 0;">
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #667eea;">8</div>
                                <div style="color: #666; font-size: 0.9em;">é€²è¡Œä¸­</div>
                            </div>
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #999;">23</div>
                                <div style="color: #666; font-size: 0.9em;">å·²çµæŸ</div>
                            </div>
                        </div>
                        <button class="quick-action-btn" style="width: 100%;" onclick="renderOperationCharity()">ç®¡ç†æ…ˆå–„æ´»å‹•</button>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ’¼</span>
                            <span>è·ç¼ºç®¡ç†</span>
                        </div>
                        <div class="stats-row" style="margin: 15px 0;">
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #667eea;">45</div>
                                <div style="color: #666; font-size: 0.9em;">æ‹›å‹Ÿä¸­</div>
                            </div>
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #999;">12</div>
                                <div style="color: #666; font-size: 0.9em;">å·²é—œé–‰</div>
                            </div>
                        </div>
                        <button class="quick-action-btn" style="width: 100%;" onclick="renderOperationVacancies()">ç®¡ç†è·ç¼ºè³‡è¨Š</button>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>â­</span>
                            <span>å•†å“è©•è«–å¯©æ ¸</span>
                        </div>
                        <div class="stats-row" style="margin: 15px 0;">
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #f57c00;">15</div>
                                <div style="color: #666; font-size: 0.9em;">å¾…å¯©æ ¸</div>
                            </div>
                            <div style="flex: 1; text-align: center;">
                                <div style="font-size: 2em; font-weight: bold; color: #4caf50;">523</div>
                                <div style="color: #666; font-size: 0.9em;">å·²ç™¼å¸ƒ</div>
                            </div>
                        </div>
                        <button class="quick-action-btn" style="width: 100%;" onclick="renderOperationReviews()">ç®¡ç†å•†å“è©•è«–</button>
                    </div>
                </div>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ å…§å®¹ç®¡ç†èªªæ˜ï¼š</strong>ç®¡ç†å¹³å°æ‰€æœ‰å…§å®¹ï¼ŒåŒ…å«æ©«å¹…å»£å‘Š (banners)ã€æ–°èå…¬å‘Š (news)ã€é»ƒé  (yellow_pages)ã€æ…ˆå–„æ´»å‹• (charity_activities)ã€è·ç¼º (vacancies)ã€å•†å“è©•è«–å¯©æ ¸ (product_reviews)ã€‚æ”¯æ´æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤ã€åˆ†é¡ç®¡ç†ç­‰åŠŸèƒ½ã€‚
                </div>
            </div>

            <!-- æ©«å¹…å»£å‘Šç®¡ç†è©³ç´°è¦–åœ– -->
            <div id="operationBannersView" class="content-view">
                <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <button class="quick-action-btn" onclick="switchOperationView('cms')" style="margin-right: 10px;">â† è¿”å› CMS</button>
                    <h3 style="margin: 0; color: #333;">ğŸ–¼ï¸ æ©«å¹…å»£å‘Šç®¡ç†</h3>
                </div>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card">
                        <div class="stat-number" id="bannersTotal">0</div>
                        <div class="stat-label">ç¸½æ©«å¹…æ•¸</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number" id="bannersActive">0</div>
                        <div class="stat-label">å•Ÿç”¨ä¸­</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number" id="bannersDraft">0</div>
                        <div class="stat-label">è‰ç¨¿</div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-number" id="bannersExpired">0</div>
                        <div class="stat-label">å·²éæœŸ</div>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterBanners('all', this)">å…¨éƒ¨æ©«å¹…</button>
                    <button class="filter-tab" onclick="filterBanners('active', this)">å•Ÿç”¨ä¸­</button>
                    <button class="filter-tab" onclick="filterBanners('draft', this)">è‰ç¨¿</button>
                    <button class="filter-tab" onclick="filterBanners('expired', this)">å·²éæœŸ</button>
                </div>

                <div class="quick-actions" style="margin-bottom: 20px;">
                    <button class="quick-action-btn" onclick="showAddBannerForm()">â• æ–°å¢æ©«å¹…</button>
                    <button class="quick-action-btn" onclick="showBannerCategoryManagement()">ğŸ“ åˆ†é¡ç®¡ç†</button>
                    <button class="quick-action-btn" onclick="showBannerSortSettings()">ğŸ”„ æ’åºè¨­å®š</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>æ©«å¹…ID</th>
                            <th>æ¨™é¡Œ</th>
                            <th>åˆ†é¡</th>
                            <th>ä½ç½®</th>
                            <th>é»æ“Šæ¬¡æ•¸</th>
                            <th>å±•ç¤ºæœŸé–“</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="bannersTable">
                        <!-- æ©«å¹…è³‡æ–™å°‡ç”± renderOperationBanners() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ æ©«å¹…èªªæ˜ï¼š</strong>ç®¡ç†å¹³å°é¦–é æ©«å¹…å»£å‘Šï¼Œæ”¯æ´è¨­å®šå±•ç¤ºä½ç½®ã€æ™‚é–“ã€ç›®æ¨™é€£çµç­‰ã€‚å¯è¨­å®šå„ªå…ˆé †åºæ§åˆ¶å±•ç¤ºé †åºã€‚
                </div>
            </div>

            <!-- æ–°èå…¬å‘Šç®¡ç†è©³ç´°è¦–åœ– -->
            <div id="operationNewsView" class="content-view">
                <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <button class="quick-action-btn" onclick="switchOperationView('cms')" style="margin-right: 10px;">â† è¿”å› CMS</button>
                    <h3 style="margin: 0; color: #333;">ğŸ“° æ–°èå…¬å‘Šç®¡ç†</h3>
                </div>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card">
                        <div class="stat-number" id="newsTotal">0</div>
                        <div class="stat-label">ç¸½æ–°èæ•¸</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number" id="newsPublished">0</div>
                        <div class="stat-label">å·²ç™¼å¸ƒ</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number" id="newsDraft">0</div>
                        <div class="stat-label">è‰ç¨¿</div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-number" id="newsViews">0</div>
                        <div class="stat-label">ç¸½ç€è¦½æ•¸</div>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterNews('all', this)">å…¨éƒ¨æ–°è</button>
                    <button class="filter-tab" onclick="filterNews('published', this)">å·²ç™¼å¸ƒ</button>
                    <button class="filter-tab" onclick="filterNews('draft', this)">è‰ç¨¿</button>
                    <button class="filter-tab" onclick="filterNews('featured', this)">ç²¾é¸</button>
                </div>

                <div class="quick-actions" style="margin-bottom: 20px;">
                    <button class="quick-action-btn" onclick="showToast('æ–°å¢æ–°èåŠŸèƒ½é–‹ç™¼ä¸­', 'info')">â• æ–°å¢æ–°è</button>
                    <button class="quick-action-btn" onclick="showToast('åˆ†é¡ç®¡ç†åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“ åˆ†é¡ç®¡ç†</button>
                    <button class="quick-action-btn" onclick="showToast('æ‰¹æ¬¡ç™¼å¸ƒåŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“¤ æ‰¹æ¬¡ç™¼å¸ƒ</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>æ–°èID</th>
                            <th>æ¨™é¡Œ</th>
                            <th>åˆ†é¡</th>
                            <th>ä½œè€…</th>
                            <th>ç€è¦½æ•¸</th>
                            <th>ç™¼å¸ƒæ™‚é–“</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="newsTable">
                        <!-- æ–°èè³‡æ–™å°‡ç”± renderOperationNews() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ æ–°èèªªæ˜ï¼š</strong>ç™¼å¸ƒå¹³å°æ–°èèˆ‡å…¬å‘Šè¨Šæ¯ï¼Œæ”¯æ´å¯Œæ–‡æœ¬ç·¨è¼¯ã€åœ–ç‰‡ä¸Šå‚³ã€åˆ†é¡ç®¡ç†ã€å®šæ™‚ç™¼å¸ƒç­‰åŠŸèƒ½ã€‚
                </div>
            </div>

            <!-- é»ƒé ç®¡ç†è©³ç´°è¦–åœ– -->
            <div id="operationYellowPagesView" class="content-view">
                <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <button class="quick-action-btn" onclick="switchOperationView('cms')" style="margin-right: 10px;">â† è¿”å› CMS</button>
                    <h3 style="margin: 0; color: #333;">ğŸ“˜ é»ƒé ç®¡ç†</h3>
                </div>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card">
                        <div class="stat-number" id="yellowPagesTotal">0</div>
                        <div class="stat-label">ç¸½é»ƒé æ•¸</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number" id="yellowPagesActive">0</div>
                        <div class="stat-label">å•Ÿç”¨ä¸­</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number" id="yellowPagesPending">0</div>
                        <div class="stat-label">å¾…å¯©æ ¸</div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-number" id="yellowPagesCategories">0</div>
                        <div class="stat-label">åˆ†é¡æ•¸é‡</div>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterYellowPages('all', this)">å…¨éƒ¨é»ƒé </button>
                    <button class="filter-tab" onclick="filterYellowPages('active', this)">å•Ÿç”¨ä¸­</button>
                    <button class="filter-tab" onclick="filterYellowPages('pending', this)">å¾…å¯©æ ¸</button>
                    <button class="filter-tab" onclick="filterYellowPages('expired', this)">å·²éæœŸ</button>
                </div>

                <div class="quick-actions" style="margin-bottom: 20px;">
                    <button class="quick-action-btn" onclick="showToast('æ–°å¢é»ƒé åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">â• æ–°å¢é»ƒé </button>
                    <button class="quick-action-btn" onclick="showToast('åˆ†é¡ç®¡ç†åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“ åˆ†é¡ç®¡ç†</button>
                    <button class="quick-action-btn" onclick="showToast('åŒ¯å‡ºåŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“Š åŒ¯å‡ºè³‡æ–™</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>é»ƒé ID</th>
                            <th>å•†å®¶åç¨±</th>
                            <th>åˆ†é¡</th>
                            <th>è¯çµ¡é›»è©±</th>
                            <th>åœ°å€</th>
                            <th>ç€è¦½æ•¸</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="yellowPagesTable">
                        <!-- é»ƒé è³‡æ–™å°‡ç”± renderOperationYellowPages() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ é»ƒé èªªæ˜ï¼š</strong>å•†å®¶ç›®éŒ„èˆ‡æœå‹™è³‡è¨Šç®¡ç†ï¼Œæä¾›å•†å®¶è¯çµ¡æ–¹å¼ã€ç‡Ÿæ¥­æ™‚é–“ã€æœå‹™é …ç›®ç­‰è©³ç´°è³‡è¨Šã€‚æ”¯æ´åˆ†é¡æœå°‹èˆ‡åœ°åœ–å®šä½ã€‚
                </div>
            </div>

            <!-- æ…ˆå–„æ´»å‹•ç®¡ç†è©³ç´°è¦–åœ– -->
            <div id="operationCharityView" class="content-view">
                <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <button class="quick-action-btn" onclick="switchOperationView('cms')" style="margin-right: 10px;">â† è¿”å› CMS</button>
                    <h3 style="margin: 0; color: #333;">â¤ï¸ æ…ˆå–„æ´»å‹•ç®¡ç†</h3>
                </div>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card">
                        <div class="stat-number" id="charityTotal">0</div>
                        <div class="stat-label">ç¸½æ´»å‹•æ•¸</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number" id="charityOngoing">0</div>
                        <div class="stat-label">é€²è¡Œä¸­</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number" id="charityUpcoming">0</div>
                        <div class="stat-label">å³å°‡é–‹å§‹</div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-number" id="charityCompleted">0</div>
                        <div class="stat-label">å·²çµæŸ</div>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterCharity('all', this)">å…¨éƒ¨æ´»å‹•</button>
                    <button class="filter-tab" onclick="filterCharity('ongoing', this)">é€²è¡Œä¸­</button>
                    <button class="filter-tab" onclick="filterCharity('upcoming', this)">å³å°‡é–‹å§‹</button>
                    <button class="filter-tab" onclick="filterCharity('completed', this)">å·²çµæŸ</button>
                </div>

                <div class="quick-actions" style="margin-bottom: 20px;">
                    <button class="quick-action-btn" onclick="showToast('æ–°å¢æ´»å‹•åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">â• æ–°å¢æ´»å‹•</button>
                    <button class="quick-action-btn" onclick="showToast('åˆ†é¡ç®¡ç†åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“ åˆ†é¡ç®¡ç†</button>
                    <button class="quick-action-btn" onclick="showToast('å ±å‘ŠåŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“Š æ´»å‹•å ±å‘Š</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>æ´»å‹•ID</th>
                            <th>æ´»å‹•åç¨±</th>
                            <th>åˆ†é¡</th>
                            <th>ç›®æ¨™é‡‘é¡</th>
                            <th>å·²å‹Ÿé›†</th>
                            <th>æ´»å‹•æœŸé–“</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="charityTable">
                        <!-- æ…ˆå–„æ´»å‹•è³‡æ–™å°‡ç”± renderOperationCharity() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ æ´»å‹•èªªæ˜ï¼š</strong>å…¬ç›Šæ´»å‹•èˆ‡æ…ˆå–„å°ˆæ¡ˆç®¡ç†ï¼Œæ”¯æ´ç·šä¸Šå‹Ÿæ¬¾ã€å¿—å·¥æ‹›å‹Ÿã€æ´»å‹•å ±åç­‰åŠŸèƒ½ã€‚å¯è¿½è¹¤å‹Ÿæ¬¾é€²åº¦èˆ‡åƒèˆ‡äººæ•¸ã€‚
                </div>
            </div>

            <!-- å•†å“è©•è«–ç®¡ç†è©³ç´°è¦–åœ– -->
            <div id="operationReviewsView" class="content-view">
                <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <button class="quick-action-btn" onclick="switchOperationView('cms')" style="margin-right: 10px;">â† è¿”å› CMS</button>
                    <h3 style="margin: 0; color: #333;">â­ å•†å“è©•è«–ç®¡ç†</h3>
                </div>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card">
                        <div class="stat-number" id="reviewsTotal">0</div>
                        <div class="stat-label">ç¸½è©•è«–æ•¸</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number" id="reviewsPending">0</div>
                        <div class="stat-label">å¾…å¯©æ ¸</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number" id="reviewsApproved">0</div>
                        <div class="stat-label">å·²ç™¼å¸ƒ</div>
                    </div>
                    <div class="stat-card danger">
                        <div class="stat-number" id="reviewsReported">0</div>
                        <div class="stat-label">è¢«æª¢èˆ‰</div>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterReviews('all', this)">å…¨éƒ¨è©•è«–</button>
                    <button class="filter-tab" onclick="filterReviews('pending', this)">å¾…å¯©æ ¸</button>
                    <button class="filter-tab" onclick="filterReviews('approved', this)">å·²ç™¼å¸ƒ</button>
                    <button class="filter-tab" onclick="filterReviews('reported', this)">è¢«æª¢èˆ‰</button>
                </div>

                <div class="quick-actions" style="margin-bottom: 20px;">
                    <button class="quick-action-btn" onclick="showToast('æ‰¹æ¬¡å¯©æ ¸åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">âœ… æ‰¹æ¬¡å¯©æ ¸</button>
                    <button class="quick-action-btn" onclick="showToast('æª¢èˆ‰è™•ç†åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">âš ï¸ è™•ç†æª¢èˆ‰</button>
                    <button class="quick-action-btn" onclick="showToast('åŒ¯å‡ºåŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“Š åŒ¯å‡ºå ±è¡¨</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>è©•è«–ID</th>
                            <th>å•†å“</th>
                            <th>æœƒå“¡</th>
                            <th>è©•åˆ†</th>
                            <th>è©•è«–å…§å®¹</th>
                            <th>ç™¼å¸ƒæ™‚é–“</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="reviewsTable">
                        <!-- è©•è«–è³‡æ–™å°‡ç”± renderOperationReviews() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ è©•è«–èªªæ˜ï¼š</strong>å¯©æ ¸èˆ‡ç®¡ç†å•†å“è©•è«–ï¼Œç¢ºä¿è©•è«–å…§å®¹ç¬¦åˆå¹³å°è¦ç¯„ã€‚å¯è™•ç†ä¸ç•¶è©•è«–ã€å›è¦†æœƒå“¡ã€è¿½è¹¤æª¢èˆ‰æ¡ˆä»¶ç­‰ã€‚
                </div>
            </div>

            <!-- è·ç¼ºç®¡ç†è©³ç´°è¦–åœ– -->
            <div id="operationVacanciesView" class="content-view">
                <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <button class="quick-action-btn" onclick="switchOperationView('cms')" style="margin-right: 10px;">â† è¿”å› CMS</button>
                    <h3 style="margin: 0; color: #333;">ğŸ’¼ è·ç¼ºç®¡ç†</h3>
                </div>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card">
                        <div class="stat-number" id="vacanciesTotal">0</div>
                        <div class="stat-label">ç¸½è·ç¼ºæ•¸</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number" id="vacanciesActive">0</div>
                        <div class="stat-label">æ‹›å‹Ÿä¸­</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number" id="vacanciesPending">0</div>
                        <div class="stat-label">å¾…å¯©æ ¸</div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-number" id="vacanciesClosed">0</div>
                        <div class="stat-label">å·²é—œé–‰</div>
                    </div>
                </div>

                <div class="filter-tabs">
                    <button class="filter-tab active" onclick="filterVacancies('all', this)">å…¨éƒ¨è·ç¼º</button>
                    <button class="filter-tab" onclick="filterVacancies('active', this)">æ‹›å‹Ÿä¸­</button>
                    <button class="filter-tab" onclick="filterVacancies('pending', this)">å¾…å¯©æ ¸</button>
                    <button class="filter-tab" onclick="filterVacancies('closed', this)">å·²é—œé–‰</button>
                </div>

                <div class="quick-actions" style="margin-bottom: 20px;">
                    <button class="quick-action-btn" onclick="showToast('æ–°å¢è·ç¼ºåŠŸèƒ½é–‹ç™¼ä¸­', 'info')">â• æ–°å¢è·ç¼º</button>
                    <button class="quick-action-btn" onclick="showToast('æ‡‰å¾µè€…ç®¡ç†åŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ‘¥ æ‡‰å¾µè€…ç®¡ç†</button>
                    <button class="quick-action-btn" onclick="showToast('åŒ¯å‡ºåŠŸèƒ½é–‹ç™¼ä¸­', 'info')">ğŸ“Š åŒ¯å‡ºè³‡æ–™</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>è·ç¼ºID</th>
                            <th>è·ç¼ºåç¨±</th>
                            <th>éƒ¨é–€</th>
                            <th>åœ°é»</th>
                            <th>è–ªè³‡ç¯„åœ</th>
                            <th>æ‡‰å¾µäººæ•¸</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody id="vacanciesTable">
                        <!-- è·ç¼ºè³‡æ–™å°‡ç”± renderOperationVacancies() å‡½æ•¸å‹•æ…‹ç”Ÿæˆ -->
                    </tbody>
                </table>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ è·ç¼ºèªªæ˜ï¼š</strong>å¹³å°èˆ‡å•†å®¶è·ç¼ºè³‡è¨Šç®¡ç†ï¼Œæ”¯æ´è·ç¼ºç™¼å¸ƒã€æ‡‰å¾µè€…ç¯©é¸ã€é¢è©¦å®‰æ’ç­‰åŠŸèƒ½ã€‚å¯è¿½è¹¤æ‡‰å¾µé€²åº¦èˆ‡ç‹€æ…‹ã€‚
                </div>
            </div>

            <!-- æ¬Šé™ç®¡ç†è¦–åœ– -->
            <div id="operationPermissions" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ” æ¬Šé™ç®¡ç†</h3>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card">
                        <div class="stat-number">15</div>
                        <div class="stat-label">ç®¡ç†å“¡ç¸½æ•¸</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-number">5</div>
                        <div class="stat-label">è§’è‰²æ•¸é‡</div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-number">28</div>
                        <div class="stat-label">æ¬Šé™é …ç›®</div>
                    </div>
                </div>

                <h4 style="margin-bottom: 15px; margin-top: 30px; color: #333;">ğŸ‘¥ ç®¡ç†å“¡åˆ—è¡¨</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ç®¡ç†å“¡</th>
                            <th>é›»å­ä¿¡ç®±</th>
                            <th>éƒ¨é–€</th>
                            <th>è§’è‰²</th>
                            <th>æ¬Šé™ç¯„åœ</th>
                            <th>æœ€å¾Œç™»å…¥</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Aung Kyaw</td>
                            <td>aung@myanlife.com</td>
                            <td>é‹ç‡Ÿéƒ¨</td>
                            <td>ğŸ›¡ï¸ Super Admin</td>
                            <td>å®Œæ•´æ¬Šé™</td>
                            <td>2025-11-18 09:30</td>
                            <td><span class="status-badge active">å•Ÿç”¨</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="action-btn edit">ç·¨è¼¯</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Thiri Maung</td>
                            <td>thiri@myanlife.com</td>
                            <td>å®¢æœéƒ¨</td>
                            <td>ğŸ‘ï¸ Viewer</td>
                            <td>æª¢è¦–ç”¨æˆ¶/è¨‚å–®</td>
                            <td>2025-11-18 08:15</td>
                            <td><span class="status-badge active">å•Ÿç”¨</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="action-btn edit">ç·¨è¼¯</button>
                                    <button class="action-btn reject">åœç”¨</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Min Thu</td>
                            <td>min@myanlife.com</td>
                            <td>å•†å‹™éƒ¨</td>
                            <td>âœï¸ Editor</td>
                            <td>ç®¡ç†å•†å®¶/å•†å“</td>
                            <td>2025-11-17 16:45</td>
                            <td><span class="status-badge active">å•Ÿç”¨</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="action-btn edit">ç·¨è¼¯</button>
                                    <button class="action-btn reject">åœç”¨</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="margin-bottom: 15px; margin-top: 40px; color: #333;">ğŸ­ è§’è‰²èˆ‡æ¬Šé™</h4>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ›¡ï¸</span>
                            <span>Super Admin</span>
                        </div>
                        <p style="color: #666; margin: 10px 0;">æ“æœ‰æ‰€æœ‰æ¬Šé™ï¼Œå¯ç®¡ç†æ‰€æœ‰åŠŸèƒ½</p>
                        <div style="margin: 15px 0;">
                            <div style="color: #4caf50; font-weight: 600;">âœ“ å®Œæ•´æ¬Šé™ (28/28)</div>
                            <div style="color: #666; font-size: 0.9em; margin-top: 5px;">ä½¿ç”¨è€…æ•¸ï¼š3</div>
                        </div>
                        <button class="action-btn edit" style="width: 100%;">ç®¡ç†æ¬Šé™</button>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>âœï¸</span>
                            <span>Editor</span>
                        </div>
                        <p style="color: #666; margin: 10px 0;">å¯ç®¡ç†å•†å®¶ã€å•†å“ã€å…§å®¹</p>
                        <div style="margin: 15px 0;">
                            <div style="color: #2196f3; font-weight: 600;">æ¬Šé™ï¼š15/28</div>
                            <div style="color: #666; font-size: 0.9em; margin-top: 5px;">ä½¿ç”¨è€…æ•¸ï¼š6</div>
                        </div>
                        <button class="action-btn edit" style="width: 100%;">ç®¡ç†æ¬Šé™</button>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ‘ï¸</span>
                            <span>Viewer</span>
                        </div>
                        <p style="color: #666; margin: 10px 0;">åƒ…å¯æŸ¥çœ‹æ•¸æ“šï¼Œç„¡ç·¨è¼¯æ¬Šé™</p>
                        <div style="margin: 15px 0;">
                            <div style="color: #999; font-weight: 600;">æ¬Šé™ï¼š5/28</div>
                            <div style="color: #666; font-size: 0.9em; margin-top: 5px;">ä½¿ç”¨è€…æ•¸ï¼š4</div>
                        </div>
                        <button class="action-btn edit" style="width: 100%;">ç®¡ç†æ¬Šé™</button>
                    </div>
                </div>

                <div class="quick-actions" style="margin-top: 30px;">
                    <button class="quick-action-btn">â• æ–°å¢ç®¡ç†å“¡</button>
                    <button class="quick-action-btn">ğŸ­ æ–°å¢è§’è‰²</button>
                    <button class="quick-action-btn">ğŸ”‘ ç®¡ç†æ¬Šé™é …ç›®</button>
                </div>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ æ¬Šé™ç®¡ç†èªªæ˜ï¼š</strong>ä½¿ç”¨ Laravel Permission å¥—ä»¶ç®¡ç†ç®¡ç†å“¡å¸³è™Ÿ (adminsè¡¨)ã€è§’è‰² (rolesè¡¨)ã€æ¬Šé™ (permissionsè¡¨)ã€‚æ”¯æ´ç´°ç·»åŒ–çš„æ¬Šé™æ§ç®¡ï¼Œå¯ç‚ºä¸åŒè§’è‰²åˆ†é…ä¸åŒæ¬Šé™ï¼Œç¢ºä¿ç³»çµ±å®‰å…¨ã€‚
                </div>
            </div>

            <div class="info-note">
                <strong>ğŸ’¡ é‹ç‡Ÿå¾Œå°åŠŸèƒ½ï¼š</strong>åŸºæ–¼ admins è¡¨ï¼Œä½¿ç”¨ email + country_iso ç™»å…¥å°æ‡‰åœ‹å®¶çš„ç®¡ç†å¾Œå°ã€‚ä¾æ“šåœ‹å®¶ç®¡ç†è©²åœ‹çš„æ‰€æœ‰æ¥­å‹™è³‡æ–™ã€‚<br>
                <strong>ğŸ”µ æ ¸å¿ƒç®¡ç†ï¼š</strong>æœƒå“¡ç®¡ç† (users, user_preferences)ã€å•†å®¶ç®¡ç† (merchants, stores, merchant_preferences)ã€ç®¡ç†å“¡ç®¡ç† (admins)ã€æ¬Šé™æ§ç®¡ (roles, permissions, model_has_roles, model_has_permissions, role_has_permissions - Laravel Permission å¥—ä»¶)ã€‚<br>
                <strong>ğŸŸ¢ æ¥­å‹™ç®¡ç†ï¼š</strong>å•†å“å¯©æ ¸ (products, product_categories, 4 é¡å•†å“å­è¡¨, product_stores)ã€è¨‚å–®ç®¡ç† (orders, order_items, payments, order_status_logs)ã€æ ¸éŠ·ç®¡ç† (user_products, redemptions)ã€è©•åˆ†ç®¡ç† (product_ratings)ã€å„ªæƒ ç¢¼ (promo_codes)ã€‚<br>
                <strong>ğŸŸ¡ å…§å®¹ç®¡ç†ï¼š</strong>æ©«å¹… (banners, banner_categories)ã€æ–°è (news, news_categories)ã€é»ƒé  (yellow_pages, yellow_page_categories)ã€æ…ˆå–„æ´»å‹• (charity_activities, charity_activity_categories)ã€è·ç¼º (vacancies)ã€å•†å“è©•è«–å¯©æ ¸ (product_reviews)ã€‚<br>
                <strong>âš™ï¸ ç³»çµ±åŠŸèƒ½ï¼š</strong>ä»»å‹™ç³»çµ± (member_tasks, member_task_logs, merchant_tasks, merchant_task_logs)ã€å¤šåœ‹åˆ‡æ›ã€å ±è¡¨ç”¢è£½ã€ç³»çµ±ç›£æ§ã€‚å„åœ‹é‹ç‡Ÿå¾Œå°ç”±ç•¶åœ°åœ˜éšŠæˆ–åˆä½œå¤¥ä¼´ç®¡ç†ï¼Œæ“æœ‰è©²åœ‹ Super æ¬Šé™ã€‚
            </div>
            <!-- ä¸»è¦å…§å®¹çµæŸ -->
            </div>
        </div>

        <!-- 4. ä¸­å¤®å¾Œå° -->
        <div id="central" class="mockup-container">
            <!-- ç™»å…¥ç•«é¢ -->
            <div class="login-container" id="centralLogin">
                <div class="login-box">
                    <h2>ğŸ›ï¸ ä¸­å¤®å¾Œå°ç™»å…¥</h2>
                    <p class="subtitle">æœ€é«˜æ¬Šé™ç®¡ç†ä¸­å¿ƒ - è·¨åœ‹æ•¸æ“šæ•´åˆèˆ‡ç›£æ§</p>
                    <div class="form-group">
                        <label>ç®¡ç†å“¡å¸³è™Ÿ</label>
                        <input type="text" placeholder="è«‹è¼¸å…¥ä¸­å¤®å¾Œå°ç®¡ç†å“¡å¸³è™Ÿ">
                    </div>
                    <div class="form-group">
                        <label>å¯†ç¢¼</label>
                        <input type="password" placeholder="è«‹è¼¸å…¥å¯†ç¢¼">
                    </div>
                    <div class="form-group">
                        <label>é›™å› ç´ é©—è­‰ç¢¼</label>
                        <input type="text" placeholder="è«‹è¼¸å…¥ 6 ä½æ•¸é©—è­‰ç¢¼" maxlength="6">
                    </div>
                    <button class="login-btn" onclick="login('central')">ç™»å…¥ä¸­å¤®å¾Œå°</button>
                    <p style="text-align: center; margin-top: 15px; color: #999; font-size: 0.85em;">
                        ğŸ”’ æ­¤ç³»çµ±éœ€è¦æœ€é«˜æ¬Šé™èˆ‡é›™å› ç´ é©—è­‰
                    </p>
                </div>
            </div>

            <!-- ä¸»è¦å…§å®¹ -->
            <div class="main-content" id="centralContent">
            <div class="mockup-header">
                <div class="mockup-title">
                    <span>ğŸ›ï¸</span>
                    <span>ä¸­å¤®å¾Œå°ç³»çµ±</span>
                </div>
                <div class="mockup-nav">
                    <div class="nav-item active" onclick="switchCentralView('dashboard')">è·¨åœ‹å„€è¡¨æ¿</div>
                    <div class="nav-item" onclick="switchCentralView('revenue')">ç‡Ÿæ”¶å ±è¡¨</div>
                    <div class="nav-item" onclick="switchCentralView('analytics')">æ•¸æ“šåˆ†æ</div>
                    <div class="nav-item" onclick="switchCentralView('monitoring')">ç³»çµ±ç›£æ§</div>
                    <div class="user-info">
                        <div class="avatar">C</div>
                        <span>Central Admin</span>
                    </div>
                    <button class="logout-btn" onclick="logout('central')">ç™»å‡º</button>
                </div>
            </div>

            <!-- è·¨åœ‹å„€è¡¨æ¿è¦–åœ– -->
            <div id="centralDashboard" class="content-view active">
                <div class="country-selector">
                <button class="country-btn active" onclick="filterCentralByCountry('all', this, 'dashboard')">ğŸŒ å…¨éƒ¨åœ‹å®¶</button>
                <button class="country-btn" onclick="filterCentralByCountry('tw', this, 'dashboard')">ğŸ‡¹ğŸ‡¼ å°ç£</button>
                <button class="country-btn" onclick="filterCentralByCountry('mm', this, 'dashboard')">ğŸ‡²ğŸ‡² ç·¬ç”¸</button>
                <button class="country-btn" onclick="filterCentralByCountry('th', this, 'dashboard')">ğŸ‡¹ğŸ‡­ æ³°åœ‹</button>
                <button class="country-btn" onclick="filterCentralByCountry('vn', this, 'dashboard')">ğŸ‡»ğŸ‡³ è¶Šå—</button>
            </div>

            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-number">15,847</div>
                    <div class="stat-label">ç¸½æœƒå“¡æ•¸</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-number">342</div>
                    <div class="stat-label">ç¸½å•†å®¶æ•¸</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-number">8,456</div>
                    <div class="stat-label">æœ¬æœˆè¨‚å–®</div>
                </div>
                <div class="stat-card info">
                    <div class="stat-number">285,420</div>
                    <div class="stat-label">æœ¬æœˆç¸½ç‡Ÿæ”¶ (USD)</div>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <div class="dashboard-card-title">
                        <span>ğŸ“Š</span>
                        <span>å„åœ‹ç‡Ÿæ”¶å°æ¯”</span>
                    </div>
                    <div class="chart-placeholder">ğŸ“ˆ ç‡Ÿæ”¶è¶¨å‹¢åœ–è¡¨</div>
                    <table class="data-table" style="margin-top: 15px;">
                        <thead>
                            <tr>
                                <th>åœ‹å®¶</th>
                                <th>æœ¬æœˆç‡Ÿæ”¶ (USD)</th>
                                <th>æˆé•·ç‡</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ğŸ‡¹ğŸ‡¼ å°ç£</td>
                                <td>$125,000</td>
                                <td style="color: #4caf50;">â†‘ 15%</td>
                            </tr>
                            <tr>
                                <td>ğŸ‡²ğŸ‡² ç·¬ç”¸</td>
                                <td>$85,420</td>
                                <td style="color: #4caf50;">â†‘ 22%</td>
                            </tr>
                            <tr>
                                <td>ğŸ‡¹ğŸ‡­ æ³°åœ‹</td>
                                <td>$45,000</td>
                                <td style="color: #f44336;">â†“ 5%</td>
                            </tr>
                            <tr>
                                <td>ğŸ‡»ğŸ‡³ è¶Šå—</td>
                                <td>$30,000</td>
                                <td style="color: #4caf50;">â†‘ 8%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="dashboard-card">
                    <div class="dashboard-card-title">
                        <span>ğŸ‘¥</span>
                        <span>ç”¨æˆ¶åˆ†ä½ˆçµ±è¨ˆ</span>
                    </div>
                    <div class="chart-placeholder">ğŸ¥§ ç”¨æˆ¶åˆ†ä½ˆåœ“é¤…åœ–</div>
                    <table class="data-table" style="margin-top: 15px;">
                        <thead>
                            <tr>
                                <th>åœ‹å®¶</th>
                                <th>æœƒå“¡æ•¸</th>
                                <th>æ´»èºç‡</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ğŸ‡¹ğŸ‡¼ å°ç£</td>
                                <td>6,500</td>
                                <td>78%</td>
                            </tr>
                            <tr>
                                <td>ğŸ‡²ğŸ‡² ç·¬ç”¸</td>
                                <td>5,200</td>
                                <td>82%</td>
                            </tr>
                            <tr>
                                <td>ğŸ‡¹ğŸ‡­ æ³°åœ‹</td>
                                <td>2,847</td>
                                <td>65%</td>
                            </tr>
                            <tr>
                                <td>ğŸ‡»ğŸ‡³ è¶Šå—</td>
                                <td>1,300</td>
                                <td>71%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="dashboard-card" style="margin-top: 25px;">
                <div class="dashboard-card-title">
                    <span>ğŸ”—</span>
                    <span>å¿«é€Ÿé€£çµåˆ°å„åœ‹é‹ç‡Ÿå¾Œå°</span>
                </div>
                <p style="color: #666; margin-bottom: 15px;">é»æ“ŠæŒ‰éˆ•å¯ä½¿ç”¨ Super å¸³è™Ÿè‡ªå‹•ç™»å…¥è©²åœ‹é‹ç‡Ÿå¾Œå°é€²è¡Œè³‡æ–™ä¿®æ”¹</p>
                <div class="quick-actions">
                    <button class="quick-action-btn">ğŸ‡¹ğŸ‡¼ ç™»å…¥å°ç£é‹ç‡Ÿå¾Œå°</button>
                    <button class="quick-action-btn">ğŸ‡²ğŸ‡² ç™»å…¥ç·¬ç”¸é‹ç‡Ÿå¾Œå°</button>
                    <button class="quick-action-btn">ğŸ‡¹ğŸ‡­ ç™»å…¥æ³°åœ‹é‹ç‡Ÿå¾Œå°</button>
                    <button class="quick-action-btn">ğŸ‡»ğŸ‡³ ç™»å…¥è¶Šå—é‹ç‡Ÿå¾Œå°</button>
                </div>
            </div>

            </div>
            <!-- è·¨åœ‹å„€è¡¨æ¿è¦–åœ–çµæŸ -->

            <!-- ç‡Ÿæ”¶å ±è¡¨è¦–åœ– -->
            <div id="centralRevenue" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ’° ç‡Ÿæ”¶å ±è¡¨</h3>

                <div class="country-selector">
                    <button class="country-btn active" onclick="filterCentralByCountry('all', this, 'revenue')">ğŸŒ å…¨éƒ¨åœ‹å®¶</button>
                    <button class="country-btn" onclick="filterCentralByCountry('tw', this, 'revenue')">ğŸ‡¹ğŸ‡¼ å°ç£</button>
                    <button class="country-btn" onclick="filterCentralByCountry('mm', this, 'revenue')">ğŸ‡²ğŸ‡² ç·¬ç”¸</button>
                    <button class="country-btn" onclick="filterCentralByCountry('th', this, 'revenue')">ğŸ‡¹ğŸ‡­ æ³°åœ‹</button>
                    <button class="country-btn" onclick="filterCentralByCountry('vn', this, 'revenue')">ğŸ‡»ğŸ‡³ è¶Šå—</button>
                </div>

                <div class="filter-tabs" style="margin-top: 20px;">
                    <button class="filter-tab active">æœ¬æœˆå ±è¡¨</button>
                    <button class="filter-tab">æœ¬å­£å ±è¡¨</button>
                    <button class="filter-tab">æœ¬å¹´å ±è¡¨</button>
                    <button class="filter-tab">è‡ªè¨‚å€é–“</button>
                </div>

                <div class="quick-actions" style="margin: 20px 0;">
                    <button class="quick-action-btn">ğŸ“Š åŒ¯å‡º Excel</button>
                    <button class="quick-action-btn">ğŸ“„ åŒ¯å‡º PDF</button>
                    <button class="quick-action-btn">ğŸ“ˆ ç”¢ç”Ÿåœ–è¡¨</button>
                </div>

                <h4 style="margin-bottom: 15px; margin-top: 30px; color: #333;">ğŸ“Š å„åœ‹ç‡Ÿæ”¶çµ±è¨ˆï¼ˆ2025å¹´11æœˆï¼‰</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>åœ‹å®¶</th>
                            <th>ç¸½ç‡Ÿæ”¶ (USD)</th>
                            <th>è¨‚å–®æ•¸</th>
                            <th>æ´»èºæœƒå“¡</th>
                            <th>æ´»èºå•†å®¶</th>
                            <th>å¹³å‡å®¢å–®åƒ¹</th>
                            <th>æˆé•·ç‡</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ğŸ‡²ğŸ‡² ç·¬ç”¸</td>
                            <td>$142,580</td>
                            <td>4,235</td>
                            <td>3,245</td>
                            <td>128</td>
                            <td>$33.67</td>
                            <td><span style="color: #4caf50;">â†‘ 15.2%</span></td>
                        </tr>
                        <tr>
                            <td>ğŸ‡¹ğŸ‡¼ å°ç£</td>
                            <td>$85,420</td>
                            <td>2,156</td>
                            <td>1,850</td>
                            <td>72</td>
                            <td>$39.62</td>
                            <td><span style="color: #4caf50;">â†‘ 8.5%</span></td>
                        </tr>
                        <tr>
                            <td>ğŸ‡¹ğŸ‡­ æ³°åœ‹</td>
                            <td>$42,680</td>
                            <td>1,542</td>
                            <td>1,124</td>
                            <td>45</td>
                            <td>$27.68</td>
                            <td><span style="color: #4caf50;">â†‘ 12.8%</span></td>
                        </tr>
                        <tr>
                            <td>ğŸ‡»ğŸ‡³ è¶Šå—</td>
                            <td>$14,740</td>
                            <td>523</td>
                            <td>385</td>
                            <td>18</td>
                            <td>$28.18</td>
                            <td><span style="color: #f44336;">â†“ 3.2%</span></td>
                        </tr>
                        <tr style="background: #f5f5f5; font-weight: bold;">
                            <td>ç¸½è¨ˆ</td>
                            <td>$285,420</td>
                            <td>8,456</td>
                            <td>6,604</td>
                            <td>263</td>
                            <td>$33.75</td>
                            <td><span style="color: #4caf50;">â†‘ 11.3%</span></td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="margin-bottom: 15px; margin-top: 40px; color: #333;">ğŸ’° ç‡Ÿæ”¶åˆ†é¡çµ±è¨ˆ</h4>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ”</span>
                            <span>é¤é£²ç¾é£Ÿ</span>
                        </div>
                        <div style="text-align: center; margin: 20px 0;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #667eea;">$125,680</div>
                            <div style="color: #666; margin-top: 5px;">44.0% ä½”æ¯”</div>
                            <div style="color: #4caf50; margin-top: 5px;">â†‘ 18.5%</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>âœˆï¸</span>
                            <span>æ—…éŠäº¤é€š</span>
                        </div>
                        <div style="text-align: center; margin: 20px 0;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #667eea;">$82,450</div>
                            <div style="color: #666; margin-top: 5px;">28.9% ä½”æ¯”</div>
                            <div style="color: #4caf50; margin-top: 5px;">â†‘ 10.2%</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ¨</span>
                            <span>é£¯åº—ä½å®¿</span>
                        </div>
                        <div style="text-align: center; margin: 20px 0;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #667eea;">$52,380</div>
                            <div style="color: #666; margin-top: 5px;">18.4% ä½”æ¯”</div>
                            <div style="color: #4caf50; margin-top: 5px;">â†‘ 6.8%</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ­</span>
                            <span>å¨›æ¨‚ä¼‘é–’</span>
                        </div>
                        <div style="text-align: center; margin: 20px 0;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #667eea;">$24,910</div>
                            <div style="color: #666; margin-top: 5px;">8.7% ä½”æ¯”</div>
                            <div style="color: #f44336; margin-top: 5px;">â†“ 2.1%</div>
                        </div>
                    </div>
                </div>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ ç‡Ÿæ”¶å ±è¡¨èªªæ˜ï¼š</strong>å¯æŸ¥çœ‹å„åœ‹è©³ç´°ç‡Ÿæ”¶æ•¸æ“šï¼Œæ”¯æ´æœˆå ±ã€å­£å ±ã€å¹´å ±åˆ‡æ›ã€‚å¯åŒ¯å‡º Excel/PDF æ ¼å¼å ±è¡¨ï¼ŒæŸ¥çœ‹ç‡Ÿæ”¶è¶¨å‹¢ã€æˆé•·ç‡ã€åˆ†é¡ä½”æ¯”ç­‰æ•¸æ“šåˆ†æã€‚
                </div>
            </div>

            <!-- æ•¸æ“šåˆ†æè¦–åœ– -->
            <div id="centralAnalytics" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ“Š æ•¸æ“šåˆ†æ</h3>

                <div class="country-selector">
                    <button class="country-btn active" onclick="filterCentralByCountry('all', this, 'analytics')">ğŸŒ å…¨éƒ¨åœ‹å®¶</button>
                    <button class="country-btn" onclick="filterCentralByCountry('tw', this, 'analytics')">ğŸ‡¹ğŸ‡¼ å°ç£</button>
                    <button class="country-btn" onclick="filterCentralByCountry('mm', this, 'analytics')">ğŸ‡²ğŸ‡² ç·¬ç”¸</button>
                    <button class="country-btn" onclick="filterCentralByCountry('th', this, 'analytics')">ğŸ‡¹ğŸ‡­ æ³°åœ‹</button>
                    <button class="country-btn" onclick="filterCentralByCountry('vn', this, 'analytics')">ğŸ‡»ğŸ‡³ è¶Šå—</button>
                </div>

                <h4 style="margin-bottom: 15px; margin-top: 30px; color: #333;">ğŸ‘¥ ç”¨æˆ¶è¡Œç‚ºåˆ†æ</h4>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ“±</span>
                            <span>æ—¥æ´»èºç”¨æˆ¶ (DAU)</span>
                        </div>
                        <div style="text-align: center; margin: 20px 0;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #667eea;">2,847</div>
                            <div style="color: #666; margin-top: 5px;">å¹³å‡æ¯æ—¥</div>
                            <div style="color: #4caf50; margin-top: 5px;">â†‘ 12.3%</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ“…</span>
                            <span>æœˆæ´»èºç”¨æˆ¶ (MAU)</span>
                        </div>
                        <div style="text-align: center; margin: 20px 0;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #667eea;">15,847</div>
                            <div style="color: #666; margin-top: 5px;">æœ¬æœˆç¸½è¨ˆ</div>
                            <div style="color: #4caf50; margin-top: 5px;">â†‘ 8.7%</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>â±ï¸</span>
                            <span>å¹³å‡åœç•™æ™‚é–“</span>
                        </div>
                        <div style="text-align: center; margin: 20px 0;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #667eea;">8.5</div>
                            <div style="color: #666; margin-top: 5px;">åˆ†é˜/æ¬¡</div>
                            <div style="color: #4caf50; margin-top: 5px;">â†‘ 5.2%</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ”„</span>
                            <span>ç”¨æˆ¶ç•™å­˜ç‡</span>
                        </div>
                        <div style="text-align: center; margin: 20px 0;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #667eea;">68.5%</div>
                            <div style="color: #666; margin-top: 5px;">30å¤©ç•™å­˜</div>
                            <div style="color: #4caf50; margin-top: 5px;">â†‘ 3.8%</div>
                        </div>
                    </div>
                </div>

                <h4 style="margin-bottom: 15px; margin-top: 40px; color: #333;">ğŸ¯ ç†±é–€å•†å“æ’è¡Œï¼ˆæœ¬æœˆï¼‰</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>æ’å</th>
                            <th>å•†å“åç¨±</th>
                            <th>é¡åˆ¥</th>
                            <th>éŠ·å”®æ•¸é‡</th>
                            <th>ç‡Ÿæ”¶ (USD)</th>
                            <th>è©•åˆ†</th>
                            <th>ä¸»è¦å¸‚å ´</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ğŸ¥‡ 1</td>
                            <td>ç¾å‘³æŠ«è–© 8æŠ˜å„ªæƒ </td>
                            <td>ğŸ” é¤é£²ç¾é£Ÿ</td>
                            <td>856</td>
                            <td>$24,568</td>
                            <td>4.8 â­</td>
                            <td>ğŸ‡²ğŸ‡² ç·¬ç”¸</td>
                        </tr>
                        <tr>
                            <td>ğŸ¥ˆ 2</td>
                            <td>èŒµèŠæ¹–ä¸€æ—¥éŠ</td>
                            <td>âœˆï¸ æ—…éŠäº¤é€š</td>
                            <td>542</td>
                            <td>$18,970</td>
                            <td>4.9 â­</td>
                            <td>ğŸ‡²ğŸ‡² ç·¬ç”¸</td>
                        </tr>
                        <tr>
                            <td>ğŸ¥‰ 3</td>
                            <td>Sedona Hotel è±ªè¯é›™äººæˆ¿</td>
                            <td>ğŸ¨ é£¯åº—ä½å®¿</td>
                            <td>328</td>
                            <td>$14,760</td>
                            <td>4.7 â­</td>
                            <td>ğŸ‡²ğŸ‡² ç·¬ç”¸</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>å’–å•¡è²·ä¸€é€ä¸€</td>
                            <td>ğŸ” é¤é£²ç¾é£Ÿ</td>
                            <td>1,245</td>
                            <td>$8,092</td>
                            <td>4.6 â­</td>
                            <td>ğŸ‡¹ğŸ‡¼ å°ç£</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>ç·¬ç”¸å‚³çµ±èˆè¹ˆè¡¨æ¼”</td>
                            <td>ğŸ­ å¨›æ¨‚ä¼‘é–’</td>
                            <td>285</td>
                            <td>$7,125</td>
                            <td>4.9 â­</td>
                            <td>ğŸ‡²ğŸ‡² ç·¬ç”¸</td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="margin-bottom: 15px; margin-top: 40px; color: #333;">ğŸ“ˆ å¸‚å ´è¶¨å‹¢åˆ†æ</h4>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ”¥</span>
                            <span>æˆé•·æœ€å¿«å¸‚å ´</span>
                        </div>
                        <div style="margin: 20px 0;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #667eea;">ğŸ‡²ğŸ‡² ç·¬ç”¸</div>
                            <div style="color: #666; margin-top: 10px;">è¨‚å–®æˆé•·ç‡</div>
                            <div style="color: #4caf50; font-size: 1.5em; font-weight: bold; margin-top: 5px;">+15.2%</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>â­</span>
                            <span>æœ€é«˜å¹³å‡è©•åˆ†</span>
                        </div>
                        <div style="margin: 20px 0;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #667eea;">ğŸ‡¹ğŸ‡¼ å°ç£</div>
                            <div style="color: #666; margin-top: 10px;">å•†å“å¹³å‡è©•åˆ†</div>
                            <div style="color: #f57c00; font-size: 1.5em; font-weight: bold; margin-top: 5px;">4.8 â­</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ’°</span>
                            <span>æœ€é«˜å®¢å–®åƒ¹</span>
                        </div>
                        <div style="margin: 20px 0;">
                            <div style="font-size: 1.8em; font-weight: bold; color: #667eea;">ğŸ‡¹ğŸ‡¼ å°ç£</div>
                            <div style="color: #666; margin-top: 10px;">å¹³å‡è¨‚å–®é‡‘é¡</div>
                            <div style="color: #4caf50; font-size: 1.5em; font-weight: bold; margin-top: 5px;">$39.62</div>
                        </div>
                    </div>
                </div>

                <div class="quick-actions" style="margin-top: 30px;">
                    <button class="quick-action-btn">ğŸ“Š ç”¢ç”Ÿå®Œæ•´å ±å‘Š</button>
                    <button class="quick-action-btn">ğŸ“ˆ æŸ¥çœ‹æ›´å¤šåœ–è¡¨</button>
                    <button class="quick-action-btn">ğŸ“¥ åŒ¯å‡ºåˆ†ææ•¸æ“š</button>
                </div>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ æ•¸æ“šåˆ†æèªªæ˜ï¼š</strong>æä¾›è·¨åœ‹ç”¨æˆ¶è¡Œç‚ºåˆ†æã€ç†±é–€å•†å“æ’è¡Œã€å¸‚å ´è¶¨å‹¢åˆ†æç­‰æ•¸æ“šã€‚æ”¯æ´è‡ªè¨‚ç¾©å ±è¡¨ã€æ•¸æ“šè¦–è¦ºåŒ–åœ–è¡¨ã€æ•¸æ“šåŒ¯å‡ºç­‰åŠŸèƒ½ã€‚å¹«åŠ©æ±ºç­–è€…äº†è§£æ¥­å‹™ç‹€æ³ä¸¦åˆ¶å®šç­–ç•¥ã€‚
                </div>
            </div>

            <!-- ç³»çµ±ç›£æ§è¦–åœ– -->
            <div id="centralMonitoring" class="content-view">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ–¥ï¸ ç³»çµ±ç›£æ§</h3>

                <div class="stats-row" style="margin-bottom: 30px;">
                    <div class="stat-card success">
                        <div class="stat-number">99.98%</div>
                        <div class="stat-label">ç³»çµ±å¯ç”¨ç‡</div>
                    </div>
                    <div class="stat-card info">
                        <div class="stat-number">45ms</div>
                        <div class="stat-label">API å¹³å‡å›æ‡‰</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">4</div>
                        <div class="stat-label">é‹è¡Œä¸­æœå‹™</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-number">2</div>
                        <div class="stat-label">è­¦å‘Šäº‹ä»¶</div>
                    </div>
                </div>

                <h4 style="margin-bottom: 15px; color: #333;">ğŸŒ å„åœ‹ä¼ºæœå™¨ç‹€æ…‹</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>åœ‹å®¶</th>
                            <th>ä¼ºæœå™¨ç‹€æ…‹</th>
                            <th>CPU ä½¿ç”¨ç‡</th>
                            <th>è¨˜æ†¶é«”ä½¿ç”¨</th>
                            <th>ç£ç¢Ÿç©ºé–“</th>
                            <th>è³‡æ–™åº«é€£æ¥</th>
                            <th>æœ€å¾Œæª¢æŸ¥</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ğŸ‡²ğŸ‡² ç·¬ç”¸</td>
                            <td><span class="status-badge active">æ­£å¸¸</span></td>
                            <td>42%</td>
                            <td>3.2GB / 8GB</td>
                            <td>145GB / 500GB</td>
                            <td><span style="color: #4caf50;">âœ“ æ­£å¸¸</span></td>
                            <td>2 åˆ†é˜å‰</td>
                        </tr>
                        <tr>
                            <td>ğŸ‡¹ğŸ‡¼ å°ç£</td>
                            <td><span class="status-badge active">æ­£å¸¸</span></td>
                            <td>38%</td>
                            <td>2.8GB / 8GB</td>
                            <td>98GB / 500GB</td>
                            <td><span style="color: #4caf50;">âœ“ æ­£å¸¸</span></td>
                            <td>2 åˆ†é˜å‰</td>
                        </tr>
                        <tr>
                            <td>ğŸ‡¹ğŸ‡­ æ³°åœ‹</td>
                            <td><span class="status-badge pending">è­¦å‘Š</span></td>
                            <td>78%</td>
                            <td>6.5GB / 8GB</td>
                            <td>352GB / 500GB</td>
                            <td><span style="color: #f57c00;">âš  é«˜è² è¼‰</span></td>
                            <td>1 åˆ†é˜å‰</td>
                        </tr>
                        <tr>
                            <td>ğŸ‡»ğŸ‡³ è¶Šå—</td>
                            <td><span class="status-badge active">æ­£å¸¸</span></td>
                            <td>25%</td>
                            <td>1.9GB / 8GB</td>
                            <td>52GB / 500GB</td>
                            <td><span style="color: #4caf50;">âœ“ æ­£å¸¸</span></td>
                            <td>3 åˆ†é˜å‰</td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="margin-bottom: 15px; margin-top: 40px; color: #333;">ğŸ“¡ API ç›£æ§</h4>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>ğŸ“Š</span>
                            <span>API è«‹æ±‚çµ±è¨ˆ</span>
                        </div>
                        <div style="margin: 20px 0;">
                            <div style="color: #666; margin-bottom: 10px;">æ¯åˆ†é˜è«‹æ±‚æ•¸</div>
                            <div style="font-size: 2em; font-weight: bold; color: #667eea;">2,847</div>
                            <div style="color: #4caf50; margin-top: 10px;">å¹³å‡å›æ‡‰æ™‚é–“ï¼š45ms</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>âœ…</span>
                            <span>æˆåŠŸç‡</span>
                        </div>
                        <div style="margin: 20px 0;">
                            <div style="color: #666; margin-bottom: 10px;">24å°æ™‚çµ±è¨ˆ</div>
                            <div style="font-size: 2em; font-weight: bold; color: #4caf50;">99.96%</div>
                            <div style="color: #666; margin-top: 10px;">å¤±æ•—è«‹æ±‚ï¼š125 æ¬¡</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>âš¡</span>
                            <span>æœ€æ…¢ç«¯é»</span>
                        </div>
                        <div style="margin: 20px 0;">
                            <div style="color: #666; margin-bottom: 10px;">API Endpoint</div>
                            <div style="font-size: 1.2em; font-weight: bold; color: #f57c00;">/api/analytics/report</div>
                            <div style="color: #f57c00; margin-top: 10px;">å¹³å‡ï¼š325ms</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="dashboard-card-title">
                            <span>âŒ</span>
                            <span>éŒ¯èª¤çµ±è¨ˆ</span>
                        </div>
                        <div style="margin: 20px 0;">
                            <div style="color: #666; margin-bottom: 10px;">éå»24å°æ™‚</div>
                            <div style="font-size: 2em; font-weight: bold; color: #f44336;">15</div>
                            <div style="color: #666; margin-top: 10px;">5xx éŒ¯èª¤ï¼š3 æ¬¡</div>
                        </div>
                    </div>
                </div>

                <h4 style="margin-bottom: 15px; margin-top: 40px; color: #333;">âš ï¸ æœ€è¿‘è­¦å‘Šèˆ‡éŒ¯èª¤</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>æ™‚é–“</th>
                            <th>é¡å‹</th>
                            <th>åœ‹å®¶</th>
                            <th>è¨Šæ¯</th>
                            <th>ç‹€æ…‹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2025-11-18 14:25</td>
                            <td><span class="status-badge pending">è­¦å‘Š</span></td>
                            <td>ğŸ‡¹ğŸ‡­ æ³°åœ‹</td>
                            <td>ä¼ºæœå™¨ CPU ä½¿ç”¨ç‡è¶…é 75%</td>
                            <td><span class="status-badge pending">è™•ç†ä¸­</span></td>
                            <td><button class="action-btn edit">æŸ¥çœ‹</button></td>
                        </tr>
                        <tr>
                            <td>2025-11-18 13:52</td>
                            <td><span class="status-badge pending">è­¦å‘Š</span></td>
                            <td>ğŸ‡¹ğŸ‡­ æ³°åœ‹</td>
                            <td>è³‡æ–™åº«é€£æ¥æ•¸æ¥è¿‘ä¸Šé™</td>
                            <td><span class="status-badge pending">è™•ç†ä¸­</span></td>
                            <td><button class="action-btn edit">æŸ¥çœ‹</button></td>
                        </tr>
                        <tr>
                            <td>2025-11-18 11:30</td>
                            <td><span class="status-badge rejected">éŒ¯èª¤</span></td>
                            <td>ğŸ‡²ğŸ‡² ç·¬ç”¸</td>
                            <td>ç¬¬ä¸‰æ–¹æ”¯ä»˜ API é€£æ¥å¤±æ•—</td>
                            <td><span class="status-badge active">å·²è§£æ±º</span></td>
                            <td><button class="action-btn edit">æŸ¥çœ‹</button></td>
                        </tr>
                    </tbody>
                </table>

                <div class="quick-actions" style="margin-top: 30px;">
                    <button class="quick-action-btn">ğŸ“Š æŸ¥çœ‹å®Œæ•´æ—¥èªŒ</button>
                    <button class="quick-action-btn">ğŸ”” è¨­å®šè­¦å‘Šè¦å‰‡</button>
                    <button class="quick-action-btn">ğŸ“ˆ æ•ˆèƒ½å ±è¡¨</button>
                </div>

                <div class="info-note" style="margin-top: 20px;">
                    <strong>ğŸ’¡ ç³»çµ±ç›£æ§èªªæ˜ï¼š</strong>å³æ™‚ç›£æ§å„åœ‹ç³»çµ±é‹è¡Œç‹€æ…‹ï¼ŒåŒ…å«ä¼ºæœå™¨è³‡æºä½¿ç”¨ã€è³‡æ–™åº«é€£æ¥ã€API å›æ‡‰æ™‚é–“ã€éŒ¯èª¤æ—¥èªŒç­‰ã€‚å¯è¨­å®šè­¦å‘Šè¦å‰‡ï¼ŒåŠæ™‚ç™¼ç¾ä¸¦è™•ç†ç³»çµ±å•é¡Œï¼Œç¢ºä¿å¹³å°ç©©å®šé‹è¡Œã€‚
                </div>
            </div>

            <div class="info-note">
                <strong>ğŸ’¡ ä¸­å¤®å¾Œå°åŠŸèƒ½ï¼š</strong>è·¨åœ‹æ•¸æ“šæ•´åˆã€çµ±ä¸€å ±è¡¨ç”¢è£½ã€å„åœ‹ç‡Ÿæ”¶å°æ¯”ã€æœƒå“¡åˆ†æã€å•†å®¶çµ±è¨ˆã€ç³»çµ±ç›£æ§ã€‚<strong>ä¸»è¦ç‚ºåªè®€æŸ¥çœ‹</strong>ï¼Œå¦‚éœ€ä¿®æ”¹è³‡æ–™ï¼Œé€éå¿«é€Ÿé€£çµè‡ªå‹•ç™»å…¥å„åœ‹é‹ç‡Ÿå¾Œå°æ“ä½œã€‚æ¬Šé™å±¤ç´šï¼šä¸­å¤®å¾Œå° (æœ€é«˜æ¬Šé™) > å„åœ‹ Super Admin > å„åœ‹ä¸€èˆ¬ç®¡ç†å“¡ã€‚
            </div>
            <!-- ä¸»è¦å…§å®¹çµæŸ -->
            </div>
        </div>
    </div>

    <script>
        function switchTab(tabName) {
            // ç§»é™¤æ‰€æœ‰ active class
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.mockup-container').forEach(container => {
                container.classList.remove('active');
            });

            // æ·»åŠ  active class åˆ°é¸ä¸­çš„æ¨™ç±¤
            document.querySelectorAll('.tab').forEach(tab => {
                const onclick = tab.getAttribute('onclick');
                if (onclick && onclick.includes(`'${tabName}'`)) {
                    tab.classList.add('active');
                }
            });

            // é¡¯ç¤ºå°æ‡‰çš„å…§å®¹å®¹å™¨
            const container = document.getElementById(tabName);
            if (container) {
                container.classList.add('active');
            }
        }

        // æœƒå“¡ç«¯è¦–åœ–åˆ‡æ›åŠŸèƒ½
        function switchMemberView(viewName) {
            // ç§»é™¤æ‰€æœ‰å°èˆªé …ç›®çš„ active class
            const memberApp = document.getElementById('memberApp');
            memberApp.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // æ·»åŠ  active class åˆ°ç•¶å‰é»æ“Šçš„å°èˆªé …ç›®
            event.target.classList.add('active');

            // éš±è—æ‰€æœ‰å…§å®¹è¦–åœ–
            memberApp.querySelectorAll('.content-view').forEach(view => {
                view.classList.remove('active');
            });

            // é¡¯ç¤ºé¸ä¸­çš„è¦–åœ–
            const viewMap = {
                'home': 'memberHome',
                'products': 'memberProducts',
                'orders': 'memberOrders',
                'tasks': 'memberTasks',
                'settings': 'memberSettings'
            };

            const targetView = document.getElementById(viewMap[viewName]);
            if (targetView) {
                targetView.classList.add('active');
            }

            // æ ¹æ“šåˆ‡æ›çš„è¦–åœ–æ¸²æŸ“å°æ‡‰çš„è³‡æ–™
            setTimeout(() => {
                if (viewName === 'home') {
                    updateMemberStats();  // æ›´æ–°çµ±è¨ˆæ•¸å­—
                    renderProducts();  // é¦–é ä¹Ÿéœ€è¦æ¸²æŸ“å•†å“
                } else if (viewName === 'products') {
                    renderProducts();
                } else if (viewName === 'orders') {
                    renderOrders();
                } else if (viewName === 'tasks') {
                    renderTasks();
                }
            }, 50);
        }

        // å•†å®¶ç«¯è¦–åœ–åˆ‡æ›åŠŸèƒ½
        function switchMerchantView(viewName) {
            const merchantApp = document.getElementById('merchantApp');
            merchantApp.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            event.target.classList.add('active');

            merchantApp.querySelectorAll('.content-view').forEach(view => {
                view.classList.remove('active');
            });

            const viewMap = {
                'dashboard': 'merchantDashboard',
                'stores': 'merchantStores',
                'products': 'merchantProducts',
                'orders': 'merchantOrders',
                'tasks': 'merchantTasks',
                'settings': 'merchantSettings'
            };

            const targetView = document.getElementById(viewMap[viewName]);
            if (targetView) {
                targetView.classList.add('active');
            }

            // æ ¹æ“šåˆ‡æ›çš„è¦–åœ–æ¸²æŸ“å°æ‡‰çš„è³‡æ–™
            setTimeout(() => {
                if (viewName === 'dashboard') {
                    renderMerchantDashboard();
                } else if (viewName === 'stores') {
                    renderMerchantStores();
                } else if (viewName === 'products') {
                    renderMerchantProducts();
                } else if (viewName === 'orders') {
                    renderMerchantOrders();
                } else if (viewName === 'tasks') {
                    renderMerchantTasks();
                }
            }, 50);
        }

        // é‹ç‡Ÿå¾Œå°è¦–åœ–åˆ‡æ›åŠŸèƒ½
        function switchOperationView(viewName) {
            const operation = document.getElementById('operation');
            operation.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            event.target.classList.add('active');

            operation.querySelectorAll('.content-view').forEach(view => {
                view.classList.remove('active');
            });

            const viewMap = {
                'dashboard': 'operationDashboard',
                'members': 'operationMembers',
                'merchants': 'operationMerchants',
                'products': 'operationProducts',
                'cms': 'operationCMS',
                'permissions': 'operationPermissions'
            };

            const targetView = document.getElementById(viewMap[viewName]);
            if (targetView) {
                targetView.classList.add('active');
            }

            // æ ¹æ“šåˆ‡æ›çš„è¦–åœ–æ¸²æŸ“å°æ‡‰çš„è³‡æ–™
            setTimeout(() => {
                if (viewName === 'dashboard') {
                    renderOperationDashboard();
                } else if (viewName === 'members') {
                    renderOperationMembers();
                } else if (viewName === 'merchants') {
                    renderOperationMerchants();
                } else if (viewName === 'products') {
                    renderOperationProducts();
                }
            }, 50);
        }

        // ä¸­å¤®å¾Œå°è¦–åœ–åˆ‡æ›åŠŸèƒ½
        function switchCentralView(viewName) {
            const central = document.getElementById('central');
            central.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            event.target.classList.add('active');

            central.querySelectorAll('.content-view').forEach(view => {
                view.classList.remove('active');
            });

            const viewMap = {
                'dashboard': 'centralDashboard',
                'revenue': 'centralRevenue',
                'analytics': 'centralAnalytics',
                'monitoring': 'centralMonitoring'
            };

            const targetView = document.getElementById(viewMap[viewName]);
            if (targetView) {
                targetView.classList.add('active');
            }

            // æ ¹æ“šåˆ‡æ›çš„è¦–åœ–æ¸²æŸ“å°æ‡‰çš„è³‡æ–™
            setTimeout(() => {
                if (viewName === 'dashboard') {
                    renderCentralDashboard();
                } else if (viewName === 'revenue') {
                    renderCentralRevenue();
                } else if (viewName === 'analytics') {
                    renderCentralAnalytics();
                }
            }, 50);
        }

        // ç™»å…¥åŠŸèƒ½
        function login(type) {
            const loginContainer = document.getElementById(type + 'Login');
            const mainContent = document.getElementById(type + 'Content');

            if (loginContainer) {
                loginContainer.classList.add('hidden');
            }
            if (mainContent) {
                mainContent.classList.add('active');
            }

            // æ ¹æ“šç™»å…¥é¡å‹åˆå§‹åŒ–å°æ‡‰çš„è¦–åœ–
            if (type === 'operation') {
                setTimeout(() => {
                    renderOperationDashboard();
                }, 100);
            }
        }

        // ç™»å‡ºåŠŸèƒ½
        function logout(type) {
            const loginContainer = document.getElementById(type + 'Login');
            const mainContent = document.getElementById(type + 'Content');

            if (loginContainer) {
                loginContainer.classList.remove('hidden');
            }
            if (mainContent) {
                mainContent.classList.remove('active');
            }
        }

        // æ·»åŠ é é¢è¼‰å…¥å‹•ç•«
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach((tab, index) => {
                tab.style.opacity = '0';
                tab.style.transform = 'translateY(-20px)';
                setTimeout(() => {
                    tab.style.transition = 'all 0.5s ease';
                    tab.style.opacity = '1';
                    tab.style.transform = 'translateY(0)';
                }, index * 100);
            });

            // åˆå§‹åŒ–æœƒå“¡ç«¯é¦–é 
            setTimeout(() => {
                updateMemberStats();  // æ›´æ–°çµ±è¨ˆæ•¸å­—
                renderProducts();  // æ¸²æŸ“å•†å“åˆ—è¡¨
            }, 100);

            // åˆå§‹åŒ–å•†å®¶ç«¯å„€è¡¨æ¿
            setTimeout(() => {
                renderMerchantDashboard();  // æ¸²æŸ“å•†å®¶ç«¯å„€è¡¨æ¿
            }, 100);
        });

        // ============================================
        // é€šç”¨ UI çµ„ä»¶
        // ============================================

        // Toast é€šçŸ¥çµ„ä»¶
        function showToast(message, type = 'success') {
            const toastContainer = document.getElementById('toastContainer') || createToastContainer();

            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;

            const icon = {
                success: 'âœ…',
                error: 'âŒ',
                warning: 'âš ï¸',
                info: 'â„¹ï¸'
            }[type] || 'âœ…';

            toast.innerHTML = `
                <span class="toast-icon">${icon}</span>
                <span class="toast-message">${message}</span>
            `;

            toastContainer.appendChild(toast);

            // è§¸ç™¼å‹•ç•«
            setTimeout(() => toast.classList.add('show'), 10);

            // 3ç§’å¾Œè‡ªå‹•ç§»é™¤
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        function createToastContainer() {
            const container = document.createElement('div');
            container.id = 'toastContainer';
            container.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 10000;
                display: flex;
                flex-direction: column;
                gap: 10px;
            `;
            document.body.appendChild(container);
            return container;
        }

        // Modal æ¨¡æ…‹æ¡†çµ„ä»¶
        function showModal(title, content, footer = '', noClose = false) {
            // ç§»é™¤å·²å­˜åœ¨çš„ modal
            const existingModal = document.getElementById('globalModal');
            if (existingModal) {
                existingModal.remove();
            }

            const modal = document.createElement('div');
            modal.id = 'globalModal';
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content">
                    ${title || !noClose ? `
                        <div class="modal-header">
                            <h3>${title}</h3>
                            ${!noClose ? `<button class="modal-close" onclick="closeModal()">&times;</button>` : ''}
                        </div>
                    ` : ''}
                    <div class="modal-body">
                        ${content}
                    </div>
                    ${footer ? `<div class="modal-footer">${footer}</div>` : ''}
                </div>
            `;

            document.body.appendChild(modal);

            // é»æ“Šé®ç½©é—œé–‰ï¼ˆå¦‚æœå…è¨±çš„è©±ï¼‰
            if (!noClose) {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        closeModal();
                    }
                });
            }

            // è§¸ç™¼å‹•ç•«
            setTimeout(() => modal.classList.add('show'), 10);

            return modal;
        }

        function closeModal() {
            const modal = document.getElementById('globalModal');
            if (modal) {
                modal.classList.remove('show');
                setTimeout(() => modal.remove(), 300);
            }
        }

        // Confirm ç¢ºèªå°è©±æ¡†çµ„ä»¶
        function showConfirm(message, onConfirm, title = 'ç¢ºèªæ“ä½œ') {
            const footer = `
                <button class="btn-secondary" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="btn-primary" onclick="handleConfirm()">ç¢ºèª</button>
            `;

            showModal(title, `<p style="font-size: 1.1em; line-height: 1.6;">${message}</p>`, footer);

            // å°‡å›èª¿å‡½æ•¸æ›è¼‰åˆ°å…¨å±€
            window.handleConfirm = function() {
                closeModal();
                if (onConfirm) onConfirm();
            };
        }

        // Loading è¼‰å…¥ç‹€æ…‹
        function showLoading(button) {
            button.disabled = true;
            button.dataset.originalText = button.innerHTML;
            button.innerHTML = '<span class="spinner"></span> è™•ç†ä¸­...';
        }

        function hideLoading(button) {
            button.disabled = false;
            button.innerHTML = button.dataset.originalText;
        }

        // ============================================
        // æ•¸æ“šæ¨¡å‹ç³»çµ±ï¼ˆåŸºæ–¼è³‡æ–™åº« Schemaï¼‰
        // ============================================

        // å…¨å±€æ•¸æ“šå­˜å„²
        const AppData = {
            // æ•¸æ“šç‰ˆæœ¬ï¼ˆç”¨æ–¼æ§åˆ¶ localStorage æ›´æ–°ï¼‰
            _version: '2.3',

            // ========== æœƒå“¡ç³»çµ± ==========
            users: [
                { id: 1, member_id: 10001, email: 'ming@example.com', nickname: 'æ—å°æ˜', password_hash: 'hash', gender: 'ç”·', birthday: '1990-05-15', nationality_iso: 'TW', phone_country_iso: 'MM', phone_number: '09xx-xxx-xxx', region: 'ä»°å…‰', address: 'å¸‚ä¸­å¿ƒå€...', preferences: {currency: 'MMK', lang: 'zh-TW'}, is_active: 1, registered_at: '2024-01-15 10:00:00', points: 850, orders_count: 15, total_spent: 125000 },
                { id: 2, member_id: 10002, email: 'wang@example.com', nickname: 'ç‹å°è¯', password_hash: 'hash', gender: 'å¥³', birthday: '1995-08-20', nationality_iso: 'TW', phone_country_iso: 'MM', phone_number: '09yy-yyy-yyy', region: 'ä»°å…‰', address: 'æ–°å¸‚å€...', preferences: {currency: 'MMK', lang: 'zh-TW'}, is_active: 1, registered_at: '2024-02-20 14:30:00', points: 620, orders_count: 8, total_spent: 68000 },
                { id: 3, member_id: 10003, email: 'chen@example.com', nickname: 'é™³å¤§å‰', password_hash: 'hash', gender: 'ç”·', birthday: '1988-03-12', nationality_iso: 'TW', phone_country_iso: 'MM', phone_number: '09-333-333-333', region: 'æ›¼å¾·å‹’', address: 'æ›¼å¾·å‹’å¸‚ 26è¡— 128è™Ÿ', preferences: {currency: 'MMK', lang: 'zh-TW'}, is_active: 1, registered_at: '2024-03-10 09:20:00', points: 1250, orders_count: 22, total_spent: 185000 },
                { id: 4, member_id: 10004, email: 'liu@example.com', nickname: 'åŠ‰ç¾ç²', password_hash: 'hash', gender: 'å¥³', birthday: '1992-11-08', nationality_iso: 'TW', phone_country_iso: 'MM', phone_number: '09-444-444-444', region: 'ä»°å…‰', address: 'ä»°å…‰å¸‚ Bahan å€ Golden Valley è·¯ 56è™Ÿ', preferences: {currency: 'MMK', lang: 'zh-TW'}, is_active: 1, registered_at: '2024-04-05 16:45:00', points: 430, orders_count: 6, total_spent: 42000 },
                { id: 5, member_id: 10005, email: 'huang@example.com', nickname: 'é»ƒå¿—æ˜', password_hash: 'hash', gender: 'ç”·', birthday: '1985-07-22', nationality_iso: 'TW', phone_country_iso: 'MM', phone_number: '09-555-555-555', region: 'ä»°å…‰', address: 'ä»°å…‰å¸‚ Yankin å€ Parami è·¯ 89è™Ÿ', preferences: {currency: 'MMK', lang: 'zh-TW'}, is_active: 1, registered_at: '2024-05-15 11:30:00', points: 1680, orders_count: 28, total_spent: 245000 },
                { id: 6, member_id: 10006, email: 'wu@example.com', nickname: 'å³é›…å©·', password_hash: 'hash', gender: 'å¥³', birthday: '1993-09-18', nationality_iso: 'TW', phone_country_iso: 'MM', phone_number: '09-666-666-666', region: 'æ›¼å¾·å‹’', address: 'æ›¼å¾·å‹’å¸‚ 73è¡— 45è™Ÿ', preferences: {currency: 'MMK', lang: 'zh-TW'}, is_active: 1, registered_at: '2024-06-20 14:15:00', points: 920, orders_count: 12, total_spent: 96000 },
                { id: 7, member_id: 10007, email: 'zheng@example.com', nickname: 'é„­å»ºåœ‹', password_hash: 'hash', gender: 'ç”·', birthday: '1991-02-14', nationality_iso: 'TW', phone_country_iso: 'MM', phone_number: '09-777-777-777', region: 'å…§æ¯”éƒ½', address: 'å…§æ¯”éƒ½å¸‚ Dekkhinathiri å€ 101è™Ÿ', preferences: {currency: 'MMK', lang: 'zh-TW'}, is_active: 1, registered_at: '2024-07-08 10:00:00', points: 560, orders_count: 9, total_spent: 73000 },
                { id: 8, member_id: 10008, email: 'lin@example.com', nickname: 'æ—ä½³æ…§', password_hash: 'hash', gender: 'å¥³', birthday: '1994-06-30', nationality_iso: 'TW', phone_country_iso: 'MM', phone_number: '09-888-888-888', region: 'ä»°å…‰', address: 'ä»°å…‰å¸‚ Sanchaung å€ Thanlwin è·¯ 33è™Ÿ', preferences: {currency: 'MMK', lang: 'zh-TW'}, is_active: 1, registered_at: '2024-08-12 15:50:00', points: 780, orders_count: 11, total_spent: 89000 },
                { id: 9, member_id: 10009, email: 'zhang@example.com', nickname: 'å¼µæ–‡é¾', password_hash: 'hash', gender: 'ç”·', birthday: '1987-12-05', nationality_iso: 'TW', phone_country_iso: 'MM', phone_number: '09-999-999-999', region: 'è’²ç”˜', address: 'è’²ç”˜å¤åŸå€ Anawrahta è·¯ 67è™Ÿ', preferences: {currency: 'MMK', lang: 'zh-TW'}, is_active: 1, registered_at: '2024-09-18 09:40:00', points: 340, orders_count: 5, total_spent: 38000 },
                { id: 10, member_id: 10010, email: 'lee@example.com', nickname: 'æå®‰å¨œ', password_hash: 'hash', gender: 'å¥³', birthday: '1996-04-25', nationality_iso: 'TW', phone_country_iso: 'MM', phone_number: '09-101-101-101', region: 'ä»°å…‰', address: 'ä»°å…‰å¸‚ Kamayut å€ Pyay è·¯ 234è™Ÿ', preferences: {currency: 'MMK', lang: 'zh-TW'}, is_active: 1, registered_at: '2024-10-22 13:20:00', points: 180, orders_count: 3, total_spent: 25000 }
            ],

            // ========== å•†å®¶ç³»çµ± ==========
            merchants: [
                { id: 1, account_email: 'merchant1@example.com', merchant_name: 'Pizza Hut ä»°å…‰ç¸½åº—', owner_name: 'å¼µè€é—†', category: 'food', contact_phone: '09111111111', status: 'approved', is_active: 1, rating: 4.5, total_orders: 328, monthly_revenue: 8450000 },
                { id: 2, account_email: 'merchant2@example.com', merchant_name: 'Sedona Hotel', owner_name: 'æç¶“ç†', category: 'hotel', contact_phone: '09222222222', status: 'approved', is_active: 1, rating: 4.8, total_orders: 156, monthly_revenue: 6230000 },
                { id: 3, account_email: 'merchant3@example.com', merchant_name: 'KFC æ›¼å¾·å‹’åº—', owner_name: 'ç‹ç¶“ç†', category: 'food', contact_phone: '09333333333', status: 'approved', is_active: 1, rating: 4.6, total_orders: 245, monthly_revenue: 5680000 },
                { id: 4, account_email: 'merchant4@example.com', merchant_name: 'Golden Palace Restaurant', owner_name: 'é™³è€é—†', category: 'food', contact_phone: '09444444444', status: 'approved', is_active: 1, rating: 4.7, total_orders: 189, monthly_revenue: 4320000 },
                { id: 5, account_email: 'merchant5@example.com', merchant_name: 'Inle Lake Resort', owner_name: 'åŠ‰ç¶“ç†', category: 'hotel', contact_phone: '09555555555', status: 'approved', is_active: 1, rating: 4.9, total_orders: 98, monthly_revenue: 7850000 },
                { id: 6, account_email: 'merchant6@example.com', merchant_name: 'Myanmar Spa & Wellness', owner_name: 'é»ƒç¶“ç†', category: 'entertainment', contact_phone: '09666666666', status: 'approved', is_active: 1, rating: 4.5, total_orders: 134, monthly_revenue: 3450000 },
                { id: 7, account_email: 'merchant7@example.com', merchant_name: 'Bagan Travel Agency', owner_name: 'å³ç¶“ç†', category: 'travel', contact_phone: '09777777777', status: 'approved', is_active: 1, rating: 4.8, total_orders: 112, monthly_revenue: 4560000 },
                { id: 8, account_email: 'merchant8@example.com', merchant_name: 'Star Coffee House', owner_name: 'é„­è€é—†', category: 'food', contact_phone: '09888888888', status: 'pending', is_active: 0, rating: 0, total_orders: 0, monthly_revenue: 0 }
            ],

            // ========== å•†å“ç³»çµ± ==========
            product_categories: [
                { id: 1, category_name: 'é¤é£²ç¾é£Ÿ', category_type: 'food', icon: 'ğŸ”' },
                { id: 2, category_name: 'æ—…éŠäº¤é€š', category_type: 'travel', icon: 'âœˆï¸' },
                { id: 3, category_name: 'é£¯åº—ä½å®¿', category_type: 'hotel', icon: 'ğŸ¨' },
                { id: 4, category_name: 'å¨›æ¨‚ä¼‘é–’', category_type: 'entertainment', icon: 'ğŸ­' }
            ],

            products: [
                // å•†å®¶ 1 (Pizza Hut) çš„ç¤ºç¯„å•†å“ - åªä¿ç•™2å€‹
                { id: 1, merchant_id: 1, category_id: 1, product_name: 'ç¾å‘³æŠ«è–© 8æŠ˜å„ªæƒ ', cover_image: 'ğŸ•', original_price: 15000, selling_price: 12000, currency: 'MMK', available_quantity: 55, total_quantity: 100, description: 'Pizza Hut å…¨å“é …äº«å— 8 æŠ˜å„ªæƒ ï¼ŒåŒ…å«ç¶“å…¸ç‘ªæ ¼éº—ç‰¹ã€å¤å¨å¤·æŠ«è–©ã€æµ·é®®ç¸½åŒ¯ç­‰å¤šç¨®å£å‘³ã€‚é¤…çš®é…¥è„†ï¼Œæ–™å¤šå¯¦åœ¨ï¼Œé©åˆå…¨å®¶å…±äº«ã€‚', review_status: 'approved', is_published: 1, rating_average: 4.5, rating_count: 23, purchase_count: 45, short_description: 'Pizza Hut å…¨å“é …äº«8æŠ˜' },
                { id: 2, merchant_id: 1, category_id: 1, product_name: 'Pizza Hut ç”œé»çµ„åˆ', cover_image: 'ğŸ°', original_price: 12000, selling_price: 9500, currency: 'MMK', available_quantity: 60, total_quantity: 80, description: 'Pizza Hut ç”œé»çµ„åˆï¼ŒåŒ…å«ææ‹‰ç±³è˜‡ã€å·§å…‹åŠ›ç†”å²©è›‹ç³•ã€å†°æ·‡æ·‹è–ä»£ã€‚ç”œé»æ§å¿…é»ï¼', review_status: 'approved', is_published: 1, rating_average: 4.6, rating_count: 24, purchase_count: 20, short_description: 'Pizza Hut ä¸‰æ¬¾ç”œé»çµ„åˆ' },

                // å…¶ä»–å•†å®¶çš„ç¤ºç¯„å•†å“ - å„ä¿ç•™1å€‹
                { id: 3, merchant_id: 2, category_id: 3, product_name: 'Sedona è±ªè¯é›™äººæˆ¿', cover_image: 'ğŸ¨', original_price: 60000, selling_price: 45000, currency: 'MMK', available_quantity: 32, total_quantity: 50, description: 'Sedona Hotel Yangon ä¸€æ™šä½å®¿å„ªæƒ åˆ¸ã€‚äº«å—äº”æ˜Ÿç´šæœå‹™ï¼Œæˆ¿é–“å¯¬æ•èˆ’é©ï¼Œé…å‚™è±ªè¯è¡›æµ´è¨­å‚™ã€‚', review_status: 'approved', is_published: 1, rating_average: 4.8, rating_count: 12, purchase_count: 18, short_description: 'Sedona Hotel è±ªè¯é›™äººæˆ¿ä¸€æ™š' },
                { id: 4, merchant_id: 3, category_id: 1, product_name: 'KFC ç‚¸é›å¥—é¤', cover_image: 'ğŸ—', original_price: 18000, selling_price: 15000, currency: 'MMK', available_quantity: 80, total_quantity: 100, description: 'KFC ç¶“å…¸ç‚¸é›å¥—é¤ï¼ŒåŒ…å« 6 å¡Šç‚¸é›ã€å¤§è–¯æ¢ã€å¤§å¯æ¨‚ã€‚é¦™é…¥ç¾å‘³ï¼Œä»½é‡åè¶³ï¼Œé©åˆèšé¤åˆ†äº«ã€‚', review_status: 'approved', is_published: 1, rating_average: 4.6, rating_count: 32, purchase_count: 20, short_description: 'KFC 6å¡Šç‚¸é›+è–¯æ¢+å¯æ¨‚' }
            ],

            // ========== è¨‚å–®ç³»çµ± ==========
            member_orders: [
                { id: 1, order_number: 'ORD-20241120-001', member_id: 1, product_id: 1, merchant_id: 1, quantity: 1, total_price: 12000, status: 'pending', payment_method: 'KBZ Pay', order_date: '2024-11-20 10:30:00', created_at: '2024-11-20 10:30:00', updated_at: '2024-11-20 10:30:00' },
                { id: 2, order_number: 'ORD-20241120-002', member_id: 2, product_id: 1, merchant_id: 1, quantity: 1, total_price: 12000, status: 'pending', payment_method: 'Wave Pay', order_date: '2024-11-20 11:15:00', created_at: '2024-11-20 11:15:00', updated_at: '2024-11-20 11:15:00' },
                { id: 3, order_number: 'ORD-20241120-003', member_id: 3, product_id: 2, merchant_id: 1, quantity: 1, total_price: 9500, status: 'completed', payment_method: 'CB Pay', order_date: '2024-11-19 14:20:00', created_at: '2024-11-19 14:20:00', updated_at: '2024-11-19 15:00:00', completed_at: '2024-11-19 15:00:00' },
                { id: 4, order_number: 'ORD-20241120-004', member_id: 4, product_id: 1, merchant_id: 1, quantity: 1, total_price: 12000, status: 'pending', payment_method: 'KBZ Pay', order_date: '2024-11-20 09:45:00', created_at: '2024-11-20 09:45:00', updated_at: '2024-11-20 09:45:00' }
            ],

            // ========== ä»»å‹™ç³»çµ± ==========
            member_tasks: [
                { id: 1, name: 'é€£çºŒ7å¤©ç™»å…¥', description: 'é€£çºŒ 7 å¤©æ¯æ—¥ç™»å…¥ç³»çµ±ï¼Œå³å¯ç²å¾— 50 ç©åˆ†çå‹µ', task_type: 'æ¯æ—¥ä»»å‹™', reward_points: 50, is_active: 1, user_progress: { member_id: 1, progress: 100, status: 'completed', current: 7, total: 7 } },
                { id: 2, name: 'é‚€è«‹å¥½å‹è¨»å†Š', description: 'é‚€è«‹å¥½å‹è¨»å†Šä¸¦å®Œæˆé¦–æ¬¡è³¼ç‰©ï¼Œæ¯æˆåŠŸé‚€è«‹ 1 ä½å¥½å‹ç²å¾— 40 ç©åˆ†', task_type: 'æ¨å»£ä»»å‹™', reward_points: 200, is_active: 1, user_progress: { member_id: 1, progress: 40, status: 'in_progress', current: 2, total: 5 } },
                { id: 3, name: 'å®Œæˆ 3 æ¬¡å•†å“è©•åˆ†', description: 'å®Œæˆ 3 æ¬¡å•†å“è³¼è²·å¾Œçš„è©•åˆ†ï¼Œå³å¯ç²å¾— 100 ç©åˆ†çå‹µ', task_type: 'äº’å‹•ä»»å‹™', reward_points: 100, is_active: 1, user_progress: { member_id: 1, progress: 100, status: 'completed', current: 3, total: 3 } },
                { id: 4, name: 'å®Œæˆé¦–æ¬¡è³¼ç‰©', description: 'å®Œæˆç¬¬ä¸€ç­†è¨‚å–®å³å¯ç²å¾— 100 ç©åˆ†çå‹µ', task_type: 'æ–°æ‰‹ä»»å‹™', reward_points: 100, is_active: 1, user_progress: { member_id: 1, progress: 100, status: 'claimed', current: 1, total: 1 } },
                { id: 5, name: 'å®Œå–„å€‹äººè³‡æ–™', description: 'å®Œå–„å€‹äººè³‡æ–™ï¼ˆåŒ…å«é ­åƒã€æš±ç¨±ã€æ‰‹æ©Ÿã€åœ°å€ï¼‰ï¼Œå³å¯ç²å¾— 50 ç©åˆ†çå‹µ', task_type: 'æ–°æ‰‹ä»»å‹™', reward_points: 50, is_active: 1, user_progress: { member_id: 1, progress: 100, status: 'claimed', current: 1, total: 1 } },
                { id: 6, name: 'é¦–æ¬¡åˆ†äº«å•†å“', description: 'é¦–æ¬¡åˆ†äº«å•†å“åˆ°ç¤¾ç¾¤åª’é«”ï¼Œå³å¯ç²å¾— 80 ç©åˆ†çå‹µ', task_type: 'æ¨å»£ä»»å‹™', reward_points: 80, is_active: 1, user_progress: { member_id: 1, progress: 100, status: 'claimed', current: 1, total: 1 } },
                { id: 7, name: 'æ¶ˆè²»æ»¿ 100,000 MMK', description: 'ç´¯è¨ˆæ¶ˆè²»é‡‘é¡é”åˆ° 100,000 MMKï¼Œå³å¯ç²å¾— 500 ç©åˆ†çå‹µ', task_type: 'æ¶ˆè²»ä»»å‹™', reward_points: 500, is_active: 1, user_progress: { member_id: 1, progress: 62, status: 'in_progress', current: 62000, total: 100000 } },
                { id: 8, name: 'é—œæ³¨ 5 å€‹å•†å®¶', description: 'é—œæ³¨ 5 å€‹ä¸åŒçš„å•†å®¶ï¼Œå³å¯ç²å¾— 120 ç©åˆ†çå‹µ', task_type: 'äº’å‹•ä»»å‹™', reward_points: 120, is_active: 1, user_progress: { member_id: 1, progress: 60, status: 'in_progress', current: 3, total: 5 } }
            ],

            // ========== åº—é‹ªç³»çµ± ==========
            stores: [
                // å•†å®¶ 1 çš„ç¤ºç¯„åº—é‹ª - åªä¿ç•™1å€‹
                { id: 1, merchant_id: 1, store_name: 'Pizza Hut ä»°å…‰ç¸½åº—', address: 'ä»°å…‰å¸‚ä¸­å¿ƒå€ Sule Pagoda Road 123è™Ÿ', phone: '09-111-111-111', business_hours: '10:00-22:00', latitude: 16.7834, longitude: 96.1652, is_open: 1, created_at: '2024-01-10 09:00:00' }
            ],

            // ========== å•†å®¶ä»»å‹™ç³»çµ± ==========
            merchant_tasks: [
                // å•†å®¶ä»»å‹™ç¤ºç¯„ - åªä¿ç•™2å€‹
                { id: 1, name: 'å®Œæˆåº—é‹ªè³‡æ–™', description: 'å®Œå–„åº—é‹ªåŸºæœ¬è³‡æ–™ï¼ˆåœ°å€ã€é›»è©±ã€ç‡Ÿæ¥­æ™‚é–“ï¼‰ï¼Œå³å¯ç²å¾—é¦–æ¬¡çå‹µ', task_type: 'æ–°æ‰‹ä»»å‹™', reward_type: 'exposure', reward_value: 100, is_active: 1, merchant_progress: { merchant_id: 1, progress: 100, status: 'claimed', completed_at: '2024-01-15 12:00:00' } },
                { id: 2, name: 'ä¸Šæ¶ 10 å€‹å•†å“', description: 'æˆåŠŸä¸Šæ¶ 10 å€‹å•†å“ä¸¦é€šéå¯©æ ¸ï¼Œæå‡å•†å®¶æ›å…‰åº¦', task_type: 'æ–°æ‰‹ä»»å‹™', reward_type: 'exposure', reward_value: 200, is_active: 1, merchant_progress: { merchant_id: 1, progress: 20, status: 'in_progress', current: 2, total: 10 } }
            ],

            // ========== ç®¡ç†å“¡ç³»çµ± ==========
            admins: [
                { id: 1, username: 'super_admin', email: 'super@myanlife.com', full_name: 'ç³»çµ±è¶…ç´šç®¡ç†å“¡', role: 'super_admin', permissions: ['all'], status: 'active', last_login: '2024-11-19 09:30:00', created_at: '2023-01-01 00:00:00' },
                { id: 2, username: 'operation_manager', email: 'ops@myanlife.com', full_name: 'ç‡Ÿé‹ç¸½ç›£', role: 'operation_admin', permissions: ['merchants', 'products', 'orders', 'users'], status: 'active', last_login: '2024-11-19 08:15:00', created_at: '2023-06-15 10:00:00' },
                { id: 3, username: 'content_editor', email: 'content@myanlife.com', full_name: 'å…§å®¹ç·¨è¼¯', role: 'content_admin', permissions: ['news', 'banners', 'yellow_pages', 'charity'], status: 'active', last_login: '2024-11-18 16:45:00', created_at: '2023-09-20 14:30:00' },
                { id: 4, username: 'customer_service', email: 'cs@myanlife.com', full_name: 'å®¢æœä¸»ç®¡', role: 'cs_admin', permissions: ['users', 'orders', 'complaints'], status: 'active', last_login: '2024-11-19 10:00:00', created_at: '2024-01-10 09:00:00' },
                { id: 5, username: 'data_analyst', email: 'data@myanlife.com', full_name: 'æ•¸æ“šåˆ†æå¸«', role: 'analyst', permissions: ['reports', 'statistics'], status: 'active', last_login: '2024-11-17 14:20:00', created_at: '2024-03-01 11:00:00' }
            ],

            // ========== å•†å“è©•åƒ¹ç³»çµ± ==========
            product_ratings: [
                { id: 1, product_id: 1, member_id: 1, rating: 5, comment: 'è¶…å¥½åƒï¼èŠå£«æ‹‰çµ²å¾ˆæ£’ï¼ŒPizza Hut æ°¸é ä¸æœƒè®“æˆ‘å¤±æœ›ï¼', images: [], merchant_reply: 'æ„Ÿè¬æ”¯æŒï¼æ­¡è¿å†æ¬¡å…‰è‡¨ ğŸ•', reply_at: '2024-11-05 15:30:00', created_at: '2024-11-05 14:20:00' },
                { id: 2, product_id: 1, member_id: 2, rating: 4, comment: 'å‘³é“ä¸éŒ¯ï¼Œä½†é…é€ç¨å¾®æ…¢äº†ä¸€é»ã€‚', images: [], merchant_reply: null, created_at: '2024-11-08 19:45:00' },
                { id: 3, product_id: 2, member_id: 1, rating: 5, comment: 'è¶…å€¼å¥—é¤ï¼ç‚¸é›å¾ˆè„†ï¼Œè–¯æ¢ä¹Ÿå¾ˆæ–°é®®ã€‚', images: ['photo1.jpg'], merchant_reply: 'è¬è¬æ‚¨çš„å¥½è©•ï¼æˆ‘å€‘æœƒç¹¼çºŒä¿æŒå“è³ª ğŸ˜Š', reply_at: '2024-11-10 10:00:00', created_at: '2024-11-10 08:30:00' },
                { id: 4, product_id: 3, member_id: 2, rating: 5, comment: 'ç”œé»è¶…æ£’ï¼ææ‹‰ç±³è˜‡å…¥å£å³åŒ–ï¼Œå¼·çƒˆæ¨è–¦ï¼', images: ['dessert1.jpg', 'dessert2.jpg'], merchant_reply: null, created_at: '2024-11-12 16:20:00' },
                { id: 5, product_id: 4, member_id: 1, rating: 5, comment: 'ä½å®¿é«”é©—ä¸€æµï¼Œæˆ¿é–“å¾ˆä¹¾æ·¨ï¼Œæœå‹™äººå“¡æ…‹åº¦è¶…å¥½ï¼', images: ['room1.jpg'], merchant_reply: 'æ„Ÿè¬æ‚¨é¸æ“‡ Sedona Hotelï¼æœŸå¾…æ‚¨çš„å†æ¬¡å…‰è‡¨ ğŸ¨', reply_at: '2024-11-02 11:00:00', created_at: '2024-11-01 22:30:00' },
                { id: 6, product_id: 4, member_id: 2, rating: 4, comment: 'æ•´é«”ä¸éŒ¯ï¼Œå°±æ˜¯æ—©é¤ç¨®é¡å¯ä»¥æ›´è±å¯Œä¸€äº›ã€‚', images: [], merchant_reply: 'æ„Ÿè¬æ‚¨çš„å»ºè­°ï¼æˆ‘å€‘æœƒæŒçºŒæ”¹é€²æ—©é¤èœå–®ã€‚', reply_at: '2024-11-06 09:00:00', created_at: '2024-11-05 18:15:00' },
                { id: 7, product_id: 5, member_id: 1, rating: 5, comment: 'SPA é«”é©—å¤ªæ£’äº†ï¼æŒ‰æ‘©å¸«æ‰‹æ³•å°ˆæ¥­ï¼Œç’°å¢ƒå¾ˆæ”¾é¬†ã€‚', images: [], merchant_reply: null, created_at: '2024-11-08 20:00:00' },
                { id: 8, product_id: 6, member_id: 2, rating: 5, comment: 'æœƒè­°å®¤è¨­å‚™é½Šå…¨ï¼Œå•†å‹™æœƒè­°å¾ˆé †åˆ©ï¼', images: ['meeting1.jpg'], merchant_reply: 'æ„Ÿè¬æ”¯æŒï¼æ­¡è¿ä¸‹æ¬¡ç¹¼çºŒé è¨‚æˆ‘å€‘çš„æœƒè­°æœå‹™ã€‚', reply_at: '2024-11-11 14:00:00', created_at: '2024-11-11 12:30:00' },
                { id: 9, product_id: 1, member_id: 1, rating: 5, comment: 'ç¬¬äºŒæ¬¡è¨‚äº†ï¼Œä¾ç„¶å¥½åƒï¼', images: [], merchant_reply: null, created_at: '2024-11-13 19:00:00' },
                { id: 10, product_id: 2, member_id: 2, rating: 5, comment: 'å®¶äººèšé¤çš„å¥½é¸æ“‡ï¼Œä»½é‡åè¶³ï¼', images: ['family_meal.jpg'], merchant_reply: 'è¬è¬æ”¯æŒï¼æ­¡è¿å¸¶å…¨å®¶ä¸€èµ·ä¾† ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', reply_at: '2024-11-14 10:30:00', created_at: '2024-11-14 09:00:00' },
                { id: 11, product_id: 7, member_id: 1, rating: 4, comment: 'ç¾©å¤§åˆ©éºµå¾ˆé“åœ°ï¼Œä½†åˆ†é‡å°æˆ‘ä¾†èªªç¨å¾®å°äº†ä¸€é»ã€‚', images: [], merchant_reply: null, created_at: '2024-11-09 13:45:00' },
                { id: 12, product_id: 8, member_id: 2, rating: 5, comment: 'æ²™æ‹‰å¾ˆæ–°é®®ï¼Œé†¬æ–™ä¹Ÿå¾ˆç‰¹åˆ¥ï¼Œå¥åº·åˆç¾å‘³ï¼', images: [], merchant_reply: null, created_at: '2024-11-11 12:20:00' },
                { id: 13, product_id: 3, member_id: 1, rating: 5, comment: 'æ…¶ç¥ç”Ÿæ—¥è¨‚çš„ï¼Œç”œé»ç¾å‘³åˆç²¾ç·»ï¼', images: ['birthday.jpg'], merchant_reply: 'ç”Ÿæ—¥å¿«æ¨‚ï¼ğŸ‚ æ„Ÿè¬é¸æ“‡æˆ‘å€‘çš„ç”œé»ï¼', reply_at: '2024-11-15 16:00:00', created_at: '2024-11-15 15:30:00' },
                { id: 14, product_id: 5, member_id: 2, rating: 5, comment: 'å·¥ä½œå£“åŠ›å¤§ï¼Œä¾†é€™è£¡æ”¾é¬†ä¸€ä¸‹çœŸçš„å¾ˆèˆ’æœï¼', images: [], merchant_reply: null, created_at: '2024-11-16 18:00:00' },
                { id: 15, product_id: 6, member_id: 1, rating: 5, comment: 'å•†å‹™æ´»å‹•è¾¦å¾—å¾ˆæˆåŠŸï¼Œæœƒè­°å®¤è¨­å‚™å®Œå–„ï¼', images: [], merchant_reply: 'æ„Ÿè¬ä¿¡ä»»ï¼æœŸå¾…ä¸‹æ¬¡åˆä½œã€‚', reply_at: '2024-11-17 09:00:00', created_at: '2024-11-16 22:00:00' },
                { id: 16, product_id: 7, member_id: 2, rating: 5, comment: 'ç¾©å¤§åˆ©éºµç…®å¾—å‰›å‰›å¥½ï¼Œé†¬æ±æ¿ƒéƒï¼', images: ['pasta.jpg'], merchant_reply: null, created_at: '2024-11-17 20:30:00' },
                { id: 17, product_id: 8, member_id: 1, rating: 4, comment: 'æ²™æ‹‰å¾ˆæ£’ï¼Œä½†å¸Œæœ›å¯ä»¥åŠ æ›´å¤šå …æœé¡é…æ–™ã€‚', images: [], merchant_reply: 'æ„Ÿè¬å»ºè­°ï¼æˆ‘å€‘æœƒè€ƒæ…®å¢åŠ æ›´å¤šé…æ–™é¸é …ã€‚', reply_at: '2024-11-18 11:00:00', created_at: '2024-11-18 10:15:00' },
                { id: 18, product_id: 4, member_id: 2, rating: 5, comment: 'é€±æœ«åº¦å‡çš„å®Œç¾é¸æ“‡ï¼æœå‹™ä¸€æµï¼Œç’°å¢ƒå„ªç¾ã€‚', images: ['hotel_view.jpg'], merchant_reply: 'æ„Ÿè¬æ‚¨çš„äº”æ˜Ÿå¥½è©•ï¼æœŸå¾…æ‚¨çš„å†æ¬¡å…‰è‡¨ â­', reply_at: '2024-11-19 09:00:00', created_at: '2024-11-18 21:00:00' }
            ],

            // ========== å»£å‘Šè¼ªæ’­ç³»çµ± ==========
            banners: [
                { id: 1, title: 'æ–°ç”¨æˆ¶å°ˆå±¬å„ªæƒ ', subtitle: 'è¨»å†Šå³é€ 1000 ç©åˆ†', image_url: 'banner_newuser.jpg', link_type: 'task', link_target: 'member_tasks', is_active: 1, display_order: 1, start_date: '2024-11-01 00:00:00', end_date: '2024-12-31 23:59:59', created_at: '2024-10-25 10:00:00' },
                { id: 2, title: 'Pizza Hut é™æ™‚å„ªæƒ ', subtitle: 'å…¨å ´æŠ«è–©è²·ä¸€é€ä¸€', image_url: 'banner_pizza.jpg', link_type: 'merchant', link_target: '1', is_active: 1, display_order: 2, start_date: '2024-11-15 00:00:00', end_date: '2024-11-30 23:59:59', created_at: '2024-11-10 14:00:00' },
                { id: 3, title: 'Sedona Hotel ä½å®¿å„ªæƒ ', subtitle: 'é è¨‚å…©æ™šäº« 7 æŠ˜å„ªæƒ ', image_url: 'banner_hotel.jpg', link_type: 'merchant', link_target: '2', is_active: 1, display_order: 3, start_date: '2024-11-10 00:00:00', end_date: '2024-12-20 23:59:59', created_at: '2024-11-05 09:00:00' },
                { id: 4, title: 'å…¬ç›Šææ¬¾æ´»å‹•', subtitle: 'æ‚¨çš„æ„›å¿ƒï¼Œä»–å€‘çš„å¸Œæœ›', image_url: 'banner_charity.jpg', link_type: 'charity', link_target: 'all', is_active: 1, display_order: 4, start_date: '2024-11-01 00:00:00', end_date: '2024-12-31 23:59:59', created_at: '2024-10-28 11:00:00' },
                { id: 5, title: 'é»ƒé å•†å®¶å…¥é§', subtitle: 'å…è²»åˆŠç™»æ‚¨çš„å•†å®¶è³‡è¨Š', image_url: 'banner_yellowpages.jpg', link_type: 'yellow_pages', link_target: 'all', is_active: 1, display_order: 5, start_date: '2024-11-01 00:00:00', end_date: '2025-01-31 23:59:59', created_at: '2024-10-20 15:00:00' },
                { id: 6, title: 'è·ç¼ºæ‹›å‹Ÿä¸­', subtitle: 'åŠ å…¥ MyanLife åœ˜éšŠ', image_url: 'banner_jobs.jpg', link_type: 'vacancies', link_target: 'all', is_active: 1, display_order: 6, start_date: '2024-11-15 00:00:00', end_date: '2024-12-31 23:59:59', created_at: '2024-11-12 10:00:00' }
            ],

            banner_categories: [
                { id: 1, name: 'ç¾é£Ÿå„ªæƒ ', slug: 'food', url: '/categories/food', icon: 'ğŸ”', description: 'é¤é£²ç¾é£Ÿç›¸é—œå„ªæƒ æ´»å‹•', is_active: 1, display_order: 1, created_at: '2024-11-01 10:00:00' },
                { id: 2, name: 'æ—…éŠä½å®¿', slug: 'travel', url: '/categories/travel', icon: 'âœˆï¸', description: 'æ—…éŠèˆ‡ä½å®¿å„ªæƒ ', is_active: 1, display_order: 2, created_at: '2024-11-01 10:00:00' },
                { id: 3, name: 'ç”Ÿæ´»æœå‹™', slug: 'lifestyle', url: '/categories/lifestyle', icon: 'ğŸ›ï¸', description: 'ç”Ÿæ´»æœå‹™ç›¸é—œå„ªæƒ ', is_active: 1, display_order: 3, created_at: '2024-11-01 10:00:00' },
                { id: 4, name: 'å¨›æ¨‚ä¼‘é–’', slug: 'entertainment', url: '/categories/entertainment', icon: 'ğŸ­', description: 'å¨›æ¨‚ä¼‘é–’æ´»å‹•', is_active: 1, display_order: 4, created_at: '2024-11-01 10:00:00' }
            ],

            // ========== æ–°èè³‡è¨Šç³»çµ± ==========
            news: [
                { id: 1, category: 'å¹³å°å…¬å‘Š', title: 'MyanLife å¹³å°å…¨æ–°æ”¹ç‰ˆä¸Šç·š', summary: 'å…¨æ–°ä»‹é¢è¨­è¨ˆï¼Œæä¾›æ›´å„ªè³ªçš„ä½¿ç”¨é«”é©—', content: 'MyanLife å¹³å°ç¶“éä¸‰å€‹æœˆçš„é–‹ç™¼èˆ‡æ¸¬è©¦ï¼Œå…¨æ–°æ”¹ç‰ˆæ­£å¼ä¸Šç·šã€‚æ–°ç‰ˆæœ¬æä¾›æ›´ç›´è§€çš„ä»‹é¢è¨­è¨ˆã€æ›´å¿«é€Ÿçš„è¼‰å…¥é€Ÿåº¦ï¼Œä»¥åŠæ›´è±å¯Œçš„åŠŸèƒ½é¸é …...', cover_image: 'news_platform_update.jpg', author: 'ç³»çµ±ç®¡ç†å“¡', views: 1250, is_featured: 1, published_at: '2024-11-01 10:00:00', created_at: '2024-10-30 15:00:00' },
                { id: 2, category: 'å•†å®¶æ–°è', title: 'Pizza Hut æ¨å‡ºå…¨æ–°å†¬å­£é™å®šæŠ«è–©', summary: 'æ¿ƒéƒèµ·å¸æ­é…å­£ç¯€æ€§é£Ÿæï¼Œé™æ™‚ä¾›æ‡‰', content: 'Pizza Hut ç‚ºæ…¶ç¥å†¬å­£ä¾†è‡¨ï¼Œç‰¹åˆ¥æ¨å‡ºä¸‰æ¬¾å…¨æ–°é™å®šå£å‘³æŠ«è–©ã€‚ä½¿ç”¨é€²å£èµ·å¸å’Œç•¶å­£æ–°é®®é£Ÿæï¼Œå£æ„Ÿæ¿ƒéƒä¸”ç‡Ÿé¤Šè±å¯Œ...', cover_image: 'news_pizza_winter.jpg', author: 'Pizza Hut', views: 890, is_featured: 1, published_at: '2024-11-15 14:00:00', created_at: '2024-11-14 10:00:00' },
                { id: 3, category: 'å•†å®¶æ–°è', title: 'Sedona Hotel ç²é¸å¹´åº¦æœ€ä½³é£¯åº—', summary: 'é€£çºŒä¸‰å¹´æ¦®ç²ç·¬ç”¸æœ€ä½³æœå‹™ç', content: 'Sedona Hotel æ†‘è—‰å„ªè³ªçš„æœå‹™å“è³ªå’Œå®Œå–„çš„è¨­æ–½ï¼Œé€£çºŒç¬¬ä¸‰å¹´æ¦®ç²ç·¬ç”¸æ—…éŠå”æœƒé ’ç™¼çš„ã€Œå¹´åº¦æœ€ä½³é£¯åº—ã€çé …...', cover_image: 'news_hotel_award.jpg', author: 'Sedona Hotel', views: 670, is_featured: 1, published_at: '2024-11-10 09:00:00', created_at: '2024-11-09 16:00:00' },
                { id: 4, category: 'å…¬ç›Šæ´»å‹•', title: 'æ„›å¿ƒææ¬¾çªç ´ 1000 è¬ MMK', summary: 'MyanLife ç”¨æˆ¶å…±åŒå‰µé€ çš„å…¬ç›Šå¥‡è¹Ÿ', content: 'è‡ª 2024 å¹´åˆå•Ÿå‹•å…¬ç›Šææ¬¾è¨ˆç•«ä»¥ä¾†ï¼ŒMyanLife å¹³å°ç”¨æˆ¶çš„æ„›å¿ƒææ¬¾å·²çªç ´ 1000 è¬ç·¬å…ƒå¤§é—œï¼Œå¹«åŠ©è¶…é 500 å€‹å®¶åº­æ”¹å–„ç”Ÿæ´»...', cover_image: 'news_charity_milestone.jpg', author: 'å…¬ç›Šéƒ¨é–€', views: 1520, is_featured: 1, published_at: '2024-11-08 11:00:00', created_at: '2024-11-07 14:00:00' },
                { id: 5, category: 'ç”¢æ¥­å‹•æ…‹', title: 'ç·¬ç”¸é›»å•†å¸‚å ´ 2024 å¹´æˆé•· 35%', summary: 'è¡Œå‹•æ”¯ä»˜æ™®åŠå¸¶å‹•ç·šä¸Šæ¶ˆè²»ç†±æ½®', content: 'æ ¹æ“šç·¬ç”¸å•†å‹™éƒ¨æœ€æ–°çµ±è¨ˆï¼Œ2024 å¹´é›»å•†å¸‚å ´è¦æ¨¡è¼ƒå»å¹´æˆé•· 35%ï¼Œå…¶ä¸­è¡Œå‹•æ”¯ä»˜ä½¿ç”¨ç‡æå‡è‡³ 68%...', cover_image: 'news_ecommerce_growth.jpg', author: 'ç”¢æ¥­åˆ†æå¸«', views: 450, is_featured: 0, published_at: '2024-11-18 16:00:00', created_at: '2024-11-18 10:00:00' },
                { id: 6, category: 'å¹³å°å…¬å‘Š', title: 'æ–°å¢å¤šç¨®æ”¯ä»˜æ–¹å¼', summary: 'æ”¯æ´ KBZ Payã€Wave Payã€CB Pay', content: 'MyanLife å¹³å°ç‚ºæä¾›ç”¨æˆ¶æ›´ä¾¿åˆ©çš„æ”¯ä»˜é¸é …ï¼Œæ–°å¢æ”¯æ´ KBZ Payã€Wave Payã€CB Pay ä¸‰å¤§è¡Œå‹•æ”¯ä»˜ç³»çµ±...', cover_image: 'news_payment_methods.jpg', author: 'ç³»çµ±ç®¡ç†å“¡', views: 820, is_featured: 0, published_at: '2024-11-12 10:00:00', created_at: '2024-11-11 15:00:00' },
                { id: 7, category: 'ç¾é£Ÿæ¨è–¦', title: 'ä»°å…‰åå¤§å¿…åƒç¾é£Ÿé¤å»³', summary: 'å¾è¡—é‚Šå°åƒåˆ°é«˜ç´šé¤å»³å®Œæ•´æ¨è–¦', content: 'ä»°å…‰ä½œç‚ºç·¬ç”¸æœ€å¤§åŸå¸‚ï¼Œæ“æœ‰è±å¯Œå¤šå…ƒçš„ç¾é£Ÿæ–‡åŒ–ã€‚æœ¬ç¯‡ç‚ºæ‚¨ç²¾é¸åå®¶å¿…è¨ªé¤å»³ï¼Œæ¶µè“‹ç·¬å¼ã€æ³°å¼ã€ä¸­å¼ã€è¥¿å¼æ–™ç†...', cover_image: 'news_top10_restaurants.jpg', author: 'ç¾é£Ÿç·¨è¼¯', views: 1120, is_featured: 0, published_at: '2024-11-16 12:00:00', created_at: '2024-11-15 09:00:00' },
                { id: 8, category: 'æ—…éŠè³‡è¨Š', title: 'è’²ç”˜ä½›å¡”ç¾¤æ—…éŠæ”»ç•¥', summary: 'ä¸‰å¤©å…©å¤œå®Œæ•´è¡Œç¨‹è¦åŠƒ', content: 'è’²ç”˜æ“æœ‰è¶…é 2000 åº§ä½›å¡”ï¼Œæ˜¯ä¸–ç•Œæ–‡åŒ–éºç”¢ã€‚æœ¬æ–‡æä¾›ä¸‰å¤©å…©å¤œçš„å®Œæ•´è¡Œç¨‹è¦åŠƒï¼ŒåŒ…å«äº¤é€šã€ä½å®¿ã€å¿…è¨ªæ™¯é»æ¨è–¦...', cover_image: 'news_bagan_guide.jpg', author: 'æ—…éŠç·¨è¼¯', views: 980, is_featured: 0, published_at: '2024-11-14 15:00:00', created_at: '2024-11-13 11:00:00' },
                { id: 9, category: 'å•†å®¶æ–°è', title: 'å¹´çµ‚è³¼ç‰©ç¯€å³å°‡é–‹è·‘', summary: 'å…¨å¹³å°å•†å®¶å„ªæƒ æœ€ä½ 5 æŠ˜èµ·', content: 'ä¸€å¹´ä¸€åº¦çš„å¹´çµ‚è³¼ç‰©ç¯€å°‡æ–¼ 12 æœˆ 1 æ—¥æ­£å¼é–‹è·‘ï¼Œå…¨å¹³å°å•†å®¶æä¾›æœ€ä½ 5 æŠ˜èµ·çš„è¶…å€¼å„ªæƒ ï¼ŒéŒ¯éå†ç­‰ä¸€å¹´...', cover_image: 'news_shopping_festival.jpg', author: 'è¡ŒéŠ·éƒ¨é–€', views: 1580, is_featured: 1, published_at: '2024-11-17 10:00:00', created_at: '2024-11-16 14:00:00' },
                { id: 10, category: 'å¹³å°å…¬å‘Š', title: 'MyanLife App å³å°‡æ¨å‡º', summary: 'iOS å’Œ Android é›™å¹³å°åŒæ­¥ä¸Šç·š', content: 'MyanLife æ‰‹æ©Ÿæ‡‰ç”¨ç¨‹å¼ç›®å‰å·²é€²å…¥æœ€å¾Œæ¸¬è©¦éšæ®µï¼Œé è¨ˆæ–¼ 12 æœˆä¸­æ—¬åœ¨ App Store å’Œ Google Play é›™å¹³å°ä¸Šç·š...', cover_image: 'news_app_launch.jpg', author: 'æŠ€è¡“åœ˜éšŠ', views: 2100, is_featured: 1, published_at: '2024-11-19 09:00:00', created_at: '2024-11-18 16:00:00' },
                { id: 11, category: 'ç”¢æ¥­å‹•æ…‹', title: 'ç·¬ç”¸è§€å…‰æ¥­å¾©ç”¦å¼·å‹', summary: 'åœ‹éš›æ—…å®¢äººæ•¸æ¢å¾©è‡³ç–«æƒ…å‰ 80%', content: 'ç·¬ç”¸æ—…éŠéƒ¨çµ±è¨ˆé¡¯ç¤ºï¼Œ2024 å¹´åœ‹éš›æ—…å®¢äººæ•¸å·²æ¢å¾©è‡³ç–«æƒ…å‰çš„ 80%ï¼Œå…¶ä¸­ä¾†è‡ªäºæ´²åœ°å€çš„æ—…å®¢ä½”æ¯”æœ€é«˜...', cover_image: 'news_tourism_recovery.jpg', author: 'ç”¢æ¥­åˆ†æå¸«', views: 340, is_featured: 0, published_at: '2024-11-13 14:00:00', created_at: '2024-11-13 09:00:00' },
                { id: 12, category: 'ç¾é£Ÿæ¨è–¦', title: 'ç·¬å¼å¥¶èŒ¶æ–‡åŒ–æ¢ç´¢', summary: 'å¾è¡—é‚ŠèŒ¶æ”¤åˆ°ç²¾å“å’–å•¡å»³', content: 'ç·¬å¼å¥¶èŒ¶ï¼ˆLaphet Yayï¼‰æ˜¯ç·¬ç”¸ç¨ç‰¹çš„èŒ¶é£²æ–‡åŒ–ï¼Œæœ¬æ–‡å¸¶æ‚¨æ¢ç´¢å¾å‚³çµ±è¡—é‚ŠèŒ¶æ”¤åˆ°ç¾ä»£ç²¾å“å’–å•¡å»³çš„æ¼”è®Š...', cover_image: 'news_tea_culture.jpg', author: 'ç¾é£Ÿç·¨è¼¯', views: 560, is_featured: 0, published_at: '2024-11-11 13:00:00', created_at: '2024-11-10 10:00:00' }
            ],

            // ========== é»ƒé å•†å®¶ç³»çµ± ==========
            yellow_pages: [
                { id: 1, category: 'é†«ç™‚è¨ºæ‰€', business_name: 'ä»°å…‰åœ‹éš›è¨ºæ‰€', description: 'æä¾›å…¨ç§‘è¨ºç™‚ã€å¥åº·æª¢æŸ¥ã€ç–«è‹—æ¥ç¨®ç­‰æœå‹™', address: 'ä»°å…‰å¸‚ Pyay Road 250è™Ÿ', phone: '09-400-100-100', business_hours: 'é€±ä¸€è‡³é€±å…­ 08:00-20:00', website: 'www.yangonclinic.com', rating: 4.8, is_verified: 1, created_at: '2024-10-15 09:00:00' },
                { id: 2, category: 'æ±½è»Šç¶­ä¿®', business_name: 'Express æ±½è»Šä¿é¤Šä¸­å¿ƒ', description: 'å°ˆæ¥­æ±½è»Šç¶­ä¿®ã€ä¿é¤Šã€è¼ªèƒæ›´æ›ã€éˆ‘é‡‘çƒ¤æ¼†', address: 'æ›¼å¾·å‹’å¸‚ 84th Street 120è™Ÿ', phone: '09-450-200-200', business_hours: 'é€±ä¸€è‡³é€±æ—¥ 07:00-19:00', website: null, rating: 4.5, is_verified: 1, created_at: '2024-10-20 10:00:00' },
                { id: 3, category: 'æ•™è‚²è£œç¿’', business_name: 'è‹±èªå­¸ç¿’ä¸­å¿ƒ', description: 'æä¾›æˆäººè‹±èªã€å•†æ¥­è‹±èªã€IELTS/TOEFL è€ƒè©¦åŸ¹è¨“', address: 'ä»°å…‰å¸‚ Bogyoke Aung San Road 88è™Ÿ', phone: '09-420-300-300', business_hours: 'é€±ä¸€è‡³é€±äº” 09:00-21:00', website: 'www.englishcenter.mm', rating: 4.7, is_verified: 1, created_at: '2024-09-10 11:00:00' },
                { id: 4, category: 'æ³•å¾‹æœå‹™', business_name: 'Myanmar Legal Associates', description: 'å•†æ¥­æ³•å¾‹è«®è©¢ã€åˆç´„å¯©æŸ¥ã€å…¬å¸ç™»è¨˜æœå‹™', address: 'ä»°å…‰å¸‚ Merchant Street 45è™Ÿ', phone: '09-430-400-400', business_hours: 'é€±ä¸€è‡³é€±äº” 09:00-17:00', website: 'www.myanmarlegal.com', rating: 4.9, is_verified: 1, created_at: '2024-08-25 14:00:00' },
                { id: 5, category: 'ç¾å®¹ç¾é«®', business_name: 'Glam Beauty Salon', description: 'å°ˆæ¥­ç¾é«®ã€ç¾ç”²ã€è‡‰éƒ¨è­·ç†ã€æ–°å¨˜é€ å‹', address: 'ä»°å…‰å¸‚ Shwe Gon Daing Road 33è™Ÿ', phone: '09-410-500-500', business_hours: 'é€±äºŒè‡³é€±æ—¥ 10:00-20:00', website: null, rating: 4.6, is_verified: 0, created_at: '2024-11-01 10:00:00' },
                { id: 6, category: 'æ¬å®¶æœå‹™', business_name: 'å¿«é€Ÿæ¬å®¶å…¬å¸', description: 'å±…å®¶æ¬é·ã€è¾¦å…¬å®¤æ¬é·ã€åŒ…è£æœå‹™ã€å€‰å„²æœå‹™', address: 'ä»°å…‰å¸‚ Hledan Road 78è™Ÿ', phone: '09-440-600-600', business_hours: 'é€±ä¸€è‡³é€±æ—¥ 06:00-22:00', website: null, rating: 4.3, is_verified: 1, created_at: '2024-10-05 15:00:00' },
                { id: 7, category: 'å¯µç‰©æœå‹™', business_name: 'Pet Care Center', description: 'å¯µç‰©ç¾å®¹ã€å¯µç‰©é†«ç™‚ã€å¯µç‰©ç”¨å“ã€å¯µç‰©ä½å®¿', address: 'æ›¼å¾·å‹’å¸‚ 35th Street 56è™Ÿ', phone: '09-460-700-700', business_hours: 'é€±ä¸€è‡³é€±æ—¥ 08:00-18:00', website: 'www.petcare.mm', rating: 4.7, is_verified: 1, created_at: '2024-09-20 09:00:00' },
                { id: 8, category: 'æ¸…æ½”æœå‹™', business_name: 'å°ˆæ¥­æ¸…æ½”å…¬å¸', description: 'å±…å®¶æ¸…æ½”ã€è¾¦å…¬å®¤æ¸…æ½”ã€è£æ½¢å¾Œæ¸…æ½”ã€åœ°æ¯¯æ¸…æ´—', address: 'ä»°å…‰å¸‚ Insein Road 99è™Ÿ', phone: '09-470-800-800', business_hours: 'é€±ä¸€è‡³é€±å…­ 07:00-19:00', website: null, rating: 4.4, is_verified: 0, created_at: '2024-10-28 11:00:00' },
                { id: 9, category: 'æ°´é›»ç¶­ä¿®', business_name: '24å°æ™‚æ°´é›»æ€¥ä¿®', description: 'æ°´é›»ç¶­ä¿®ã€ç®¡ç·šç–é€šã€å†·æ°£å®‰è£ç¶­ä¿®ã€é›»å™¨ä¿®ç†', address: 'ä»°å…‰å¸‚ Ahlone Road 67è™Ÿ', phone: '09-480-900-900', business_hours: '24å°æ™‚ç‡Ÿæ¥­', website: null, rating: 4.2, is_verified: 1, created_at: '2024-11-10 13:00:00' },
                { id: 10, category: 'æ”å½±æœå‹™', business_name: 'Golden Moment Photography', description: 'å©šç¦®æ”å½±ã€æ´»å‹•æ”å½±ã€å•†æ¥­æ”å½±ã€è­‰ä»¶ç…§', address: 'ä»°å…‰å¸‚ Inya Road 22è™Ÿ', phone: '09-490-100-100', business_hours: 'é€±ä¸€è‡³é€±æ—¥ 09:00-18:00ï¼ˆéœ€é ç´„ï¼‰', website: 'www.goldenmoment.mm', rating: 4.9, is_verified: 1, created_at: '2024-09-15 10:00:00' }
            ],

            // ========== å…¬ç›Šæ´»å‹•ç³»çµ± ==========
            charity_activities: [
                { id: 1, title: 'åé„‰å…’ç«¥æ•™è‚²æ”¯æŒè¨ˆç•«', description: 'ç‚ºåé„‰åœ°å€å…’ç«¥æä¾›æ•™è‚²è³‡æºï¼ŒåŒ…å«æ›¸ç±ã€æ–‡å…·ã€èª²æ¡Œæ¤…ç­‰', organization: 'Myanmar Education Foundation', target_amount: 5000000, current_amount: 3240000, donor_count: 156, start_date: '2024-10-01 00:00:00', end_date: '2024-12-31 23:59:59', cover_image: 'charity_education.jpg', status: 'active', created_at: '2024-09-25 10:00:00' },
                { id: 2, title: 'å¼±å‹¢å®¶åº­é£Ÿç‰©éŠ€è¡Œ', description: 'ç‚ºç¶“æ¿Ÿå›°é›£å®¶åº­æä¾›æ¯æœˆåŸºæœ¬ç³§é£ŸåŒ…ï¼ŒåŒ…å«ç±³ã€æ²¹ã€ç½é ­ç­‰æ°‘ç”Ÿå¿…éœ€å“', organization: 'Yangon Food Bank', target_amount: 3000000, current_amount: 2850000, donor_count: 203, start_date: '2024-11-01 00:00:00', end_date: '2024-11-30 23:59:59', cover_image: 'charity_foodbank.jpg', status: 'active', created_at: '2024-10-28 11:00:00' },
                { id: 3, title: 'æµæµªå‹•ç‰©æ•‘æ´ä¸­å¿ƒ', description: 'æ•‘æ´ã€é†«ç™‚ã€çµ•è‚²æµæµªè²“ç‹—ï¼Œæä¾›è‡¨æ™‚æ”¶å®¹ä¸¦åª’åˆé ˜é¤Š', organization: 'Myanmar Animal Rescue', target_amount: 2000000, current_amount: 2100000, donor_count: 89, start_date: '2024-09-15 00:00:00', end_date: '2024-11-15 23:59:59', cover_image: 'charity_animal.jpg', status: 'completed', created_at: '2024-09-10 09:00:00' },
                { id: 4, title: 'ç½å€é‡å»ºæ´åŠ©', description: 'å”åŠ©æ´ªç½å—ç½åœ°å€é€²è¡Œæˆ¿å±‹é‡å»ºã€åŸºç¤è¨­æ–½ä¿®å¾©', organization: 'Red Cross Myanmar', target_amount: 10000000, current_amount: 6780000, donor_count: 421, start_date: '2024-10-10 00:00:00', end_date: '2025-01-31 23:59:59', cover_image: 'charity_disaster.jpg', status: 'active', created_at: '2024-10-08 14:00:00' },
                { id: 5, title: 'è€äººé—œæ‡·é€é¤æœå‹™', description: 'ç‚ºç¨å±…è€äººæä¾›æ¯æ—¥ç†±é£Ÿé€é¤æœå‹™ï¼Œé—œæ‡·é•·è€…èº«å¿ƒå¥åº·', organization: 'Senior Care Association', target_amount: 1500000, current_amount: 980000, donor_count: 67, start_date: '2024-11-05 00:00:00', end_date: '2024-12-25 23:59:59', cover_image: 'charity_elderly.jpg', status: 'active', created_at: '2024-11-01 10:00:00' },
                { id: 6, title: 'ç·¬ç”¸é†«ç™‚ç‰©è³‡æè´ˆ', description: 'ç‚ºåé åœ°å€è¨ºæ‰€æä¾›åŸºæœ¬é†«ç™‚è¨­å‚™å’Œè—¥å“', organization: 'Health For All Myanmar', target_amount: 8000000, current_amount: 4560000, donor_count: 298, start_date: '2024-10-20 00:00:00', end_date: '2024-12-31 23:59:59', cover_image: 'charity_medical.jpg', status: 'active', created_at: '2024-10-15 15:00:00' }
            ],

            // ========== è·ç¼ºæ‹›å‹Ÿç³»çµ± ==========
            vacancies: [
                { id: 1, job_title: 'å…¨ç«¯å·¥ç¨‹å¸«ï¼ˆFull Stack Developerï¼‰', company: 'MyanLife Technology', location: 'ä»°å…‰å¸‚ä¸­å¿ƒ', job_type: 'full_time', salary_range: '1,500,000 - 2,500,000 MMK', description: 'è² è²¬ç¶²ç«™å‰å¾Œç«¯é–‹ç™¼ã€è³‡æ–™åº«è¨­è¨ˆã€API é–‹ç™¼ã€‚éœ€ç†Ÿæ‚‰ Reactã€Node.jsã€MySQLã€‚', requirements: '2å¹´ä»¥ä¸Šå·¥ä½œç¶“é©—ã€ç†Ÿæ‚‰ JavaScript/TypeScriptã€å…·å‚™åœ˜éšŠåˆä½œç²¾ç¥', benefits: 'é€±ä¼‘äºŒæ—¥ã€å‹å¥ä¿ã€å¹´çµ‚çé‡‘ã€å“¡å·¥æ—…éŠ', contact_email: 'hr@myanlife.com', posted_date: '2024-11-15 10:00:00', deadline: '2024-12-15 23:59:59', is_active: 1, views: 234 },
                { id: 2, job_title: 'æ•¸ä½è¡ŒéŠ·å°ˆå“¡', company: 'MyanLife Technology', location: 'ä»°å…‰å¸‚', job_type: 'full_time', salary_range: '800,000 - 1,200,000 MMK', description: 'è² è²¬ç¤¾ç¾¤åª’é«”ç¶“ç‡Ÿã€å»£å‘ŠæŠ•æ”¾ã€å…§å®¹ä¼åŠƒã€æ•¸æ“šåˆ†æã€‚', requirements: '1å¹´ä»¥ä¸Šè¡ŒéŠ·ç¶“é©—ã€ç†Ÿæ‚‰ Facebook/Instagram å»£å‘Šã€å…·å‚™æ–‡æ¡ˆæ’°å¯«èƒ½åŠ›', benefits: 'å½ˆæ€§ä¸Šç­ã€ç¸¾æ•ˆçé‡‘ã€æ•™è‚²è¨“ç·´', contact_email: 'marketing@myanlife.com', posted_date: '2024-11-12 14:00:00', deadline: '2024-12-10 23:59:59', is_active: 1, views: 189 },
                { id: 3, job_title: 'å¤–å ´æœå‹™äººå“¡', company: 'Pizza Hut Myanmar', location: 'ä»°å…‰/æ›¼å¾·å‹’', job_type: 'full_time', salary_range: '500,000 - 700,000 MMK', description: 'è² è²¬é¡§å®¢æ¥å¾…ã€é»é¤æœå‹™ã€ç’°å¢ƒç¶­è­·ã€‚ç„¡ç¶“é©—å¯ï¼Œæä¾›å®Œæ•´åŸ¹è¨“ã€‚', requirements: 'æ…‹åº¦è¦ªåˆ‡ã€å…·æœå‹™ç†±å¿±ã€å¯é…åˆæ’ç­', benefits: 'å“¡å·¥é¤é»ã€çé‡‘åˆ¶åº¦ã€å‡é·æ©Ÿæœƒ', contact_email: 'recruit@pizzahut.mm', posted_date: '2024-11-18 09:00:00', deadline: '2024-12-20 23:59:59', is_active: 1, views: 456 },
                { id: 4, job_title: 'é£¯åº—æ«ƒæª¯äººå“¡', company: 'Sedona Hotel', location: 'ä»°å…‰å¸‚', job_type: 'full_time', salary_range: '600,000 - 900,000 MMK', description: 'è² è²¬æˆ¿å®¢æ¥å¾…ã€è¨‚æˆ¿ç®¡ç†ã€è«®è©¢æœå‹™ã€‚éœ€å…·å‚™è‹±èªæºé€šèƒ½åŠ›ã€‚', requirements: 'è‹±èªæµåˆ©ã€å…·æœå‹™æ¥­ç¶“é©—ä½³ã€ç†Ÿæ‚‰é›»è…¦æ“ä½œ', benefits: 'å“¡å·¥å®¿èˆã€ä¸‰é¤æä¾›ã€å¹´çµ‚çé‡‘', contact_email: 'hr@sedonahotel.mm', posted_date: '2024-11-10 11:00:00', deadline: '2024-12-05 23:59:59', is_active: 1, views: 312 },
                { id: 5, job_title: 'æœƒè¨ˆåŠ©ç†', company: 'Golden Trading Co.', location: 'æ›¼å¾·å‹’å¸‚', job_type: 'full_time', salary_range: '700,000 - 1,000,000 MMK', description: 'è² è²¬å¸³å‹™è™•ç†ã€ç™¼ç¥¨ç®¡ç†ã€å ±è¡¨è£½ä½œã€‚', requirements: 'æœƒè¨ˆç›¸é—œç§‘ç³»ç•¢æ¥­ã€ç†Ÿæ‚‰ Excelã€ç´°å¿ƒè² è²¬', benefits: 'é€±ä¼‘äºŒæ—¥ã€å‹å¥ä¿ã€å›ºå®šèª¿è–ª', contact_email: 'account@goldentrading.mm', posted_date: '2024-11-08 15:00:00', deadline: '2024-11-30 23:59:59', is_active: 1, views: 178 },
                { id: 6, job_title: 'UI/UX è¨­è¨ˆå¸«', company: 'Creative Studio Myanmar', location: 'ä»°å…‰å¸‚ï¼ˆå¯é ç«¯ï¼‰', job_type: 'full_time', salary_range: '1,200,000 - 1,800,000 MMK', description: 'è² è²¬ç¶²ç«™ã€App ä»‹é¢è¨­è¨ˆã€ä½¿ç”¨è€…é«”é©—å„ªåŒ–ã€‚', requirements: '2å¹´ä»¥ä¸Šè¨­è¨ˆç¶“é©—ã€ç†Ÿæ‚‰ Figma/Sketchã€ä½œå“é›†å¿…å‚™', benefits: 'å½ˆæ€§å·¥æ™‚ã€é ç«¯å·¥ä½œã€MacBook é…å‚™', contact_email: 'design@creativestudio.mm', posted_date: '2024-11-17 10:00:00', deadline: '2024-12-15 23:59:59', is_active: 1, views: 267 },
                { id: 7, job_title: 'å€‰ç®¡äººå“¡', company: 'Logistics Express', location: 'ä»°å…‰å¸‚éƒŠ', job_type: 'full_time', salary_range: '550,000 - 750,000 MMK', description: 'è² è²¬è²¨ç‰©é€²å‡ºç®¡ç†ã€åº«å­˜ç›¤é»ã€åŒ…è£å‡ºè²¨ã€‚', requirements: 'å…·å€‰å„²ç¶“é©—ä½³ã€èƒ½æ¬é‹é‡ç‰©ã€é…åˆåŠ ç­', benefits: 'åŠ ç­è²»ã€äº¤é€šæ´¥è²¼ã€å¹´çµ‚çé‡‘', contact_email: 'warehouse@logisticsexp.mm', posted_date: '2024-11-14 13:00:00', deadline: '2024-12-10 23:59:59', is_active: 1, views: 203 },
                { id: 8, job_title: 'å®¢æœå°ˆå“¡ï¼ˆå…¼è·ï¼‰', company: 'MyanLife Technology', location: 'ä»°å…‰å¸‚ï¼ˆå¯åœ¨å®¶å·¥ä½œï¼‰', job_type: 'part_time', salary_range: 'æ™‚è–ª 3,000 - 4,000 MMK', description: 'è² è²¬ç·šä¸Šå®¢æˆ¶è«®è©¢ã€å•é¡Œè™•ç†ã€è¨‚å–®è¿½è¹¤ã€‚å½ˆæ€§æ’ç­ï¼Œé©åˆå­¸ç”Ÿæˆ–äºŒåº¦å°±æ¥­è€…ã€‚', requirements: 'å…·è€å¿ƒã€æºé€šèƒ½åŠ›ä½³ã€ç†Ÿæ‚‰é›»è…¦æ“ä½œ', benefits: 'å½ˆæ€§æ™‚é–“ã€åœ¨å®¶å·¥ä½œã€ç¸¾æ•ˆçé‡‘', contact_email: 'cs@myanlife.com', posted_date: '2024-11-16 16:00:00', deadline: '2024-12-20 23:59:59', is_active: 1, views: 421 }
            ],

            // ========== ç•¶å‰ç‹€æ…‹ ==========
            currentUser: null,
            currentMerchant: null,

            // ========== å·¥å…·æ–¹æ³• ==========
            init() {
                const savedData = localStorage.getItem('myanlife_data');
                if (savedData) {
                    try {
                        const parsed = JSON.parse(savedData);

                        // æª¢æŸ¥ç‰ˆæœ¬è™Ÿï¼Œå¦‚æœä¸åŒ¹é…å‰‡æ¸…é™¤èˆŠæ•¸æ“š
                        if (parsed._version !== this._version) {
                            console.log('ğŸ”„ æ•¸æ“šç‰ˆæœ¬ä¸åŒ¹é…ï¼Œæ¸…é™¤èˆŠæ•¸æ“šä¸¦ä½¿ç”¨æ–°ç‰ˆæœ¬');
                            localStorage.removeItem('myanlife_data');
                            return;
                        }

                        Object.assign(this, parsed);
                        console.log('âœ… æ•¸æ“šå·²å¾ LocalStorage è¼‰å…¥ (ç‰ˆæœ¬: ' + this._version + ')');
                    } catch (e) {
                        console.error('âŒ è¼‰å…¥æ•¸æ“šå¤±æ•—:', e);
                    }
                }
            },

            save() {
                try {
                    const dataToSave = { ...this };
                    delete dataToSave.init;
                    delete dataToSave.save;
                    delete dataToSave.find;
                    delete dataToSave.create;
                    delete dataToSave.update;
                    delete dataToSave.delete;
                    localStorage.setItem('myanlife_data', JSON.stringify(dataToSave));
                } catch (e) {
                    console.error('âŒ ä¿å­˜æ•¸æ“šå¤±æ•—:', e);
                }
            },

            find(table, id) {
                return this[table].find(item => item.id === id);
            },

            create(table, data) {
                const maxId = Math.max(...this[table].map(item => item.id), 0);
                const newItem = { id: maxId + 1, ...data, created_at: new Date().toISOString() };
                this[table].push(newItem);
                this.save();
                return newItem;
            },

            update(table, id, data) {
                const index = this[table].findIndex(item => item.id === id);
                if (index !== -1) {
                    this[table][index] = { ...this[table][index], ...data, updated_at: new Date().toISOString() };
                    this.save();
                    return this[table][index];
                }
                return null;
            },

            delete(table, id) {
                const index = this[table].findIndex(item => item.id === id);
                if (index !== -1) {
                    this[table].splice(index, 1);
                    this.save();
                    return true;
                }
                return false;
            }
        };

        // åˆå§‹åŒ–æ•¸æ“š
        AppData.init();

        // ============================================
        // æœƒå“¡ç«¯äº’å‹•åŠŸèƒ½
        // ============================================

        // å•†å“è©³æƒ…é 
        function showProductDetail(productName, emoji, price, category, description, merchant, rating, productId) {
            const content = `
                <div style="text-align: center;">
                    <div style="font-size: 5em; margin-bottom: 20px;">${emoji}</div>
                    <h2 style="margin-bottom: 10px; color: #333;">${productName}</h2>
                    <div style="color: #f57c00; margin-bottom: 20px;">ğŸ·ï¸ ${category}</div>
                    <div style="font-size: 1.8em; color: #667eea; font-weight: bold; margin-bottom: 20px;">${price} MMK</div>
                </div>

                <div style="border-top: 1px solid #e5e7eb; padding-top: 20px; margin-top: 20px;">
                    <h4 style="margin-bottom: 15px; color: #333;">ğŸ“ å•†å“æè¿°</h4>
                    <p style="color: #666; line-height: 1.6;">${description}</p>
                </div>

                <div style="border-top: 1px solid #e5e7eb; padding-top: 20px; margin-top: 20px;">
                    <h4 style="margin-bottom: 15px; color: #333;">ğŸª å•†å®¶è³‡è¨Š</h4>
                    <p style="color: #666;"><strong>å•†å®¶åç¨±ï¼š</strong>${merchant}</p>
                    <p style="color: #666;"><strong>è©•åˆ†ï¼š</strong>${rating} â­</p>
                </div>

                <div style="border-top: 1px solid #e5e7eb; padding-top: 20px; margin-top: 20px;">
                    <h4 style="margin-bottom: 15px; color: #333;">â­ é¡§å®¢è©•åƒ¹</h4>
                    <div style="background: #f9fafb; padding: 15px; border-radius: 8px; margin-bottom: 10px;">
                        <div style="margin-bottom: 5px;"><strong>å¼µå°æ˜</strong> <span style="color: #fbbf24;">â­â­â­â­â­</span></div>
                        <p style="color: #666; font-size: 0.95em;">éå¸¸å¥½åƒï¼æŠ«è–©æ–™å¾ˆå¤šï¼ŒCPå€¼å¾ˆé«˜ï¼</p>
                    </div>
                    <div style="background: #f9fafb; padding: 15px; border-radius: 8px;">
                        <div style="margin-bottom: 5px;"><strong>æå°è¯</strong> <span style="color: #fbbf24;">â­â­â­â­</span></div>
                        <p style="color: #666; font-size: 0.95em;">å„ªæƒ å¾ˆåˆ’ç®—ï¼Œæœƒå†å›è³¼ï¼</p>
                    </div>
                </div>
            `;

            const footer = `
                <button class="btn-secondary" onclick="closeModal()">è¿”å›</button>
                <button class="btn-primary" onclick="handleBuyProduct('${productName}', '${price}', ${productId})">ç«‹å³è³¼è²·</button>
            `;

            showModal('ğŸ›ï¸ å•†å“è©³æƒ…', content, footer);
        }

        // è³¼è²·å•†å“ - é¡¯ç¤ºä»˜æ¬¾é é¢
        function handleBuyProduct(productName, price, productId) {
            closeModal();

            const product = AppData.find('products', productId);
            if (!product) {
                showToast('å•†å“ä¸å­˜åœ¨', 'error');
                return;
            }

            showPaymentPage(product);
        }

        // é¡¯ç¤ºä»˜æ¬¾é é¢
        function showPaymentPage(product) {
            const categories = AppData.product_categories || [];
            const category = categories.find(cat => cat.id === product.category_id);
            const categoryName = category?.category_name || 'å…¶ä»–';

            const content = `
                <div style="margin-bottom: 25px;">
                    <h3 style="margin-bottom: 20px; color: #333; border-bottom: 2px solid #667eea; padding-bottom: 10px;">ğŸ“¦ è¨‚å–®ç¢ºèª</h3>

                    <!-- å•†å“è³‡è¨Š -->
                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; gap: 20px; align-items: center;">
                            <div style="font-size: 4em;">${product.cover_image || 'ğŸ›ï¸'}</div>
                            <div style="flex: 1;">
                                <h4 style="margin-bottom: 8px; color: #333;">${product.product_name}</h4>
                                <p style="color: #666; font-size: 0.9em; margin-bottom: 8px;">ğŸ·ï¸ ${categoryName}</p>
                                <p style="color: #999; font-size: 0.85em;">æ•¸é‡ï¼š1</p>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 1.5em; color: #667eea; font-weight: bold;">${product.selling_price?.toLocaleString()} MMK</div>
                            </div>
                        </div>
                    </div>

                    <!-- åƒ¹æ ¼æ˜ç´° -->
                    <div style="background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 20px; margin-bottom: 25px;">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸ’° åƒ¹æ ¼æ˜ç´°</h4>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px dashed #e5e7eb;">
                            <span style="color: #666;">å•†å“åƒ¹æ ¼</span>
                            <span style="color: #333;">${product.selling_price?.toLocaleString()} MMK</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px dashed #e5e7eb;">
                            <span style="color: #666;">æœå‹™è²»</span>
                            <span style="color: #10b981;">å…è²»</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; font-size: 1.2em; font-weight: bold; margin-top: 15px;">
                            <span style="color: #333;">ç¸½è¨ˆ</span>
                            <span style="color: #667eea;">${product.selling_price?.toLocaleString()} MMK</span>
                        </div>
                    </div>

                    <!-- ä»˜æ¬¾æ–¹å¼é¸æ“‡ -->
                    <div style="margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸ’³ é¸æ“‡ä»˜æ¬¾æ–¹å¼</h4>
                        <div id="paymentMethods">
                            <label class="payment-option" style="display: flex; align-items: center; padding: 15px; border: 2px solid #e5e7eb; border-radius: 12px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s;" onclick="selectPaymentMethod(this, 'kbz')">
                                <input type="radio" name="payment" value="kbz" style="margin-right: 15px; width: 20px; height: 20px; cursor: pointer;">
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; color: #333; margin-bottom: 3px;">ğŸ’° KBZ Pay</div>
                                    <div style="font-size: 0.85em; color: #666;">ç·¬ç”¸æœ€å—æ­¡è¿çš„è¡Œå‹•æ”¯ä»˜</div>
                                </div>
                            </label>

                            <label class="payment-option" style="display: flex; align-items: center; padding: 15px; border: 2px solid #e5e7eb; border-radius: 12px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s;" onclick="selectPaymentMethod(this, 'wave')">
                                <input type="radio" name="payment" value="wave" style="margin-right: 15px; width: 20px; height: 20px; cursor: pointer;">
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; color: #333; margin-bottom: 3px;">ğŸ“± Wave Pay</div>
                                    <div style="font-size: 0.85em; color: #666;">å¿«é€Ÿå®‰å…¨çš„è¡Œå‹•æ”¯ä»˜</div>
                                </div>
                            </label>

                            <label class="payment-option" style="display: flex; align-items: center; padding: 15px; border: 2px solid #e5e7eb; border-radius: 12px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s;" onclick="selectPaymentMethod(this, 'cb')">
                                <input type="radio" name="payment" value="cb" style="margin-right: 15px; width: 20px; height: 20px; cursor: pointer;">
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; color: #333; margin-bottom: 3px;">ğŸ’µ CB Pay</div>
                                    <div style="font-size: 0.85em; color: #666;">CB Bank è¡Œå‹•æ”¯ä»˜</div>
                                </div>
                            </label>

                            <label class="payment-option" style="display: flex; align-items: center; padding: 15px; border: 2px solid #e5e7eb; border-radius: 12px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s;" onclick="selectPaymentMethod(this, 'card')">
                                <input type="radio" name="payment" value="card" style="margin-right: 15px; width: 20px; height: 20px; cursor: pointer;">
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; color: #333; margin-bottom: 3px;">ğŸ’³ ä¿¡ç”¨å¡ / ç°½å¸³å¡</div>
                                    <div style="font-size: 0.85em; color: #666;">Visaã€Mastercardã€JCB</div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div style="background: #fef3c7; padding: 12px 16px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                        <p style="color: #92400e; font-size: 0.9em; margin: 0;">
                            <strong>ğŸ’¡ æç¤ºï¼š</strong>è«‹ç¢ºèªè¨‚å–®è³‡è¨Šç„¡èª¤å¾Œå†é€²è¡Œä»˜æ¬¾ã€‚ä»˜æ¬¾æˆåŠŸå¾Œï¼Œè¨‚å–®å°‡ç«‹å³ç”Ÿæˆã€‚
                        </p>
                    </div>
                </div>
            `;

            const footer = `
                <button class="btn-secondary" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="btn-primary" onclick="confirmPayment(${product.id})" id="confirmPaymentBtn" disabled style="opacity: 0.5; cursor: not-allowed;">ç¢ºèªä»˜æ¬¾</button>
            `;

            showModal('ğŸ’³ ä»˜æ¬¾çµå¸³', content, footer);
        }

        // é¸æ“‡ä»˜æ¬¾æ–¹å¼
        function selectPaymentMethod(element, method) {
            // ç§»é™¤æ‰€æœ‰é¸é …çš„é¸ä¸­æ¨£å¼
            const options = document.querySelectorAll('.payment-option');
            options.forEach(opt => {
                opt.style.borderColor = '#e5e7eb';
                opt.style.background = 'white';
            });

            // è¨­ç½®ç•¶å‰é¸é …çš„æ¨£å¼
            element.style.borderColor = '#667eea';
            element.style.background = '#f0f4ff';

            // å‹¾é¸ radio button
            element.querySelector('input[type="radio"]').checked = true;

            // å•Ÿç”¨ç¢ºèªä»˜æ¬¾æŒ‰éˆ•
            const confirmBtn = document.getElementById('confirmPaymentBtn');
            if (confirmBtn) {
                confirmBtn.disabled = false;
                confirmBtn.style.opacity = '1';
                confirmBtn.style.cursor = 'pointer';
            }

            // ä¿å­˜é¸æ“‡çš„ä»˜æ¬¾æ–¹å¼
            window.selectedPaymentMethod = method;
        }

        // ç¢ºèªä»˜æ¬¾
        function confirmPayment(productId) {
            if (!window.selectedPaymentMethod) {
                showToast('è«‹é¸æ“‡ä»˜æ¬¾æ–¹å¼', 'warning');
                return;
            }

            const product = AppData.find('products', productId);
            if (!product) {
                showToast('å•†å“ä¸å­˜åœ¨', 'error');
                return;
            }

            closeModal();

            // é¡¯ç¤ºä»˜æ¬¾è™•ç†å‹•ç•«
            showPaymentProcessing(product);
        }

        // é¡¯ç¤ºä»˜æ¬¾è™•ç†å‹•ç•«
        function showPaymentProcessing(product) {
            const paymentMethodNames = {
                'kbz': 'KBZ Pay',
                'wave': 'Wave Pay',
                'cb': 'CB Pay',
                'card': 'ä¿¡ç”¨å¡'
            };

            const methodName = paymentMethodNames[window.selectedPaymentMethod] || 'ä»˜æ¬¾æ–¹å¼';

            const content = `
                <div style="text-align: center; padding: 40px 20px;">
                    <div class="spinner" style="margin: 0 auto 25px; width: 60px; height: 60px; border: 4px solid #f3f3f3; border-top: 4px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                    <h3 style="color: #333; margin-bottom: 15px;">è™•ç†ä»˜æ¬¾ä¸­...</h3>
                    <p style="color: #666; font-size: 0.95em; margin-bottom: 10px;">æ­£åœ¨ä½¿ç”¨ ${methodName} é€²è¡Œä»˜æ¬¾</p>
                    <p style="color: #999; font-size: 0.85em;">è«‹ç¨å€™ï¼Œä¸è¦é—œé–‰é é¢</p>
                </div>
            `;

            showModal('', content, '', true); // ç¬¬4å€‹åƒæ•¸è¡¨ç¤ºä¸é¡¯ç¤ºé—œé–‰æŒ‰éˆ•

            // æ¨¡æ“¬ä»˜æ¬¾è™•ç†ï¼ˆ2ç§’å¾Œå®Œæˆï¼‰
            setTimeout(() => {
                processPaymentSuccess(product);
            }, 2000);
        }

        // ä»˜æ¬¾æˆåŠŸï¼Œå‰µå»ºè¨‚å–®
        function processPaymentSuccess(product) {
            const orderId = 'ORD-' + new Date().toISOString().slice(0, 10).replace(/-/g, '') + '-' + String(AppData.member_orders.length + 1).padStart(3, '0');
            const now = new Date();
            const dateStr = now.toISOString().slice(0, 16).replace('T', ' ');

            const newOrder = {
                id: AppData.member_orders.length + 1,
                order_number: orderId,
                member_id: 1,  // å½“å‰ç”¨æˆ· ID
                product_id: product.id,
                merchant_id: product.merchant_id,
                quantity: 1,
                total_price: product.selling_price,
                status: 'pending',
                payment_method: window.selectedPaymentMethod,
                order_date: dateStr,
                created_at: dateStr,
                updated_at: dateStr
            };

            AppData.member_orders.push(newOrder);
            AppData.save(); // ä¿å­˜æ•¸æ“š

            // æ¸…é™¤é¸æ“‡çš„ä»˜æ¬¾æ–¹å¼
            window.selectedPaymentMethod = null;

            closeModal();

            // é¡¯ç¤ºä»˜æ¬¾æˆåŠŸå‹•ç•«
            showPaymentSuccessAnimation(orderId, product);
        }

        // é¡¯ç¤ºä»˜æ¬¾æˆåŠŸå‹•ç•«
        function showPaymentSuccessAnimation(orderId, product) {
            const content = `
                <div style="text-align: center; padding: 40px 20px;">
                    <div style="width: 80px; height: 80px; background: #10b981; border-radius: 50%; margin: 0 auto 25px; display: flex; align-items: center; justify-content: center; animation: successPulse 0.6s ease-out;">
                        <span style="font-size: 3em; color: white;">âœ“</span>
                    </div>
                    <h2 style="color: #10b981; margin-bottom: 15px;">ä»˜æ¬¾æˆåŠŸï¼</h2>
                    <p style="color: #666; margin-bottom: 25px;">è¨‚å–®å·²ç”Ÿæˆï¼Œæ„Ÿè¬æ‚¨çš„è³¼è²·</p>

                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 25px; text-align: left;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span style="color: #666;">è¨‚å–®ç·¨è™Ÿ</span>
                            <span style="color: #333; font-weight: 600;">${orderId}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <span style="color: #666;">å•†å“åç¨±</span>
                            <span style="color: #333;">${product.product_name}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: #666;">ä»˜æ¬¾é‡‘é¡</span>
                            <span style="color: #667eea; font-weight: 600;">${product.selling_price?.toLocaleString()} MMK</span>
                        </div>
                    </div>

                    <p style="color: #999; font-size: 0.9em;">æ‚¨å¯ä»¥åœ¨ã€Œæˆ‘çš„è¨‚å–®ã€æŸ¥çœ‹è¨‚å–®è©³æƒ…</p>
                </div>

                <style>
                    @keyframes successPulse {
                        0% { transform: scale(0); opacity: 0; }
                        50% { transform: scale(1.1); }
                        100% { transform: scale(1); opacity: 1; }
                    }
                </style>
            `;

            const footer = `
                <button class="btn-secondary" onclick="closeModal()">ç¹¼çºŒè³¼ç‰©</button>
                <button class="btn-primary" onclick="closeModal(); switchMemberView('orders');">æŸ¥çœ‹è¨‚å–®</button>
            `;

            showModal('', content, footer);

            // æ›´æ–°çµ±è¨ˆæ•¸å­—å’Œè¨‚å–®åˆ—è¡¨
            setTimeout(() => {
                updateMemberStats();
                renderOrders();
            }, 300);
        }

        // è¨‚å–®è©³æƒ…é 
        function showOrderDetail(orderId, productName, emoji, price, status, date) {
            const statusMap = {
                'pending': { text: 'å¾…æ ¸éŠ·', color: '#f59e0b' },
                'completed': { text: 'å·²å®Œæˆ', color: '#10b981' },
                'cancelled': { text: 'å·²å–æ¶ˆ', color: '#ef4444' }
            };

            const orderStatus = statusMap[status] || statusMap['pending'];

            const content = `
                <div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                    <h4 style="margin-bottom: 15px; color: #333;">ğŸ“‹ è¨‚å–®è³‡è¨Š</h4>
                    <div style="display: grid; gap: 10px;">
                        <div><strong>è¨‚å–®ç·¨è™Ÿï¼š</strong><span style="color: #666;">${orderId}</span></div>
                        <div><strong>è¨‚å–®ç‹€æ…‹ï¼š</strong><span style="color: ${orderStatus.color}; font-weight: 600;">${orderStatus.text}</span></div>
                        <div><strong>è¨‚å–®æ™‚é–“ï¼š</strong><span style="color: #666;">${date}</span></div>
                    </div>
                </div>

                <div style="display: flex; align-items: center; gap: 20px; padding: 20px; background: white; border: 1px solid #e5e7eb; border-radius: 12px; margin-bottom: 20px;">
                    <div style="font-size: 4em;">${emoji}</div>
                    <div style="flex: 1;">
                        <h3 style="margin-bottom: 5px;">${productName}</h3>
                        <p style="color: #666;">æ•¸é‡ï¼š1</p>
                    </div>
                    <div style="font-size: 1.5em; color: #667eea; font-weight: bold;">${price} MMK</div>
                </div>

                ${status === 'pending' ? `
                    <div style="text-align: center; padding: 30px; background: #f9fafb; border-radius: 12px;">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸ« æ ¸éŠ·ç¢¼</h4>
                        <div class="qr-code">ğŸ“±</div>
                        <p style="color: #666; font-size: 0.9em;">è«‹å‘å•†å®¶å‡ºç¤ºæ­¤ QR Code é€²è¡Œæ ¸éŠ·</p>
                    </div>
                ` : ''}
            `;

            const footer = status === 'pending'
                ? `
                    <button class="btn-secondary" onclick="handleCancelOrder('${orderId}')">å–æ¶ˆè¨‚å–®</button>
                    <button class="btn-primary" onclick="closeModal()">ç¢ºå®š</button>
                `
                : `<button class="btn-primary" onclick="closeModal()">ç¢ºå®š</button>`;

            showModal('ğŸ“¦ è¨‚å–®è©³æƒ…', content, footer);
        }

        // å–æ¶ˆè¨‚å–®
        function handleCancelOrder(orderId) {
            showConfirm(`ç¢ºå®šè¦å–æ¶ˆè¨‚å–®ã€Œ${orderId}ã€å—ï¼Ÿ\nå–æ¶ˆå¾Œå°‡ç„¡æ³•æ¢å¾©ã€‚`, () => {
                closeModal();
                setTimeout(() => {
                    showToast('è¨‚å–®å·²å–æ¶ˆ', 'success');
                }, 300);
            }, 'å–æ¶ˆè¨‚å–®');
        }

        // ä»»å‹™è©³æƒ…é ï¼ˆå¾ AppData è®€å–ï¼‰
        function showTaskDetail(taskId) {
            const task = AppData.find('member_tasks', taskId);
            if (!task) {
                showToast('ä»»å‹™ä¸å­˜åœ¨', 'error');
                return;
            }

            const userProgress = task.user_progress || { progress: 0, status: 'not_started' };
            const progressPercent = userProgress.progress;
            const status = userProgress.status;

            const content = `
                <div style="text-align: center; padding: 20px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border-radius: 12px; margin-bottom: 20px;">
                    <div style="font-size: 3em; margin-bottom: 10px;">ğŸ¯</div>
                    <h2 style="margin-bottom: 10px;">${task.name}</h2>
                    <div style="display: inline-block; background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px;">
                        ${task.task_type}
                    </div>
                </div>

                <div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 20px; text-align: center;">
                    <h4 style="margin-bottom: 10px; color: #333;">ğŸ ä»»å‹™çå‹µ</h4>
                    <div style="font-size: 2em; color: #667eea; font-weight: bold;">${task.reward_points} ç©åˆ†</div>
                </div>

                <div style="margin-bottom: 20px;">
                    <h4 style="margin-bottom: 15px; color: #333;">ğŸ“ ä»»å‹™èªªæ˜</h4>
                    <p style="color: #666; line-height: 1.6;">${task.description}</p>
                </div>

                <div style="margin-bottom: 20px;">
                    <h4 style="margin-bottom: 15px; color: #333;">ğŸ“Š å®Œæˆé€²åº¦</h4>
                    ${userProgress.current !== undefined && userProgress.total !== undefined ?
                        `<p style="text-align: center; font-size: 1.2em; color: #667eea; font-weight: 600; margin-bottom: 10px;">
                            ${userProgress.current} / ${userProgress.total}
                        </p>` : ''}
                    <div style="background: #e5e7eb; height: 24px; border-radius: 12px; overflow: hidden;">
                        <div style="background: linear-gradient(135deg, #667eea, #764ba2); height: 100%; width: ${progressPercent}%; transition: width 0.3s; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.85em; font-weight: 600;">
                            ${progressPercent}%
                        </div>
                    </div>
                </div>
            `;

            let footer = '';
            if (status === 'completed') {
                footer = `<button class="btn-primary" onclick="handleClaimReward(${taskId})">é ˜å–çå‹µ</button>`;
            } else if (status === 'claimed') {
                footer = `<div style="text-align: center; padding: 20px; color: #4caf50; font-weight: 600; font-size: 1.1em;">
                    âœ“ çå‹µå·²é ˜å–
                </div>`;
            } else if (status === 'not_started') {
                footer = `<button class="btn-primary" onclick="handleAcceptTask(${taskId})">æ¥å–ä»»å‹™</button>`;
            } else {
                footer = `<button class="btn-primary" onclick="closeModal()">ç¹¼çºŒåŠªåŠ›</button>`;
            }

            showModal('ğŸ¯ ä»»å‹™è©³æƒ…', content, footer);
        }

        // æ¥å–ä»»å‹™ï¼ˆå¯¦éš›æ›´æ–°æ•¸æ“šï¼‰
        function handleAcceptTask(taskId) {
            const task = AppData.find('member_tasks', taskId);
            if (task) {
                // æ›´æ–°ä»»å‹™ç‹€æ…‹ç‚ºé€²è¡Œä¸­
                task.user_progress = { member_id: 1, progress: 10, status: 'in_progress' };
                AppData.save();

                closeModal();
                setTimeout(() => {
                    showToast(`å·²æ¥å–ä»»å‹™ã€Œ${task.name}ã€ï¼`, 'success');
                    // å¯ä»¥åœ¨é€™è£¡é‡æ–°æ¸²æŸ“ä»»å‹™åˆ—è¡¨
                }, 300);
            }
        }

        // é ˜å–çå‹µï¼ˆå¯¦éš›æ›´æ–°æ•¸æ“šï¼‰
        function handleClaimReward(taskId) {
            const task = AppData.find('member_tasks', taskId);
            if (task) {
                // æ›´æ–°ç”¨æˆ¶ç©åˆ†
                if (AppData.users[0]) {
                    AppData.users[0].points += task.reward_points;
                }

                // æ¨™è¨˜ä»»å‹™ç‚ºå·²é ˜å–
                task.user_progress.status = 'claimed';
                AppData.save();

                closeModal();
                setTimeout(() => {
                    showToast(`æ­å–œå®Œæˆä»»å‹™ï¼ç²å¾— ${task.reward_points} ç©åˆ† ğŸ‰`, 'success');
                    // æ›´æ–°é é¢ä¸Šçš„ç©åˆ†é¡¯ç¤º
                    updatePointsDisplay();
                }, 300);
            }
        }

        // æ›´æ–°ç©åˆ†é¡¯ç¤º
        function updatePointsDisplay() {
            const pointsElements = document.querySelectorAll('[data-user-points]');
            const userPoints = AppData.users[0]?.points || 0;
            pointsElements.forEach(el => {
                el.textContent = userPoints;
            });
        }

        // è¨­å®šç·¨è¼¯é é¢ï¼ˆå¾ AppData è®€å–ç•¶å‰ç”¨æˆ¶è³‡æ–™ï¼‰
        function showEditProfile() {
            const user = AppData.users[0]; // å‡è¨­ç•¶å‰ç™»å…¥çš„æ˜¯ç¬¬ä¸€å€‹ç”¨æˆ¶
            if (!user) {
                showToast('ç”¨æˆ¶è³‡æ–™ä¸å­˜åœ¨', 'error');
                return;
            }

            const content = `
                <form id="profileForm">
                    <div class="form-group">
                        <label class="form-label">æš±ç¨±</label>
                        <input type="text" id="nickname" class="form-input" value="${user.nickname}" placeholder="è«‹è¼¸å…¥æš±ç¨±">
                    </div>

                    <div class="form-group">
                        <label class="form-label">é›»å­ä¿¡ç®±</label>
                        <input type="email" id="email" class="form-input" value="${user.email}" placeholder="è«‹è¼¸å…¥é›»å­ä¿¡ç®±">
                    </div>

                    <div class="form-group">
                        <label class="form-label">æ‰‹æ©Ÿè™Ÿç¢¼</label>
                        <input type="tel" id="phone" class="form-input" value="${user.phone_number}" placeholder="è«‹è¼¸å…¥æ‰‹æ©Ÿè™Ÿç¢¼">
                    </div>

                    <div class="form-group">
                        <label class="form-label">åœ°å€</label>
                        <input type="text" id="region" class="form-input" value="${user.region || ''}" placeholder="è«‹è¼¸å…¥åœ°å€">
                    </div>

                    <div class="form-group">
                        <label class="form-label">åœ°å€</label>
                        <input type="text" id="address" class="form-input" value="${user.address || ''}" placeholder="è«‹è¼¸å…¥åœ°å€">
                    </div>

                    <div class="form-group">
                        <label class="form-label">åå¥½èªè¨€</label>
                        <select id="lang" class="form-select">
                            <option value="zh-TW" ${user.preferences?.lang === 'zh-TW' ? 'selected' : ''}>ç¹é«”ä¸­æ–‡</option>
                            <option value="my-MM" ${user.preferences?.lang === 'my-MM' ? 'selected' : ''}>ç·¬ç”¸èª</option>
                            <option value="en-US" ${user.preferences?.lang === 'en-US' ? 'selected' : ''}>English</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">åå¥½è²¨å¹£</label>
                        <select id="currency" class="form-select">
                            <option value="MMK" ${user.preferences?.currency === 'MMK' ? 'selected' : ''}>MMK (ç·¬ç”¸å…ƒ)</option>
                            <option value="TWD" ${user.preferences?.currency === 'TWD' ? 'selected' : ''}>TWD (æ–°å°å¹£)</option>
                            <option value="USD" ${user.preferences?.currency === 'USD' ? 'selected' : ''}>USD (ç¾å…ƒ)</option>
                        </select>
                    </div>
                </form>
            `;

            const footer = `
                <button class="btn-secondary" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="btn-primary" onclick="handleSaveProfile()">å„²å­˜</button>
            `;

            showModal('âœï¸ ç·¨è¼¯å€‹äººè³‡æ–™', content, footer);
        }

        // å„²å­˜å€‹äººè³‡æ–™ï¼ˆå¯¦éš›æ›´æ–°æ•¸æ“šï¼‰
        function handleSaveProfile() {
            const user = AppData.users[0];
            if (!user) return;

            // è®€å–è¡¨å–®æ•¸æ“š
            const nickname = document.getElementById('nickname')?.value;
            const email = document.getElementById('email')?.value;
            const phone = document.getElementById('phone')?.value;
            const region = document.getElementById('region')?.value;
            const address = document.getElementById('address')?.value;
            const lang = document.getElementById('lang')?.value;
            const currency = document.getElementById('currency')?.value;

            // æ›´æ–°ç”¨æˆ¶æ•¸æ“š
            AppData.update('users', user.id, {
                nickname,
                email,
                phone_number: phone,
                region,
                address,
                preferences: {
                    ...user.preferences,
                    lang,
                    currency
                }
            });

            closeModal();
            setTimeout(() => {
                showToast('å€‹äººè³‡æ–™å·²æ›´æ–°ï¼', 'success');
            }, 300);
        }

        // èªè¨€è®Šæ›´è™•ç†
        function handleLangChange(lang) {
            const user = AppData.users[0];
            if (user) {
                AppData.update('users', user.id, {
                    preferences: {
                        ...user.preferences,
                        lang
                    }
                });
                showToast(`èªè¨€å·²åˆ‡æ›ç‚º ${document.getElementById('langSelect').selectedOptions[0].text}`, 'success');
            }
        }

        // è²¨å¹£è®Šæ›´è™•ç†
        function handleCurrencyChange(currency) {
            const user = AppData.users[0];
            if (user) {
                AppData.update('users', user.id, {
                    preferences: {
                        ...user.preferences,
                        currency
                    }
                });
                showToast(`è²¨å¹£å·²åˆ‡æ›ç‚º ${currency}`, 'success');
            }
        }

        // é›»å­å ±è¨‚é–±åˆ‡æ›
        function handleNewsletterToggle(checked) {
            const user = AppData.users[0];
            if (user) {
                AppData.update('users', user.id, {
                    preferences: {
                        ...user.preferences,
                        newsletter: checked
                    }
                });
                showToast(checked ? 'å·²é–‹å•Ÿé›»å­å ±è¨‚é–±' : 'å·²é—œé–‰é›»å­å ±è¨‚é–±', 'success');
            }
        }

        // æ¨æ’­é€šçŸ¥åˆ‡æ›
        function handlePushToggle(checked) {
            const user = AppData.users[0];
            if (user) {
                AppData.update('users', user.id, {
                    preferences: {
                        ...user.preferences,
                        push_notifications: checked
                    }
                });
                showToast(checked ? 'å·²é–‹å•Ÿæ¨æ’­é€šçŸ¥' : 'å·²é—œé–‰æ¨æ’­é€šçŸ¥', 'success');
            }
        }

        // ä¿ƒéŠ·è¨Šæ¯åˆ‡æ›
        function handlePromoToggle(checked) {
            const user = AppData.users[0];
            if (user) {
                AppData.update('users', user.id, {
                    preferences: {
                        ...user.preferences,
                        promotional_messages: checked
                    }
                });
                showToast(checked ? 'å·²é–‹å•Ÿä¿ƒéŠ·è¨Šæ¯' : 'å·²é—œé–‰ä¿ƒéŠ·è¨Šæ¯', 'success');
            }
        }

        // é›™é‡é©—è­‰åˆ‡æ›
        function handle2FAToggle(checked) {
            if (checked) {
                showConfirm(
                    'å•Ÿç”¨é›™é‡é©—è­‰å¾Œï¼Œæ¯æ¬¡ç™»å…¥éƒ½éœ€è¦è¼¸å…¥é©—è­‰ç¢¼ã€‚æ˜¯å¦ç¢ºå®šå•Ÿç”¨ï¼Ÿ',
                    () => {
                        const user = AppData.users[0];
                        if (user) {
                            AppData.update('users', user.id, {
                                preferences: {
                                    ...user.preferences,
                                    two_factor_auth: true
                                }
                            });
                            showToast('é›™é‡é©—è­‰å·²å•Ÿç”¨ ğŸ”', 'success');
                        }
                    },
                    'å•Ÿç”¨é›™é‡é©—è­‰'
                );
            } else {
                const user = AppData.users[0];
                if (user) {
                    AppData.update('users', user.id, {
                        preferences: {
                            ...user.preferences,
                            two_factor_auth: false
                        }
                    });
                    showToast('é›™é‡é©—è­‰å·²é—œé–‰', 'info');
                }
            }
        }

        // ä¿®æ”¹å¯†ç¢¼
        function handleChangePassword() {
            const content = `
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; color: #666;">èˆŠå¯†ç¢¼</label>
                    <input type="password" id="oldPassword" style="width: 100%; padding: 12px; border: 1px solid #e0e0e0; border-radius: 8px;" placeholder="è«‹è¼¸å…¥èˆŠå¯†ç¢¼">
                </div>
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; color: #666;">æ–°å¯†ç¢¼</label>
                    <input type="password" id="newPassword" style="width: 100%; padding: 12px; border: 1px solid #e0e0e0; border-radius: 8px;" placeholder="è«‹è¼¸å…¥æ–°å¯†ç¢¼">
                </div>
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; color: #666;">ç¢ºèªæ–°å¯†ç¢¼</label>
                    <input type="password" id="confirmPassword" style="width: 100%; padding: 12px; border: 1px solid #e0e0e0; border-radius: 8px;" placeholder="è«‹å†æ¬¡è¼¸å…¥æ–°å¯†ç¢¼">
                </div>
                <div style="background: #f0f9ff; padding: 12px; border-radius: 8px; color: #0369a1; font-size: 0.9em;">
                    ğŸ’¡ å¯†ç¢¼é ˆåŒ…å«è‡³å°‘ 8 å€‹å­—å…ƒï¼Œå»ºè­°åŒ…å«å¤§å°å¯«å­—æ¯ã€æ•¸å­—å’Œç‰¹æ®Šç¬¦è™Ÿ
                </div>
            `;

            const footer = `
                <button class="btn-secondary" onclick="closeModal()" style="margin-right: 10px;">å–æ¶ˆ</button>
                <button class="btn-primary" onclick="handleSavePassword()">ç¢ºèªä¿®æ”¹</button>
            `;

            showModal('ğŸ”’ ä¿®æ”¹å¯†ç¢¼', content, footer);
        }

        function handleSavePassword() {
            const oldPassword = document.getElementById('oldPassword')?.value;
            const newPassword = document.getElementById('newPassword')?.value;
            const confirmPassword = document.getElementById('confirmPassword')?.value;

            if (!oldPassword || !newPassword || !confirmPassword) {
                showToast('è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½', 'error');
                return;
            }

            if (newPassword !== confirmPassword) {
                showToast('æ–°å¯†ç¢¼èˆ‡ç¢ºèªå¯†ç¢¼ä¸ç¬¦', 'error');
                return;
            }

            if (newPassword.length < 8) {
                showToast('å¯†ç¢¼é•·åº¦è‡³å°‘éœ€è¦ 8 å€‹å­—å…ƒ', 'error');
                return;
            }

            // æ¨¡æ“¬å¯†ç¢¼æ›´æ–°
            closeModal();
            setTimeout(() => {
                showToast('å¯†ç¢¼å·²æˆåŠŸä¿®æ”¹ï¼', 'success');
            }, 300);
        }

        // ç®¡ç†ä»˜æ¬¾æ–¹å¼
        function handleManagePayment() {
            const content = `
                <div style="margin-bottom: 20px;">
                    <h4 style="margin-bottom: 15px; color: #333;">ğŸ’³ å·²ç¶å®šçš„ä»˜æ¬¾æ–¹å¼</h4>
                    <div style="background: #f9fafb; padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 4px solid #667eea;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 600; margin-bottom: 5px;">Visa ä¿¡ç”¨å¡</div>
                                <div style="color: #666; font-size: 0.9em;">â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ 4567</div>
                            </div>
                            <button class="action-btn reject" style="padding: 6px 12px;">è§£é™¤ç¶å®š</button>
                        </div>
                    </div>
                    <div style="background: #f9fafb; padding: 15px; border-radius: 8px; border-left: 4px solid #4caf50;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 600; margin-bottom: 5px;">Wave Money</div>
                                <div style="color: #666; font-size: 0.9em;">+95 9 123 456 789</div>
                            </div>
                            <button class="action-btn reject" style="padding: 6px 12px;">è§£é™¤ç¶å®š</button>
                        </div>
                    </div>
                </div>
                <button class="btn-primary" style="width: 100%;">â• æ–°å¢ä»˜æ¬¾æ–¹å¼</button>
            `;

            showModal('ğŸ’³ ç®¡ç†ä»˜æ¬¾æ–¹å¼', content);
        }

        // æŸ¥çœ‹æœå‹™æ¢æ¬¾
        function handleViewTerms(e) {
            e.preventDefault();
            const content = `
                <div style="max-height: 400px; overflow-y: auto; padding: 20px; background: #f9fafb; border-radius: 8px;">
                    <h4>æœå‹™æ¢æ¬¾</h4>
                    <p style="color: #666; line-height: 1.8;">
                        æ­¡è¿ä½¿ç”¨ myanLife å¹³å°æœå‹™ã€‚è«‹ä»”ç´°é–±è®€ä»¥ä¸‹æ¢æ¬¾ï¼š<br><br>
                        1. ä½¿ç”¨è€…éœ€å¹´æ»¿ 18 æ­²æˆ–ç¶“ç›£è­·äººåŒæ„<br>
                        2. å¹³å°ä¿ç•™ä¿®æ”¹æœå‹™å…§å®¹çš„æ¬Šåˆ©<br>
                        3. ä½¿ç”¨è€…éœ€éµå®ˆç•¶åœ°æ³•å¾‹æ³•è¦<br>
                        4. ç¦æ­¢ç™¼å¸ƒéæ³•æˆ–ä¸ç•¶å…§å®¹<br>
                        5. å¹³å°ä¸å°ç¬¬ä¸‰æ–¹å•†å®¶è¡Œç‚ºè² è²¬<br><br>
                        æœ€å¾Œæ›´æ–°æ™‚é–“ï¼š2025-11-18
                    </p>
                </div>
            `;
            showModal('ğŸ“„ æœå‹™æ¢æ¬¾', content);
        }

        // æŸ¥çœ‹éš±ç§æ”¿ç­–
        function handleViewPrivacy(e) {
            e.preventDefault();
            const content = `
                <div style="max-height: 400px; overflow-y: auto; padding: 20px; background: #f9fafb; border-radius: 8px;">
                    <h4>éš±ç§æ”¿ç­–</h4>
                    <p style="color: #666; line-height: 1.8;">
                        æˆ‘å€‘é‡è¦–æ‚¨çš„éš±ç§æ¬Šï¼Œä»¥ä¸‹èªªæ˜æˆ‘å€‘å¦‚ä½•æ”¶é›†å’Œä½¿ç”¨æ‚¨çš„è³‡æ–™ï¼š<br><br>
                        <strong>æ”¶é›†çš„è³‡æ–™ï¼š</strong><br>
                        - åŸºæœ¬å€‹äººè³‡æ–™ï¼ˆå§“åã€é›»å­éƒµä»¶ã€æ‰‹æ©Ÿè™Ÿç¢¼ï¼‰<br>
                        - äº¤æ˜“è¨˜éŒ„å’Œè¨‚å–®è³‡è¨Š<br>
                        - è£ç½®è³‡è¨Šå’Œä½¿ç”¨è¡Œç‚º<br><br>
                        <strong>è³‡æ–™ä½¿ç”¨ç›®çš„ï¼š</strong><br>
                        - æä¾›å’Œæ”¹å–„æœå‹™<br>
                        - è™•ç†äº¤æ˜“å’Œè¨‚å–®<br>
                        - ç™¼é€é‡è¦é€šçŸ¥å’Œè¡ŒéŠ·è¨Šæ¯ï¼ˆç¶“åŒæ„ï¼‰<br><br>
                        <strong>è³‡æ–™ä¿è­·ï¼š</strong><br>
                        æˆ‘å€‘æ¡ç”¨æ¥­ç•Œæ¨™æº–çš„å®‰å…¨æªæ–½ä¿è­·æ‚¨çš„è³‡æ–™ï¼Œçµ•ä¸æœƒå°‡æ‚¨çš„å€‹äººè³‡æ–™å‡ºå”®çµ¦ç¬¬ä¸‰æ–¹ã€‚<br><br>
                        æœ€å¾Œæ›´æ–°æ™‚é–“ï¼š2025-11-18
                    </p>
                </div>
            `;
            showModal('ğŸ”’ éš±ç§æ”¿ç­–', content);
        }

        // è¯çµ¡å®¢æœ
        function handleContactUs(e) {
            e.preventDefault();
            const content = `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 3em; margin-bottom: 15px;">ğŸ’¬</div>
                    <h4 style="margin-bottom: 20px;">æˆ‘å€‘éš¨æ™‚ç‚ºæ‚¨æœå‹™</h4>
                    <div style="background: #f9fafb; padding: 20px; border-radius: 8px; margin-bottom: 15px; text-align: left;">
                        <div style="margin-bottom: 15px;">
                            <div style="color: #666; margin-bottom: 5px;">ğŸ“§ é›»å­éƒµä»¶</div>
                            <div style="font-weight: 600; color: #667eea;">support@myanlife.com</div>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <div style="color: #666; margin-bottom: 5px;">ğŸ“ å®¢æœå°ˆç·š</div>
                            <div style="font-weight: 600; color: #667eea;">+95-1-234-5678</div>
                        </div>
                        <div>
                            <div style="color: #666; margin-bottom: 5px;">â° æœå‹™æ™‚é–“</div>
                            <div style="font-weight: 600;">é€±ä¸€è‡³é€±äº” 9:00 - 18:00 (GMT+6:30)</div>
                        </div>
                    </div>
                    <button class="btn-primary" style="width: 100%;">é–‹å•Ÿç·šä¸Šå®¢æœ</button>
                </div>
            `;
            showModal('ğŸ“ å®¢æœä¸­å¿ƒ', content);
        }

        // åˆªé™¤å¸³è™Ÿ
        function handleDeleteAccount() {
            showConfirm(
                'åˆªé™¤å¸³è™Ÿå¾Œï¼Œæ‚¨çš„æ‰€æœ‰è³‡æ–™å°‡æ°¸ä¹…ç§»é™¤ä¸”ç„¡æ³•å¾©åŸã€‚æ­¤æ“ä½œåŒ…æ‹¬ï¼š\n\nâ€¢ å€‹äººè³‡æ–™å’Œåå¥½è¨­å®š\nâ€¢ è¨‚å–®è¨˜éŒ„\nâ€¢ ç©åˆ†å’Œå„ªæƒ åˆ¸\nâ€¢ å•†å®¶é—œæ³¨å’Œè©•åƒ¹\n\nç¢ºå®šè¦åˆªé™¤å¸³è™Ÿå—ï¼Ÿ',
                () => {
                    showToast('å¸³è™Ÿåˆªé™¤è«‹æ±‚å·²é€å‡ºï¼Œæˆ‘å€‘å°‡åœ¨ 7 å€‹å·¥ä½œå¤©å…§è™•ç†', 'info');
                },
                'âš ï¸ åˆªé™¤å¸³è™Ÿ'
            );
        }

        // ============================================
        // å•†å“ç¯©é¸å’Œæœç´¢åŠŸèƒ½
        // ============================================

        let currentCategory = 'all';
        let currentSearchTerm = '';

        // é¸æ“‡åˆ†é¡
        function selectCategory(btn, category) {
            currentCategory = category;

            // æ›´æ–°æŒ‰éˆ•æ¨£å¼
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            // é‡æ–°æ¸²æŸ“å•†å“
            renderProducts();
        }

        // ç¯©é¸å•†å“
        function filterProducts() {
            currentSearchTerm = document.getElementById('productSearch')?.value?.toLowerCase() || '';
            renderProducts();
        }

        // æ¸²æŸ“å•†å“åˆ—è¡¨
        // æ›´æ–°æœƒå“¡ç«¯çµ±è¨ˆæ•¸å­—
        function updateMemberStats() {
            const orders = AppData.member_orders || [];
            const tasks = AppData.member_tasks || [];
            const currentUser = AppData.users?.[0];

            // æˆ‘çš„è¨‚å–®ç¸½æ•¸
            const totalOrders = orders.length;
            const totalOrdersElem = document.getElementById('memberStatTotalOrders');
            if (totalOrdersElem) totalOrdersElem.textContent = totalOrders;

            // å¾…æ ¸éŠ·è¨‚å–®
            const pendingOrders = orders.filter(o => o.status === 'pending').length;
            const pendingOrdersElem = document.getElementById('memberStatPendingOrders');
            if (pendingOrdersElem) pendingOrdersElem.textContent = pendingOrders;

            // é€²è¡Œä¸­ä»»å‹™
            const activeTasks = tasks.filter(t => t.user_progress?.status === 'in_progress').length;
            const activeTasksElem = document.getElementById('memberStatActiveTasks');
            if (activeTasksElem) activeTasksElem.textContent = activeTasks;

            // ä»»å‹™ç©åˆ†
            const points = currentUser?.points || 0;
            const pointsElem = document.getElementById('memberStatPoints');
            if (pointsElem) pointsElem.textContent = points;
        }

        function renderProducts() {
            const homeGrid = document.getElementById('productGrid');
            const productsPageGrid = document.getElementById('productsGrid');

            // å¦‚æœä¸¤ä¸ªå®¹å™¨éƒ½ä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å›
            if (!homeGrid && !productsPageGrid) return;

            // å¾ AppData ç²å–å•†å“å’Œåˆ†é¡
            let products = AppData.products || [];
            const categories = AppData.product_categories || [];
            const merchants = AppData.merchants || [];

            // åªé¡¯ç¤ºå·²ä¸Šæ¶ä¸”å¯©æ ¸é€šéçš„å•†å“
            products = products.filter(p => p.is_published === 1 && p.review_status === 'approved');

            // å‰µå»º category_id åˆ° category_name çš„æ˜ å°„
            const categoryMap = {};
            categories.forEach(cat => {
                categoryMap[cat.id] = cat.category_name;
            });

            // å‰µå»º merchant_id åˆ° merchant_name çš„æ˜ å°„
            const merchantMap = {};
            merchants.forEach(merchant => {
                merchantMap[merchant.id] = merchant.merchant_name;
            });

            // æŒ‰åˆ†é¡ç¯©é¸
            if (currentCategory !== 'all') {
                products = products.filter(p => categoryMap[p.category_id] === currentCategory);
            }

            // æŒ‰æœç´¢è©ç¯©é¸
            if (currentSearchTerm) {
                products = products.filter(p =>
                    p.product_name.toLowerCase().includes(currentSearchTerm) ||
                    p.description?.toLowerCase().includes(currentSearchTerm) ||
                    merchantMap[p.merchant_id]?.toLowerCase().includes(currentSearchTerm)
                );
            }

            // ç”Ÿæˆ HTML
            const emptyHTML = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px; color: #999;">
                    <div style="font-size: 4em; margin-bottom: 20px;">ğŸ”</div>
                    <h3 style="color: #666; margin-bottom: 10px;">æ‰¾ä¸åˆ°ç¬¦åˆæ¢ä»¶çš„å•†å“</h3>
                    <p>è©¦è©¦èª¿æ•´æœç´¢é—œéµå­—æˆ–ç¯©é¸æ¢ä»¶</p>
                </div>
            `;

            if (products.length === 0) {
                if (homeGrid) homeGrid.innerHTML = emptyHTML;
                if (productsPageGrid) productsPageGrid.innerHTML = emptyHTML;
                return;
            }

            const productsHTML = products.map(product => {
                const categoryName = categoryMap[product.category_id] || 'å…¶ä»–';
                const merchantName = merchantMap[product.merchant_id] || 'æœªçŸ¥å•†å®¶';

                const categoryIcons = {
                    'é¤é£²ç¾é£Ÿ': { icon: 'ğŸ”', color: '#f57c00' },
                    'æ—…éŠäº¤é€š': { icon: 'âœˆï¸', color: '#1976d2' },
                    'é£¯åº—ä½å®¿': { icon: 'ğŸ¨', color: '#7b1fa2' },
                    'å¨›æ¨‚ä¼‘é–’': { icon: 'ğŸ­', color: '#c62828' }
                };
                const catInfo = categoryIcons[categoryName] || { icon: 'ğŸ', color: '#666' };

                return `
                    <div class="card" onclick="showProductDetailFromData(${product.id})" style="cursor: pointer;">
                        <div class="card-image">${product.cover_image || catInfo.icon}</div>
                        <div class="card-title">${product.product_name}</div>
                        <div class="card-desc">${product.short_description || product.description?.substring(0, 50) + '...' || ''}</div>
                        <div class="card-meta">
                            <span style="color: ${catInfo.color}; font-size: 0.85em;">${catInfo.icon} ${categoryName}</span>
                            <span class="card-price">${product.selling_price?.toLocaleString()} ${product.currency || 'MMK'}</span>
                        </div>
                        <button class="card-button" style="margin-top: 10px;" onclick="event.stopPropagation(); handleBuyProductFromData(${product.id})">ç«‹å³è³¼è²·</button>
                    </div>
                `;
            }).join('');

            // åŒæ—¶æ›´æ–°ä¸¤ä¸ªå®¹å™¨
            if (homeGrid) homeGrid.innerHTML = productsHTML;
            if (productsPageGrid) productsPageGrid.innerHTML = productsHTML;
        }

        // å¾ AppData é¡¯ç¤ºå•†å“è©³æƒ…
        function showProductDetailFromData(productId) {
            const product = AppData.find('products', productId);
            if (!product) {
                showToast('å•†å“ä¸å­˜åœ¨', 'error');
                return;
            }

            const categories = AppData.product_categories || [];
            const merchants = AppData.merchants || [];

            // ç²å–åˆ†é¡åç¨±
            const category = categories.find(cat => cat.id === product.category_id);
            const categoryName = category?.category_name || 'å…¶ä»–';

            // ç²å–å•†å®¶åç¨±
            const merchant = merchants.find(m => m.id === product.merchant_id);
            const merchantName = merchant?.merchant_name || 'æœªçŸ¥å•†å®¶';

            const categoryIcons = {
                'é¤é£²ç¾é£Ÿ': 'ğŸ”',
                'æ—…éŠäº¤é€š': 'âœˆï¸',
                'é£¯åº—ä½å®¿': 'ğŸ¨',
                'å¨›æ¨‚ä¼‘é–’': 'ğŸ­'
            };

            showProductDetail(
                product.product_name,
                product.cover_image || categoryIcons[categoryName] || 'ğŸ',
                product.selling_price?.toLocaleString() || '0',
                categoryName,
                product.description || '',
                merchantName,
                product.rating_average || '4.5',
                productId
            );
        }

        // å¾ AppData è³¼è²·å•†å“
        function handleBuyProductFromData(productId) {
            const product = AppData.find('products', productId);
            if (!product) {
                showToast('å•†å“ä¸å­˜åœ¨', 'error');
                return;
            }

            handleBuyProduct(product.product_name, product.selling_price?.toLocaleString() || '0', productId);
        }

        // æ¸²æŸ“è¨‚å–®åˆ—è¡¨
        function renderOrders() {
            const container = document.getElementById('ordersContainer');
            if (!container) return;

            // å¾ AppData ç²å–è¨‚å–®æ•¸æ“š
            const orders = AppData.member_orders || [];
            const products = AppData.products || [];
            const merchants = AppData.merchants || [];

            // å‰µå»ºæ˜ å°„
            const productMap = {};
            products.forEach(p => {
                productMap[p.id] = p;
            });

            const merchantMap = {};
            merchants.forEach(m => {
                merchantMap[m.id] = m;
            });

            // å¦‚æœæ²’æœ‰è¨‚å–®
            if (orders.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 80px 20px; color: #999;">
                        <div style="font-size: 5em; margin-bottom: 20px;">ğŸ“¦</div>
                        <h3 style="color: #666; margin-bottom: 10px;">å°šç„¡è¨‚å–®è¨˜éŒ„</h3>
                        <p>å»å•†å“é é¢è³¼è²·å•†å“å§ï¼</p>
                    </div>
                `;
                return;
            }

            // ç”Ÿæˆè¨‚å–®å¡ç‰‡ HTML
            const ordersHTML = orders.map(order => {
                const product = productMap[order.product_id];
                if (!product) return '';

                const merchant = merchantMap[product.merchant_id];
                const productName = product.product_name || 'æœªçŸ¥å•†å“';
                const merchantName = merchant?.merchant_name || 'æœªçŸ¥å•†å®¶';
                const coverImage = product.cover_image || 'ğŸ›ï¸';

                // çŠ¶æ€æ˜ å°„
                const statusMap = {
                    'pending': { text: 'å¾…æ ¸éŠ·', color: '#f59e0b', badge: 'active' },
                    'completed': { text: 'å·²å®Œæˆ', color: '#10b981', badge: 'pending' },
                    'cancelled': { text: 'å·²å–æ¶ˆ', color: '#ef4444', badge: 'rejected' }
                };

                const statusInfo = statusMap[order.status] || statusMap['pending'];

                return `
                    <div class="order-card" onclick="showOrderDetailFromData(${order.id})" style="cursor: pointer;">
                        <div class="order-header">
                            <div>
                                <div class="order-number">è¨‚å–®ç·¨è™Ÿï¼š${order.order_number}</div>
                                <div class="order-date">${order.order_date}</div>
                            </div>
                            <span class="status-badge ${statusInfo.badge}">${statusInfo.text}</span>
                        </div>
                        <div class="order-items">
                            <div class="order-image">${coverImage}</div>
                            <div class="order-details">
                                <div class="order-product-name">${productName}</div>
                                <div class="order-product-desc">${merchantName} | æ•¸é‡ï¼š${order.quantity}</div>
                            </div>
                        </div>
                        <div class="order-footer">
                            <div class="order-total">${order.total_price?.toLocaleString()} MMK</div>
                            ${order.status === 'pending' ?
                                `<button class="card-button" onclick="event.stopPropagation(); showVerificationQRCode(${order.id})">ç«‹å³æ ¸éŠ·</button>` :
                                order.status === 'cancelled' ?
                                `<span style="color: #999;">å·²é€€æ¬¾</span>` :
                                `<button class="action-btn edit" onclick="event.stopPropagation(); showOrderDetailFromData(${order.id})">æŸ¥çœ‹è©³æƒ…</button>`
                            }
                        </div>
                    </div>
                `;
            }).filter(html => html !== '').join('');

            container.innerHTML = ordersHTML;
        }

        // å¾ AppData é¡¯ç¤ºè¨‚å–®è©³æƒ…
        function showOrderDetailFromData(orderId) {
            const order = AppData.find('member_orders', orderId);
            if (!order) {
                showToast('è¨‚å–®ä¸å­˜åœ¨', 'error');
                return;
            }

            const product = AppData.find('products', order.product_id);
            const productName = product?.product_name || 'æœªçŸ¥å•†å“';
            const coverImage = product?.cover_image || 'ğŸ›ï¸';
            const price = order.total_price?.toLocaleString() || '0';

            // çŠ¶æ€æ˜ å°„
            const statusMap = {
                'pending': { text: 'å¾…æ ¸éŠ·', color: '#f59e0b' },
                'completed': { text: 'å·²å®Œæˆ', color: '#10b981' },
                'cancelled': { text: 'å·²å–æ¶ˆ', color: '#ef4444' }
            };

            const orderStatus = statusMap[order.status] || statusMap['pending'];

            const content = `
                <div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                    <h4 style="margin-bottom: 15px; color: #333;">ğŸ“‹ è¨‚å–®è³‡è¨Š</h4>
                    <div style="display: grid; gap: 10px;">
                        <div><strong>è¨‚å–®ç·¨è™Ÿï¼š</strong><span style="color: #666;">${order.order_number}</span></div>
                        <div><strong>è¨‚å–®ç‹€æ…‹ï¼š</strong><span style="color: ${orderStatus.color}; font-weight: 600;">${orderStatus.text}</span></div>
                        <div><strong>è¨‚å–®æ™‚é–“ï¼š</strong><span style="color: #666;">${order.order_date}</span></div>
                    </div>
                </div>

                <div style="display: flex; align-items: center; gap: 20px; padding: 20px; background: white; border: 1px solid #e5e7eb; border-radius: 12px; margin-bottom: 20px;">
                    <div style="font-size: 4em;">${coverImage}</div>
                    <div style="flex: 1;">
                        <h3 style="margin-bottom: 5px;">${productName}</h3>
                        <p style="color: #666;">æ•¸é‡ï¼š${order.quantity}</p>
                    </div>
                    <div style="font-size: 1.5em; color: #667eea; font-weight: bold;">${price} MMK</div>
                </div>

                ${order.status === 'pending' ? `
                    <div style="text-align: center; padding: 30px; background: #f9fafb; border-radius: 12px; cursor: pointer; transition: all 0.3s;" onclick="closeModal(); showVerificationQRCode(${order.id})" onmouseover="this.style.background='#eef2ff'" onmouseout="this.style.background='#f9fafb'">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸ« é»æ“Šå±•ç¤ºæ ¸éŠ·ç¢¼</h4>
                        <div style="font-size: 4em; margin: 20px 0;">ğŸ“±</div>
                        <p style="color: #666; font-size: 0.9em;">è«‹å‘å•†å®¶å‡ºç¤º QR Code é€²è¡Œæ ¸éŠ·</p>
                    </div>
                ` : ''}
            `;

            const footer = order.status === 'pending'
                ? `
                    <button class="btn-secondary" onclick="handleCancelOrder('${order.order_number}')">å–æ¶ˆè¨‚å–®</button>
                    <button class="btn-primary" onclick="closeModal()">ç¢ºå®š</button>
                `
                : `<button class="btn-primary" onclick="closeModal()">ç¢ºå®š</button>`;

            showModal('ğŸ“¦ è¨‚å–®è©³æƒ…', content, footer);
        }

        // é¡¯ç¤ºæ ¸éŠ· QR Code
        function showVerificationQRCode(orderId) {
            const order = AppData.find('member_orders', orderId);
            if (!order) {
                showToast('è¨‚å–®ä¸å­˜åœ¨', 'error');
                return;
            }

            if (order.status !== 'pending') {
                showToast('æ­¤è¨‚å–®å·²æ ¸éŠ·æˆ–å·²å–æ¶ˆ', 'warning');
                return;
            }

            const product = AppData.find('products', order.product_id);
            const merchant = AppData.find('merchants', order.merchant_id);
            const productName = product?.product_name || 'æœªçŸ¥å•†å“';
            const merchantName = merchant?.merchant_name || 'æœªçŸ¥å•†å®¶';

            const content = `
                <div style="text-align: center; padding: 20px;">
                    <h2 style="color: #333; margin-bottom: 10px;">ğŸ« æ ¸éŠ·ç¢¼</h2>
                    <p style="color: #666; margin-bottom: 25px;">è«‹å‡ºç¤ºæ­¤ QR Code çµ¦åº—å®¶æƒææ ¸éŠ·</p>

                    <!-- QR Code å€åŸŸ -->
                    <div style="background: white; padding: 30px; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); margin-bottom: 25px;">
                        <div style="width: 240px; height: 240px; margin: 0 auto; background: linear-gradient(45deg, #667eea 0%, #764ba2 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
                            <!-- QR Code æ¨¡æ“¬åœ–æ¡ˆ -->
                            <div style="width: 220px; height: 220px; background: white; border-radius: 8px; display: grid; grid-template-columns: repeat(8, 1fr); grid-template-rows: repeat(8, 1fr); gap: 3px; padding: 10px;">
                                ${generateQRPattern()}
                            </div>
                        </div>
                        <div style="margin-top: 20px; padding: 15px; background: #f0f4ff; border-radius: 8px;">
                            <p style="font-family: monospace; font-size: 1.1em; font-weight: bold; color: #333; margin: 0;">${order.order_number}</p>
                        </div>
                    </div>

                    <!-- è¨‚å–®è³‡è¨Š -->
                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px; text-align: left; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid #e5e7eb;">
                            <span style="color: #666;">å•†å“åç¨±</span>
                            <span style="color: #333; font-weight: 600;">${productName}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid #e5e7eb;">
                            <span style="color: #666;">æ ¸éŠ·å•†å®¶</span>
                            <span style="color: #333; font-weight: 600;">${merchantName}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid #e5e7eb;">
                            <span style="color: #666;">è¨‚å–®é‡‘é¡</span>
                            <span style="color: #667eea; font-weight: 700; font-size: 1.1em;">${order.total_price?.toLocaleString()} MMK</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: #666;">è¨‚å–®ç‹€æ…‹</span>
                            <span style="color: #f59e0b; font-weight: 600;">â³ å¾…æ ¸éŠ·</span>
                        </div>
                    </div>

                    <!-- æç¤ºè³‡è¨Š -->
                    <div style="background: #fef3c7; padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b; text-align: left;">
                        <p style="color: #92400e; font-size: 0.9em; margin: 0; line-height: 1.6;">
                            <strong>ğŸ“Œ æ ¸éŠ·èªªæ˜ï¼š</strong><br>
                            1. è«‹å‰å¾€ã€Œ${merchantName}ã€é–€å¸‚<br>
                            2. å‘åº—å“¡å‡ºç¤ºæ­¤ QR Code<br>
                            3. åº—å“¡æƒæå¾Œå³å¯å®Œæˆæ ¸éŠ·<br>
                            4. æ ¸éŠ·å®Œæˆå¾Œè¨‚å–®ç‹€æ…‹å°‡è®Šæ›´ç‚ºã€Œå·²å®Œæˆã€
                        </p>
                    </div>

                    <!-- æ¨¡æ“¬åº—å®¶æƒææŒ‰éˆ•ï¼ˆåƒ…ç”¨æ–¼å±•ç¤ºï¼‰ -->
                    <div style="margin-top: 25px; padding-top: 20px; border-top: 2px dashed #e5e7eb;">
                        <p style="color: #999; font-size: 0.85em; margin-bottom: 12px;">ğŸ”§ æ¸¬è©¦åŠŸèƒ½ï¼ˆå¯¦éš›ä½¿ç”¨æ™‚ç”±åº—å®¶æƒæï¼‰</p>
                        <button class="btn-primary" onclick="simulateMerchantScan(${orderId})" style="background: #10b981; width: 100%;">
                            æ¨¡æ“¬åº—å®¶æƒææ ¸éŠ·
                        </button>
                    </div>
                </div>

                <style>
                    @keyframes qrPulse {
                        0%, 100% { opacity: 1; }
                        50% { opacity: 0.7; }
                    }
                </style>
            `;

            const footer = `
                <button class="btn-secondary" onclick="closeModal()">é—œé–‰</button>
            `;

            showModal('', content, footer);
        }

        // ç”Ÿæˆ QR Code æ¨¡æ“¬åœ–æ¡ˆ
        function generateQRPattern() {
            const pattern = [
                [1,1,1,1,1,0,0,1,1,1,1,1],
                [1,0,0,0,1,0,1,1,0,0,0,1],
                [1,0,1,0,1,0,0,1,0,1,0,1],
                [1,0,1,0,1,0,1,1,0,1,0,1],
                [1,0,1,0,1,0,0,0,0,1,0,1],
                [1,0,0,0,1,0,1,1,0,0,0,1],
                [1,1,1,1,1,0,0,1,1,1,1,1],
                [0,0,0,0,0,0,1,0,0,0,0,0],
                [1,0,1,1,0,1,0,1,0,1,0,1],
                [0,1,0,0,1,0,1,0,1,0,1,0],
                [1,0,1,1,0,1,0,1,0,1,0,1],
                [0,1,0,0,1,0,1,0,1,0,1,0]
            ];

            let html = '';
            for (let i = 0; i < 64; i++) {
                const row = Math.floor(i / 8);
                const col = i % 8;
                const patternRow = pattern[row % 12];
                const isBlack = patternRow[col % 12];
                html += `<div style="background: ${isBlack ? '#1f2937' : 'white'}; border-radius: 2px;"></div>`;
            }
            return html;
        }

        // æ¨¡æ“¬åº—å®¶æƒææ ¸éŠ·
        function simulateMerchantScan(orderId) {
            const order = AppData.find('member_orders', orderId);
            if (!order) {
                showToast('è¨‚å–®ä¸å­˜åœ¨', 'error');
                return;
            }

            if (order.status !== 'pending') {
                showToast('æ­¤è¨‚å–®å·²æ ¸éŠ·æˆ–å·²å–æ¶ˆ', 'warning');
                return;
            }

            closeModal();

            // é¡¯ç¤ºæƒæå‹•ç•«
            const scanContent = `
                <div style="text-align: center; padding: 40px 20px;">
                    <div style="width: 80px; height: 80px; margin: 0 auto 25px; border: 4px solid #10b981; border-radius: 50%; display: flex; align-items: center; justify-content: center; animation: scanPulse 1.5s ease-in-out infinite;">
                        <span style="font-size: 3em;">ğŸ“·</span>
                    </div>
                    <h3 style="color: #333; margin-bottom: 15px;">æ­£åœ¨æƒæ QR Code...</h3>
                    <p style="color: #666; font-size: 0.95em;">è«‹ç¨å€™</p>
                </div>

                <style>
                    @keyframes scanPulse {
                        0%, 100% { transform: scale(1); opacity: 1; }
                        50% { transform: scale(1.1); opacity: 0.7; }
                    }
                </style>
            `;

            showModal('', scanContent, '', true);

            // 1.5 ç§’å¾Œå®Œæˆæ ¸éŠ·
            setTimeout(() => {
                completeVerification(orderId);
            }, 1500);
        }

        // å®Œæˆæ ¸éŠ·
        function completeVerification(orderId) {
            const order = AppData.find('member_orders', orderId);
            if (!order) {
                closeModal();
                showToast('è¨‚å–®ä¸å­˜åœ¨', 'error');
                return;
            }

            // æ›´æ–°è¨‚å–®ç‹€æ…‹
            order.status = 'completed';
            order.completed_at = new Date().toISOString().slice(0, 16).replace('T', ' ');

            closeModal();

            // é¡¯ç¤ºæ ¸éŠ·æˆåŠŸå‹•ç•«
            const successContent = `
                <div style="text-align: center; padding: 40px 20px;">
                    <div style="width: 100px; height: 100px; background: #10b981; border-radius: 50%; margin: 0 auto 25px; display: flex; align-items: center; justify-content: center; animation: successBounce 0.6s ease-out;">
                        <span style="font-size: 4em; color: white;">âœ“</span>
                    </div>
                    <h2 style="color: #10b981; margin-bottom: 15px;">æ ¸éŠ·æˆåŠŸï¼</h2>
                    <p style="color: #666; margin-bottom: 30px; font-size: 1.05em;">è¨‚å–®å·²å®Œæˆï¼Œæ„Ÿè¬æ‚¨çš„ä½¿ç”¨</p>

                    <div style="background: #f0fdf4; padding: 20px; border-radius: 12px; border: 2px solid #86efac; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: #666;">è¨‚å–®ç·¨è™Ÿ</span>
                            <span style="color: #333; font-weight: 600;">${order.order_number}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: #666;">æ ¸éŠ·æ™‚é–“</span>
                            <span style="color: #333;">${order.completed_at}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: #666;">è¨‚å–®é‡‘é¡</span>
                            <span style="color: #10b981; font-weight: 700; font-size: 1.2em;">${order.total_price?.toLocaleString()} MMK</span>
                        </div>
                    </div>

                    <p style="color: #999; font-size: 0.9em;">ğŸ‰ æ‚¨å·²äº«å—å•†å“/æœå‹™ï¼Œç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼</p>
                </div>

                <style>
                    @keyframes successBounce {
                        0% { transform: scale(0) rotate(0deg); opacity: 0; }
                        50% { transform: scale(1.2) rotate(180deg); }
                        100% { transform: scale(1) rotate(360deg); opacity: 1; }
                    }
                </style>
            `;

            const footer = `
                <button class="btn-secondary" onclick="closeModal()">é—œé–‰</button>
                <button class="btn-primary" onclick="closeModal(); switchMemberView('orders');">æŸ¥çœ‹è¨‚å–®</button>
            `;

            showModal('', successContent, footer);

            // æ›´æ–°çµ±è¨ˆæ•¸å­—å’Œè¨‚å–®åˆ—è¡¨
            setTimeout(() => {
                updateMemberStats();
                renderOrders();
            }, 300);
        }

        // æ¸²æŸ“ä»»å‹™åˆ—è¡¨
        function renderTasks() {
            const tbody = document.getElementById('memberTasksTable');
            if (!tbody) return;

            // å¾ AppData ç²å–ä»»å‹™æ•¸æ“š
            const tasks = AppData.member_tasks || [];

            // å¦‚æœæ²’æœ‰ä»»å‹™
            if (tasks.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 40px; color: #999;">
                            <div style="font-size: 3em; margin-bottom: 10px;">âœ…</div>
                            <p>å°šç„¡å¯ç”¨ä»»å‹™</p>
                        </td>
                    </tr>
                `;
                // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
                document.getElementById('memberTasksTotalPoints').textContent = '0';
                document.getElementById('memberTasksActiveCount').textContent = '0';
                document.getElementById('memberTasksCompletedCount').textContent = '0';
                return;
            }

            // è¨ˆç®—çµ±è¨ˆæ•¸æ“š
            let totalPoints = 0;
            let activeCount = 0;
            let completedCount = 0;

            tasks.forEach(task => {
                const userProgress = task.user_progress || { status: 'not_started' };
                if (userProgress.status === 'claimed') {
                    totalPoints += task.reward_points;
                    completedCount++;
                } else if (userProgress.status === 'in_progress') {
                    activeCount++;
                }
            });

            // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
            document.getElementById('memberTasksTotalPoints').textContent = totalPoints;
            document.getElementById('memberTasksActiveCount').textContent = activeCount;
            document.getElementById('memberTasksCompletedCount').textContent = completedCount;

            // ç”Ÿæˆä»»å‹™è¡Œ HTML
            const tasksHTML = tasks.map(task => {
                const userProgress = task.user_progress || { status: 'not_started', current: 0, total: 1 };
                const progressText = userProgress.current !== undefined && userProgress.total !== undefined
                    ? `${userProgress.current}/${userProgress.total}`
                    : 'N/A';

                // çŠ¶æ€æ˜ å°„
                const statusMap = {
                    'claimed': { text: 'å·²å®Œæˆ', badge: 'active' },
                    'completed': { text: 'å¾…é ˜å–', badge: 'success' },
                    'in_progress': { text: 'é€²è¡Œä¸­', badge: 'pending' },
                    'not_started': { text: 'æœªé–‹å§‹', badge: '' }
                };

                const statusInfo = statusMap[userProgress.status] || statusMap['not_started'];

                let actionButton = '';
                if (userProgress.status === 'claimed') {
                    actionButton = '<span style="color: #4caf50;">âœ“ å·²é ˜å–</span>';
                } else if (userProgress.status === 'completed') {
                    actionButton = '<button class="action-btn approve" onclick="event.stopPropagation(); handleClaimReward(' + task.id + ')">é ˜å–çå‹µ</button>';
                } else {
                    actionButton = '<button class="action-btn edit" onclick="event.stopPropagation(); showTaskDetail(' + task.id + ')">æŸ¥çœ‹</button>';
                }

                return `
                    <tr onclick="showTaskDetail(${task.id})" style="cursor: pointer;">
                        <td>${task.name}</td>
                        <td>${task.task_type}</td>
                        <td>+${task.reward_points} åˆ†</td>
                        <td>${progressText}</td>
                        <td><span class="status-badge ${statusInfo.badge}">${statusInfo.text}</span></td>
                        <td>${actionButton}</td>
                    </tr>
                `;
            }).join('');

            tbody.innerHTML = tasksHTML;
        }

        // è™•ç†é ˜å–çå‹µ
        function handleClaimReward(taskId) {
            const task = AppData.find('member_tasks', taskId);
            if (!task) {
                showToast('ä»»å‹™ä¸å­˜åœ¨', 'error');
                return;
            }

            // æ›´æ–°ä»»å‹™ç‹€æ…‹ç‚ºå·²é ˜å–
            if (task.user_progress) {
                task.user_progress.status = 'claimed';
            }

            // æ›´æ–°ç”¨æˆ¶ç©åˆ†
            if (AppData.users[0]) {
                AppData.users[0].points += task.reward_points;
            }

            // ä¿å­˜æ•¸æ“š
            AppData.save();

            showToast(`æ­å–œï¼æˆåŠŸé ˜å– ${task.reward_points} ç©åˆ†çå‹µ`, 'success');

            // åˆ·æ–°ä»»å‹™åˆ—è¡¨
            renderTasks();
        }

        // åˆå§‹åŒ–å•†å“åˆ—è¡¨
        function initProducts() {
            renderProducts();
        }

        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–ï¼ˆå·²ç§»é™¤ï¼Œæ”¹ç”± switchTab æ™‚åˆå§‹åŒ–ï¼‰
        // document.addEventListener('DOMContentLoaded', () => {
        //     initProducts();
        //     initMerchantProducts();
        //     initMerchantOrders();
        // });

        // ============================================
        // å•†å®¶ç«¯åŠŸèƒ½
        // ============================================

        let currentMerchantProductFilter = 'all';
        let currentMerchantOrderFilter = 'all';

        // åˆå§‹åŒ–å•†å®¶å•†å“åˆ—è¡¨
        function initMerchantProducts() {
            renderMerchantProducts();
        }

        // æ¸²æŸ“å•†å®¶å•†å“åˆ—è¡¨
        function renderMerchantProducts() {
            const tbody = document.getElementById('merchantProductsTable');
            if (!tbody) return;

            const merchantId = 1; // ç•¶å‰å•†å®¶ ID
            let products = AppData.products.filter(p => p.merchant_id === merchantId);
            const categories = AppData.product_categories || [];

            // å‰µå»º category_id åˆ° category_name çš„æ˜ å°„
            const categoryMap = {};
            categories.forEach(cat => {
                categoryMap[cat.id] = { name: cat.category_name, icon: cat.icon };
            });

            // æŒ‰ç¯©é¸æ¢ä»¶éæ¿¾
            if (currentMerchantProductFilter !== 'all') {
                products = products.filter(p => p.review_status === currentMerchantProductFilter);
            }

            // ç”Ÿæˆ HTML
            if (products.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="7" style="text-align: center; padding: 40px; color: #999;">
                            ${currentMerchantProductFilter === 'all' ? 'å°šç„¡å•†å“ï¼Œé»æ“Šã€Œæ–°å¢å•†å“ã€é–‹å§‹ä¸Šæ¶' : 'æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„å•†å“'}
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = products.map(product => {
                const catInfo = categoryMap[product.category_id] || { name: 'å…¶ä»–', icon: 'ğŸ' };
                const statusMap = {
                    'approved': { text: 'ä¸Šæ¶ä¸­', class: 'active' },
                    'pending': { text: 'å¯©æ ¸ä¸­', class: 'pending' },
                    'rejected': { text: 'å·²ä¸‹æ¶', class: 'rejected' }
                };
                const status = statusMap[product.review_status] || { text: 'æœªçŸ¥', class: 'pending' };
                const sold = product.total_quantity - product.available_quantity;
                const ratingText = product.rating_count > 0
                    ? `${product.rating_average} â­ (${product.rating_count} å‰‡)`
                    : 'N/A';

                let buttons = '';
                if (product.review_status === 'approved') {
                    buttons = `
                        <button class="action-btn edit" onclick="showEditProduct(${product.id})">ç·¨è¼¯</button>
                        <button class="action-btn reject" onclick="handleToggleProductStatus(${product.id}, 'rejected')">ä¸‹æ¶</button>
                        <button class="action-btn delete" onclick="handleDeleteProduct(${product.id})" style="background: #ef4444;">åˆªé™¤</button>
                    `;
                } else if (product.review_status === 'rejected') {
                    buttons = `
                        <button class="action-btn edit" onclick="showEditProduct(${product.id})">ç·¨è¼¯</button>
                        <button class="action-btn approve" onclick="handleToggleProductStatus(${product.id}, 'pending')">é‡æ–°ä¸Šæ¶</button>
                        <button class="action-btn delete" onclick="handleDeleteProduct(${product.id})" style="background: #ef4444;">åˆªé™¤</button>
                    `;
                } else {
                    buttons = `
                        <button class="action-btn edit" onclick="showEditProduct(${product.id})">ç·¨è¼¯</button>
                        <button class="action-btn delete" onclick="handleDeleteProduct(${product.id})" style="background: #ef4444;">åˆªé™¤</button>
                    `;
                }

                return `
                    <tr>
                        <td>${product.product_name}</td>
                        <td>${catInfo.icon} ${catInfo.name}</td>
                        <td>${product.selling_price?.toLocaleString()}</td>
                        <td>${sold}/${product.total_quantity}</td>
                        <td>${ratingText}</td>
                        <td><span class="status-badge ${status.class}">${status.text}</span></td>
                        <td><div class="action-buttons">${buttons}</div></td>
                    </tr>
                `;
            }).join('');
        }

        // ç¯©é¸å•†å®¶å•†å“
        function filterMerchantProducts(filter, btn) {
            currentMerchantProductFilter = filter;

            // æ›´æ–°æŒ‰éˆ•æ¨£å¼
            btn.parentElement.querySelectorAll('.filter-tab').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            renderMerchantProducts();
        }

        // é¡¯ç¤ºæ–°å¢å•†å“è¡¨å–®
        function showAddProduct() {
            const categories = AppData.product_categories || [];
            const categoryOptions = categories.map(cat =>
                `<option value="${cat.id}">${cat.icon} ${cat.category_name}</option>`
            ).join('');

            const content = `
                <div style="max-height: 500px; overflow-y: auto;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">å•†å“åç¨± *</label>
                        <input type="text" id="productName" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;" placeholder="è«‹è¼¸å…¥å•†å“åç¨±">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">å•†å“åˆ†é¡ *</label>
                        <select id="productCategory" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;">
                            ${categoryOptions}
                        </select>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">åŸåƒ¹ (MMK) *</label>
                            <input type="number" id="productOriginalPrice" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;" placeholder="0">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">å”®åƒ¹ (MMK) *</label>
                            <input type="number" id="productSellingPrice" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;" placeholder="0">
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">ç¸½æ•¸é‡ *</label>
                        <input type="number" id="productQuantity" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;" placeholder="0">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">å•†å“åœ–ç¤º</label>
                        <input type="text" id="productImage" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;" placeholder="emoji (ä¾‹å¦‚ï¼šğŸ•)" maxlength="2">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">ç°¡çŸ­æè¿°</label>
                        <input type="text" id="productShortDesc" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;" placeholder="ä¸€å¥è©±ä»‹ç´¹å•†å“">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">è©³ç´°æè¿° *</label>
                        <textarea id="productDescription" rows="4" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;" placeholder="è«‹è©³ç´°æè¿°å•†å“å…§å®¹ã€ä½¿ç”¨æ–¹å¼ã€æ³¨æ„äº‹é …ç­‰"></textarea>
                    </div>
                </div>
            `;

            const footer = `
                <button class="btn-secondary" onclick="closeModal()" style="margin-right: 10px;">å–æ¶ˆ</button>
                <button class="btn-primary" onclick="handleSaveProduct()">é€å‡ºå¯©æ ¸</button>
            `;

            showModal('â• æ–°å¢å•†å“', content, footer);
        }

        // é¡¯ç¤ºç·¨è¼¯å•†å“è¡¨å–®
        function showEditProduct(productId) {
            const product = AppData.find('products', productId);
            if (!product) {
                showToast('å•†å“ä¸å­˜åœ¨', 'error');
                return;
            }

            const categories = AppData.product_categories || [];
            const categoryOptions = categories.map(cat =>
                `<option value="${cat.id}" ${cat.id === product.category_id ? 'selected' : ''}>${cat.icon} ${cat.category_name}</option>`
            ).join('');

            const content = `
                <div style="max-height: 500px; overflow-y: auto;">
                    <input type="hidden" id="editProductId" value="${product.id}">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">å•†å“åç¨± *</label>
                        <input type="text" id="productName" value="${product.product_name}" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">å•†å“åˆ†é¡ *</label>
                        <select id="productCategory" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;">
                            ${categoryOptions}
                        </select>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">åŸåƒ¹ (MMK) *</label>
                            <input type="number" id="productOriginalPrice" value="${product.original_price}" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">å”®åƒ¹ (MMK) *</label>
                            <input type="number" id="productSellingPrice" value="${product.selling_price}" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;">
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">ç¸½æ•¸é‡ *</label>
                            <input type="number" id="productQuantity" value="${product.total_quantity}" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">å¯ç”¨æ•¸é‡</label>
                            <input type="number" id="productAvailable" value="${product.available_quantity}" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;">
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">å•†å“åœ–ç¤º</label>
                        <input type="text" id="productImage" value="${product.cover_image || ''}" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;" maxlength="2">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">ç°¡çŸ­æè¿°</label>
                        <input type="text" id="productShortDesc" value="${product.short_description || ''}" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">è©³ç´°æè¿° *</label>
                        <textarea id="productDescription" rows="4" style="width: 100%; padding: 10px; border: 1px solid #e0e0e0; border-radius: 6px;">${product.description || ''}</textarea>
                    </div>
                </div>
            `;

            const footer = `
                <button class="btn-secondary" onclick="closeModal()" style="margin-right: 10px;">å–æ¶ˆ</button>
                <button class="btn-primary" onclick="handleSaveProduct(${product.id})">å„²å­˜è®Šæ›´</button>
            `;

            showModal('âœï¸ ç·¨è¼¯å•†å“', content, footer);
        }

        // ä¿å­˜å•†å“ï¼ˆæ–°å¢æˆ–ç·¨è¼¯ï¼‰
        function handleSaveProduct(productId = null) {
            const name = document.getElementById('productName')?.value?.trim();
            const categoryId = parseInt(document.getElementById('productCategory')?.value);
            const originalPrice = parseInt(document.getElementById('productOriginalPrice')?.value);
            const sellingPrice = parseInt(document.getElementById('productSellingPrice')?.value);
            const quantity = parseInt(document.getElementById('productQuantity')?.value);
            const available = parseInt(document.getElementById('productAvailable')?.value) || quantity;
            const image = document.getElementById('productImage')?.value?.trim();
            const shortDesc = document.getElementById('productShortDesc')?.value?.trim();
            const description = document.getElementById('productDescription')?.value?.trim();

            // é©—è­‰å¿…å¡«æ¬„ä½
            if (!name || !categoryId || !originalPrice || !sellingPrice || !quantity || !description) {
                showToast('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½', 'error');
                return;
            }

            if (sellingPrice > originalPrice) {
                showToast('å”®åƒ¹ä¸èƒ½é«˜æ–¼åŸåƒ¹', 'error');
                return;
            }

            const productData = {
                product_name: name,
                category_id: categoryId,
                original_price: originalPrice,
                selling_price: sellingPrice,
                total_quantity: quantity,
                available_quantity: available,
                cover_image: image,
                short_description: shortDesc,
                description: description,
                currency: 'MMK',
                is_published: 1
            };

            if (productId) {
                // ç·¨è¼¯ç¾æœ‰å•†å“
                AppData.update('products', productId, productData);
                showToast('å•†å“å·²æ›´æ–°', 'success');
            } else {
                // æ–°å¢å•†å“
                productData.merchant_id = 1; // ç•¶å‰å•†å®¶ ID
                productData.review_status = 'pending'; // é€å¯©æ ¸ï¼ˆéœ€é‹ç‡Ÿå¾Œå°å¯©æ ¸ï¼‰
                productData.rating_average = 0;
                productData.rating_count = 0;
                productData.purchase_count = 0;

                AppData.create('products', productData);
                showToast('å•†å“å·²é€å¯©ï¼Œç­‰å¾…é‹ç‡Ÿå¾Œå°å¯©æ ¸é€šéå¾Œä¸Šæ¶', 'success');
            }

            closeModal();
            setTimeout(() => {
                renderMerchantProducts();
                renderMerchantDashboard(); // åŒæ™‚æ›´æ–°å„€è¡¨æ¿å•†å“åˆ—è¡¨
                renderProducts(); // åŒæ™‚æ›´æ–°æœƒå“¡ç«¯å•†å“åˆ—è¡¨
                renderOperationProducts(); // åŒæ™‚æ›´æ–°é‹ç‡Ÿå¾Œå°å¾…å¯©æ ¸åˆ—è¡¨
            }, 300);
        }

        // åˆ‡æ›å•†å“ç‹€æ…‹
        function handleToggleProductStatus(productId, newStatus) {
            const product = AppData.find('products', productId);
            if (!product) return;

            const messages = {
                'rejected': 'ç¢ºå®šè¦ä¸‹æ¶æ­¤å•†å“å—ï¼Ÿ',
                'pending': 'å•†å“å°‡é‡æ–°é€å¯©ï¼Œç¢ºå®šè¦é‡æ–°ä¸Šæ¶å—ï¼Ÿ',
                'approved': 'ç¢ºå®šè¦ä¸Šæ¶æ­¤å•†å“å—ï¼Ÿ'
            };

            showConfirm(messages[newStatus] || 'ç¢ºå®šè¦åŸ·è¡Œæ­¤æ“ä½œå—ï¼Ÿ', () => {
                AppData.update('products', productId, {
                    review_status: newStatus,
                    is_published: newStatus === 'approved' ? 1 : 0
                });

                const successMessages = {
                    'rejected': 'å•†å“å·²ä¸‹æ¶',
                    'pending': 'å•†å“å·²é€å¯©',
                    'approved': 'å•†å“å·²ä¸Šæ¶'
                };
                showToast(successMessages[newStatus], 'success');

                setTimeout(() => {
                    renderMerchantProducts();
                    renderMerchantDashboard(); // åŒæ™‚æ›´æ–°å„€è¡¨æ¿å•†å“åˆ—è¡¨
                    renderProducts(); // åŒæ™‚æ›´æ–°æœƒå“¡ç«¯å•†å“åˆ—è¡¨
                }, 300);
            }, newStatus === 'rejected' ? 'ä¸‹æ¶å•†å“' : 'ç¢ºèªæ“ä½œ');
        }

        // è™•ç†åˆªé™¤å•†å“
        function handleDeleteProduct(productId) {
            const product = AppData.find('products', productId);
            if (!product) {
                showToast('å•†å“ä¸å­˜åœ¨', 'error');
                return;
            }

            // ç¢ºèªåˆªé™¤
            if (!confirm(`ç¢ºå®šè¦åˆªé™¤å•†å“ã€Œ${product.product_name}ã€å—ï¼Ÿ\næ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚`)) {
                return;
            }

            // å¾ AppData ä¸­åˆªé™¤
            const index = AppData.products.findIndex(p => p.id === productId);
            if (index !== -1) {
                AppData.products.splice(index, 1);
                AppData.save();

                showToast(`å•†å“ã€Œ${product.product_name}ã€å·²åˆªé™¤`, 'success');

                // é‡æ–°æ¸²æŸ“å•†å“åˆ—è¡¨å’Œå„€è¡¨æ¿
                setTimeout(() => {
                    renderMerchantProducts();
                    renderMerchantDashboard(); // æ›´æ–°å„€è¡¨æ¿
                    renderProducts(); // æ›´æ–°æœƒå“¡ç«¯å•†å“åˆ—è¡¨
                }, 300);

                console.log('âœ… å•†å“å·²åˆªé™¤:', product);
            }
        }

        // é¡¯ç¤ºéŠ·å”®çµ±è¨ˆ
        function showSalesStats() {
            const merchantId = 1;
            const products = AppData.products.filter(p => p.merchant_id === merchantId);

            const totalProducts = products.length;
            const activeProducts = products.filter(p => p.review_status === 'approved').length;
            const totalSales = products.reduce((sum, p) => sum + p.purchase_count, 0);
            const totalRevenue = products.reduce((sum, p) => sum + (p.purchase_count * p.selling_price), 0);

            const content = `
                <div style="text-align: center; padding: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                        <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 25px; border-radius: 12px;">
                            <div style="font-size: 2.5em; font-weight: 700; margin-bottom: 10px;">${totalProducts}</div>
                            <div style="font-size: 1.1em;">ç¸½å•†å“æ•¸</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #4caf50, #45a049); color: white; padding: 25px; border-radius: 12px;">
                            <div style="font-size: 2.5em; font-weight: 700; margin-bottom: 10px;">${activeProducts}</div>
                            <div style="font-size: 1.1em;">ä¸Šæ¶ä¸­å•†å“</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #ff9800, #f57c00); color: white; padding: 25px; border-radius: 12px;">
                            <div style="font-size: 2.5em; font-weight: 700; margin-bottom: 10px;">${totalSales}</div>
                            <div style="font-size: 1.1em;">ç¸½éŠ·å”®ä»¶æ•¸</div>
                        </div>
                        <div style="background: linear-gradient(135deg, #2196f3, #1976d2); color: white; padding: 25px; border-radius: 12px;">
                            <div style="font-size: 2.5em; font-weight: 700; margin-bottom: 10px;">${totalRevenue.toLocaleString()}</div>
                            <div style="font-size: 1.1em;">ç¸½ç‡Ÿæ”¶ (MMK)</div>
                        </div>
                    </div>
                    <h4 style="margin-bottom: 15px; color: #333;">ğŸ† ç†±éŠ·å•†å“ TOP 3</h4>
                    <div style="text-align: left;">
                        ${products
                            .sort((a, b) => b.purchase_count - a.purchase_count)
                            .slice(0, 3)
                            .map((p, i) => `
                                <div style="background: #f9fafb; padding: 15px; border-radius: 8px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <span style="font-size: 1.5em; margin-right: 10px;">${['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰'][i]}</span>
                                        <strong>${p.product_name}</strong>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="color: #667eea; font-weight: 600;">${p.purchase_count} ä»¶</div>
                                        <div style="color: #999; font-size: 0.9em;">${(p.purchase_count * p.selling_price).toLocaleString()} MMK</div>
                                    </div>
                                </div>
                            `).join('')}
                    </div>
                </div>
            `;

            showModal('ğŸ“Š éŠ·å”®çµ±è¨ˆ', content);
        }

        // ========== è¨‚å–®ç®¡ç† ==========

        // åˆå§‹åŒ–å•†å®¶è¨‚å–®åˆ—è¡¨
        function initMerchantOrders() {
            renderMerchantOrders();
        }

        // æ¸²æŸ“å•†å®¶è¨‚å–®åˆ—è¡¨
        function renderMerchantOrders() {
            const tbody = document.getElementById('merchantOrdersTable');
            if (!tbody) return;

            const merchantId = 1;

            // å¾ member_orders ç²å–è¨‚å–®ä¸¦æ ¹æ“šå•†å“çš„ merchant_id éæ¿¾
            const allOrders = AppData.member_orders || [];
            const products = AppData.products || [];
            const users = AppData.users || [];

            // å‰µå»ºå•†å“æ˜ å°„
            const productMap = {};
            products.forEach(p => {
                productMap[p.id] = p;
            });

            // éæ¿¾å‡ºå±¬æ–¼ç•¶å‰å•†å®¶çš„è¨‚å–®
            let orders = allOrders.filter(o => {
                const product = productMap[o.product_id];
                return product && product.merchant_id === merchantId;
            });

            // å‰µå»º user_id åˆ° nickname çš„æ˜ å°„
            const userMap = {};
            users.forEach(user => {
                userMap[user.id] = user.nickname;
            });

            // æŒ‰ç¯©é¸æ¢ä»¶éæ¿¾
            if (currentMerchantOrderFilter !== 'all') {
                orders = orders.filter(o => o.status === currentMerchantOrderFilter);
            }

            // ç”Ÿæˆ HTML
            if (orders.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 40px; color: #999;">
                            ${currentMerchantOrderFilter === 'all' ? 'å°šç„¡è¨‚å–®' : 'æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„è¨‚å–®'}
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = orders.map(order => {
                const product = productMap[order.product_id];
                const productName = product?.product_name || 'æœªçŸ¥å•†å“';

                const statusMap = {
                    'pending': { text: 'å¾…æ ¸éŠ·', class: 'pending' },
                    'processing': { text: 'è™•ç†ä¸­', class: 'warning' },
                    'completed': { text: 'å·²å®Œæˆ', class: 'active' },
                    'cancelled': { text: 'å·²å–æ¶ˆ', class: 'rejected' }
                };
                const status = statusMap[order.status] || { text: 'æœªçŸ¥', class: 'pending' };
                const customerName = userMap[order.member_id] || 'æœªçŸ¥é¡§å®¢';

                let button = '';
                if (order.status === 'pending') {
                    button = `<button class="action-btn approve" onclick="handleRedeemOrder(${order.id})">æ ¸éŠ·</button>`;
                } else if (order.status === 'completed') {
                    button = `<button class="action-btn edit" onclick="showMerchantOrderDetail(${order.id})">æŸ¥çœ‹è©³æƒ…</button>`;
                } else {
                    button = `<button class="action-btn edit" onclick="showMerchantOrderDetail(${order.id})">æŸ¥çœ‹</button>`;
                }

                return `
                    <tr>
                        <td>${order.order_number}</td>
                        <td>${customerName}</td>
                        <td>${productName}</td>
                        <td>ä»°å…‰ç¸½åº—</td>
                        <td>${order.total_price?.toLocaleString()}</td>
                        <td>${order.order_date}</td>
                        <td><span class="status-badge ${status.class}">${status.text}</span></td>
                        <td>${button}</td>
                    </tr>
                `;
            }).join('');
        }

        // ç¯©é¸å•†å®¶è¨‚å–®
        function filterMerchantOrders(filter, btn) {
            currentMerchantOrderFilter = filter;

            // æ›´æ–°æŒ‰éˆ•æ¨£å¼
            btn.parentElement.querySelectorAll('.filter-tab').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            renderMerchantOrders();
        }

        // é¡¯ç¤ºè¨‚å–®è©³æƒ…
        function showMerchantOrderDetail(orderId) {
            const order = AppData.find('member_orders', orderId);
            if (!order) {
                showToast('è¨‚å–®ä¸å­˜åœ¨', 'error');
                return;
            }

            const user = AppData.find('users', order.member_id);
            const customerName = user?.nickname || 'æœªçŸ¥é¡§å®¢';

            const content = `
                <div style="padding: 20px;">
                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸ“‹ è¨‚å–®è³‡è¨Š</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">è¨‚å–®ç·¨è™Ÿ</div>
                                <div style="font-weight: 600;">${order.order_number}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">è¨‚å–®ç‹€æ…‹</div>
                                <div style="font-weight: 600; color: #4caf50;">${order.status === 'completed' ? 'å·²å®Œæˆ' : order.status}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">ä¸‹å–®æ™‚é–“</div>
                                <div style="font-weight: 600;">${order.created_at}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">å®Œæˆæ™‚é–“</div>
                                <div style="font-weight: 600;">${order.completed_at || '-'}</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸ‘¤ é¡§å®¢è³‡è¨Š</h4>
                        <div>
                            <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">é¡§å®¢å§“å</div>
                            <div style="font-weight: 600;">${customerName}</div>
                        </div>
                    </div>

                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px;">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸ« å•†å“è³‡è¨Š</h4>
                        <div style="display: flex; align-items: center; margin-bottom: 15px;">
                            <div style="font-size: 3em; margin-right: 15px;">${order.product_image}</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; font-size: 1.1em; margin-bottom: 5px;">${order.product_name}</div>
                                <div style="color: #999;">æ•¸é‡: 1</div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 1.5em; color: #667eea; font-weight: 700;">${order.final_amount?.toLocaleString()}</div>
                                <div style="color: #999; font-size: 0.9em;">MMK</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            showModal('ğŸ“¦ è¨‚å–®è©³æƒ…', content);
        }

        // æ ¸éŠ·è¨‚å–®
        function handleRedeemOrder(orderId) {
            showConfirm(
                'ç¢ºå®šè¦æ ¸éŠ·æ­¤è¨‚å–®å—ï¼Ÿæ ¸éŠ·å¾Œè¨‚å–®å°‡æ¨™è¨˜ç‚ºå·²å®Œæˆã€‚',
                () => {
                    const order = AppData.find('member_orders', orderId);
                    if (order) {
                        const now = new Date().toISOString().replace('T', ' ').substring(0, 19);
                        AppData.update('member_orders', orderId, {
                            status: 'completed',
                            completed_at: now
                        });

                        showToast('è¨‚å–®å·²æ ¸éŠ·å®Œæˆ âœ“', 'success');
                        setTimeout(() => {
                            renderMerchantOrders();
                        }, 300);
                    }
                },
                'æ ¸éŠ·è¨‚å–®'
            );
        }

        // æ¸²æŸ“å•†å®¶ç«¯ä»ªè¡¨æ¿
        function renderMerchantDashboard() {
            const merchantId = 1; // å½“å‰å•†å®¶ ID

            // è·å–æ•°æ®
            const orders = AppData.member_orders || [];
            const products = AppData.products || [];
            const stores = AppData.stores || [];
            const merchantTasks = AppData.merchant_tasks || [];

            // è¿‡æ»¤å•†å®¶çš„è®¢å•å’Œå•†å“
            const merchantOrders = orders.filter(o => {
                const product = products.find(p => p.id === o.product_id);
                return product && product.merchant_id === merchantId;
            });
            const merchantProducts = products.filter(p => p.merchant_id === merchantId);

            // è®¡ç®—æœ¬æœˆæ•°æ®ï¼ˆç®€åŒ–ç‰ˆï¼Œå®é™…åº”è¯¥æŒ‰æœˆä»½è¿‡æ»¤ï¼‰
            const monthlyOrders = merchantOrders.length;
            const monthlyRevenue = merchantOrders.reduce((sum, o) => sum + (o.total_price || 0), 0);
            const pendingOrders = merchantOrders.filter(o => o.status === 'pending').length;

            // è®¡ç®—å¹³å‡è¯„åˆ†
            const ratedProducts = merchantProducts.filter(p => p.rating_count > 0);
            const averageRating = ratedProducts.length > 0
                ? (ratedProducts.reduce((sum, p) => sum + p.rating_average, 0) / ratedProducts.length).toFixed(1)
                : '0';

            // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
            document.getElementById('merchantMonthlyOrders').textContent = monthlyOrders;
            document.getElementById('merchantMonthlyRevenue').textContent = monthlyRevenue.toLocaleString();
            document.getElementById('merchantPendingOrders').textContent = pendingOrders;
            document.getElementById('merchantAverageRating').textContent = averageRating + ' â­';

            // æ¸²æŸ“åº—é“ºå¡ç‰‡
            const storesGrid = document.getElementById('merchantDashboardStoresGrid');
            if (storesGrid) {
                const merchantStores = stores.filter(s => s.merchant_id === merchantId);

                const storesHTML = merchantStores.map(store => {
                    const statusClass = store.is_open ? 'active' : 'pending';
                    const statusText = store.is_open ? 'ç‡Ÿæ¥­ä¸­' : 'ä¼‘æ¯ä¸­';

                    return `
                        <div class="card">
                            <div class="card-image">ğŸª</div>
                            <div class="card-title">${store.store_name}</div>
                            <div class="card-desc">ğŸ“ ${store.address || 'æœªæä¾›åœ°å€'}<br>ğŸ“ ${store.phone || 'æœªæä¾›é›»è©±'}</div>
                            <div class="card-meta" style="margin-top: 10px;">
                                <span class="status-badge ${statusClass}">${statusText}</span>
                                <button class="action-btn edit" onclick="showEditStore(${store.id})">ç·¨è¼¯</button>
                                <button class="action-btn delete" onclick="handleDeleteStore(${store.id})" style="background: #ef4444;">åˆªé™¤</button>
                            </div>
                        </div>
                    `;
                }).join('');

                const addStoreCard = `
                    <div class="card" style="border: 2px dashed #e0e0e0; cursor: pointer; transition: all 0.3s;"
                         onclick="showAddStore()"
                         onmouseover="this.style.borderColor='#667eea'; this.style.background='#f0f4ff';"
                         onmouseout="this.style.borderColor='#e0e0e0'; this.style.background='white';">
                        <div class="card-image" style="background: #f5f5f5; color: #999;">â•</div>
                        <div class="card-title" style="color: #999;">æ–°å¢åº—é‹ª</div>
                        <div class="card-desc">é»æ“Šæ–°å¢æ›´å¤šåº—é‹ªä½ç½®</div>
                    </div>
                `;

                storesGrid.innerHTML = storesHTML + addStoreCard;
            }

            // æ¸²æŸ“å•†å“ç®¡ç†è¡¨æ ¼ï¼ˆå‰å‡ ä¸ªå•†å“ï¼‰
            const productsTable = document.getElementById('merchantDashboardProductsTable');
            if (productsTable) {
                const displayProducts = merchantProducts.slice(0, 4); // åªæ˜¾ç¤ºå‰4ä¸ª

                if (displayProducts.length === 0) {
                    productsTable.innerHTML = `
                        <tr>
                            <td colspan="7" style="text-align: center; padding: 40px; color: #999;">
                                å°šç„¡å•†å“ï¼Œé»æ“Šã€Œæ–°å¢å•†å“ã€é–‹å§‹ä¸Šæ¶
                            </td>
                        </tr>
                    `;
                } else {
                    const categories = AppData.product_categories || [];
                    const categoryMap = {};
                    categories.forEach(cat => {
                        categoryMap[cat.id] = { name: cat.category_name, icon: cat.icon };
                    });

                    productsTable.innerHTML = displayProducts.map(product => {
                        const catInfo = categoryMap[product.category_id] || { name: 'å…¶ä»–', icon: 'ğŸ' };
                        const statusMap = {
                            'approved': { text: 'ä¸Šæ¶ä¸­', class: 'active' },
                            'pending': { text: 'å¯©æ ¸ä¸­', class: 'pending' },
                            'rejected': { text: 'å·²ä¸‹æ¶', class: 'rejected' }
                        };
                        const status = statusMap[product.review_status] || { text: 'æœªçŸ¥', class: 'pending' };
                        const sold = product.total_quantity - product.available_quantity;
                        const ratingText = product.rating_count > 0
                            ? `${product.rating_average} â­ (${product.rating_count} å‰‡)`
                            : 'N/A';

                        return `
                            <tr>
                                <td>${product.product_name}</td>
                                <td>${catInfo.icon} ${catInfo.name}</td>
                                <td>${product.selling_price?.toLocaleString()}</td>
                                <td>${sold}/${product.total_quantity}</td>
                                <td>${ratingText}</td>
                                <td><span class="status-badge ${status.class}">${status.text}</span></td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="action-btn edit">ç·¨è¼¯</button>
                                        <button class="action-btn reject">ä¸‹æ¶</button>
                                    </div>
                                </td>
                            </tr>
                        `;
                    }).join('');
                }
            }

            // æ¸²æŸ“å•†å®¶ä»»åŠ¡è¡¨æ ¼ï¼ˆå‰å‡ ä¸ªä»»åŠ¡ï¼‰
            const tasksTable = document.getElementById('merchantDashboardTasksTable');
            if (tasksTable) {
                const displayTasks = merchantTasks.slice(0, 3); // åªæ˜¾ç¤ºå‰3ä¸ª

                if (displayTasks.length === 0) {
                    tasksTable.innerHTML = `
                        <tr>
                            <td colspan="5" style="text-align: center; padding: 40px; color: #999;">
                                å°šç„¡ä»»å‹™è³‡æ–™
                            </td>
                        </tr>
                    `;
                } else {
                    tasksTable.innerHTML = displayTasks.map(task => {
                        const progress = task.merchant_progress || { current: 0, total: 1, status: 'not_started' };
                        const progressText = `${progress.current}/${progress.total}`;
                        const statusMap = {
                            'claimed': { text: 'å·²å®Œæˆ', class: 'active' },
                            'completed': { text: 'å¾…é ˜å–', class: 'success' },
                            'in_progress': { text: 'é€²è¡Œä¸­', class: 'pending' },
                            'not_started': { text: 'æœªé–‹å§‹', class: '' }
                        };
                        const statusInfo = statusMap[progress.status] || statusMap['not_started'];

                        return `
                            <tr>
                                <td>${task.name}</td>
                                <td>${task.task_type}</td>
                                <td>${task.reward_description}</td>
                                <td>${progressText}</td>
                                <td><span class="status-badge ${statusInfo.class}">${statusInfo.text}</span></td>
                            </tr>
                        `;
                    }).join('');
                }
            }
        }

        // æ¸²æŸ“å•†å®¶ç«¯åº—é“ºç®¡ç†
        function renderMerchantStores() {
            const merchantId = 1; // å½“å‰å•†å®¶ ID
            const stores = AppData.stores || [];
            const merchantStores = stores.filter(s => s.merchant_id === merchantId);

            // æ¸²æŸ“åº—é“ºå¡ç‰‡
            const storesGrid = document.getElementById('merchantStoresGrid');
            if (storesGrid) {
                const storesHTML = merchantStores.map(store => {
                    const statusClass = store.is_open ? 'active' : 'pending';
                    const statusText = store.is_open ? 'ç‡Ÿæ¥­ä¸­' : 'ä¼‘æ¯ä¸­';

                    return `
                        <div class="card">
                            <div class="card-image">ğŸª</div>
                            <div class="card-title">${store.store_name}</div>
                            <div class="card-desc">
                                ğŸ“ ${store.address || 'æœªæä¾›åœ°å€'}<br>
                                ğŸ“ ${store.phone || 'æœªæä¾›é›»è©±'}<br>
                                ğŸ•’ ç‡Ÿæ¥­æ™‚é–“ï¼š${store.business_hours || 'æœªè¨­å®š'}
                            </div>
                            <div class="card-meta" style="margin-top: 15px;">
                                <span class="status-badge ${statusClass}">${statusText}</span>
                                <div style="margin-top: 10px; display: flex; gap: 8px;">
                                    <button class="action-btn edit" onclick="showEditStore(${store.id})">ç·¨è¼¯</button>
                                    <button class="action-btn delete" onclick="handleDeleteStore(${store.id})" style="background: #ef4444;">åˆªé™¤</button>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');

                const addStoreCard = `
                    <div class="card" style="border: 2px dashed #e0e0e0;">
                        <div class="card-image" style="background: #f5f5f5; color: #999;">â•</div>
                        <div class="card-title" style="color: #999;">æ–°å¢åº—é‹ª</div>
                        <div class="card-desc">é»æ“Šæ–°å¢æ›´å¤šåº—é‹ªä½ç½®ï¼Œæ“´å±•æ‚¨çš„æ¥­å‹™ç¯„åœ</div>
                        <button class="card-button" style="margin-top: 15px;" onclick="showAddStore()">æ–°å¢åº—é‹ª</button>
                    </div>
                `;

                storesGrid.innerHTML = storesHTML + addStoreCard;
            }

            // æ¸²æŸ“è¥ä¸šæ•°æ®è¡¨æ ¼
            const statsTable = document.getElementById('merchantStoresStatsTable');
            if (statsTable) {
                if (merchantStores.length === 0) {
                    statsTable.innerHTML = `
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 40px; color: #999;">
                                å°šç„¡åº—é‹ªè³‡æ–™
                            </td>
                        </tr>
                    `;
                } else {
                    // è·å–è®¢å•å’Œå•†å“æ•°æ®æ¥è®¡ç®—è¥ä¸šé¢
                    const orders = AppData.member_orders || [];
                    const products = AppData.products || [];

                    statsTable.innerHTML = merchantStores.map(store => {
                        // è®¡ç®—è¯¥åº—é“ºçš„è®¢å•å’Œè¥æ”¶ï¼ˆç®€åŒ–ç‰ˆï¼‰
                        const storeOrders = orders.filter(o => {
                            const product = products.find(p => p.id === o.product_id);
                            return product && product.merchant_id === merchantId;
                        });
                        const storeRevenue = storeOrders.reduce((sum, o) => sum + (o.total_price || 0), 0);
                        const statusClass = store.is_open ? 'active' : 'pending';
                        const statusText = store.is_open ? 'ç‡Ÿæ¥­ä¸­' : 'ä¼‘æ¯ä¸­';

                        // è®¡ç®—å¹³å‡è¯„åˆ†ï¼ˆç®€åŒ–ï¼Œä½¿ç”¨å•†å®¶æ•´ä½“è¯„åˆ†ï¼‰
                        const merchantProducts = products.filter(p => p.merchant_id === merchantId);
                        const ratedProducts = merchantProducts.filter(p => p.rating_count > 0);
                        const avgRating = ratedProducts.length > 0
                            ? (ratedProducts.reduce((sum, p) => sum + p.rating_average, 0) / ratedProducts.length).toFixed(1)
                            : '0';

                        return `
                            <tr>
                                <td>${store.store_name}</td>
                                <td>${storeOrders.length}</td>
                                <td>${storeRevenue.toLocaleString()} MMK</td>
                                <td>${avgRating} â­</td>
                                <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="action-btn edit" onclick="showEditStore(${store.id})">ç·¨è¼¯</button>
                                        <button class="action-btn delete" onclick="handleDeleteStore(${store.id})" style="background: #ef4444;">åˆªé™¤</button>
                                    </div>
                                </td>
                            </tr>
                        `;
                    }).join('');
                }
            }
        }

        // é¡¯ç¤ºæ–°å¢åº—é‹ªè¡¨å–®
        function showAddStore() {
            const merchantId = 1; // ç•¶å‰å•†å®¶ ID

            // å‰µå»ºå½ˆçª—è¦†è“‹å±¤
            const overlay = document.createElement('div');
            overlay.id = 'addStoreOverlay';
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 10000;
            `;

            overlay.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 12px; width: 90%; max-width: 500px; max-height: 90vh; overflow-y: auto; box-shadow: 0 4px 20px rgba(0,0,0,0.2);">
                    <h3 style="margin: 0 0 20px 0; color: #333; font-size: 22px;">â• æ–°å¢åº—é‹ª</h3>

                    <form id="addStoreForm" onsubmit="event.preventDefault(); handleSaveStore();">
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">åº—é‹ªåç¨± <span style="color: red;">*</span></label>
                            <input type="text" id="storeName" required
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼šPizza Hut å…§æ¯”éƒ½åˆ†åº—">
                        </div>

                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">åº—é‹ªåœ°å€ <span style="color: red;">*</span></label>
                            <input type="text" id="storeAddress" required
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼šå…§æ¯”éƒ½å¸‚ Yarza Thingaha Road 100è™Ÿ">
                        </div>

                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">è¯çµ¡é›»è©± <span style="color: red;">*</span></label>
                            <input type="tel" id="storePhone" required
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼š09-123-456-789">
                        </div>

                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">ç‡Ÿæ¥­æ™‚é–“ <span style="color: red;">*</span></label>
                            <input type="text" id="storeHours" required
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼š10:00-22:00">
                        </div>

                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">GPS ç·¯åº¦</label>
                            <input type="number" step="0.0001" id="storeLatitude"
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼š19.7450ï¼ˆé¸å¡«ï¼‰">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">GPS ç¶“åº¦</label>
                            <input type="number" step="0.0001" id="storeLongitude"
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼š96.1297ï¼ˆé¸å¡«ï¼‰">
                        </div>

                        <div style="margin-bottom: 15px;">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" id="storeIsOpen" checked
                                       style="margin-right: 8px; width: 18px; height: 18px; cursor: pointer;">
                                <span style="color: #555; font-weight: 500;">åº—é‹ªç›®å‰ç‡Ÿæ¥­ä¸­</span>
                            </label>
                        </div>

                        <div style="display: flex; gap: 10px; margin-top: 25px;">
                            <button type="submit"
                                    style="flex: 1; padding: 12px; background: #4CAF50; color: white; border: none; border-radius: 6px; font-size: 16px; font-weight: 500; cursor: pointer;">
                                ğŸ’¾ å„²å­˜åº—é‹ª
                            </button>
                            <button type="button" onclick="closeAddStoreForm()"
                                    style="flex: 1; padding: 12px; background: #f44336; color: white; border: none; border-radius: 6px; font-size: 16px; font-weight: 500; cursor: pointer;">
                                âŒ å–æ¶ˆ
                            </button>
                        </div>
                    </form>
                </div>
            `;

            document.body.appendChild(overlay);

            // èšç„¦ç¬¬ä¸€å€‹è¼¸å…¥æ¡†
            setTimeout(() => {
                document.getElementById('storeName').focus();
            }, 100);
        }

        // é—œé–‰æ–°å¢åº—é‹ªè¡¨å–®
        function closeAddStoreForm() {
            const overlay = document.getElementById('addStoreOverlay');
            if (overlay) {
                overlay.remove();
            }
        }

        // é—œé–‰ç·¨è¼¯åº—é‹ªè¡¨å–®
        function closeEditStoreForm() {
            const overlay = document.getElementById('editStoreOverlay');
            if (overlay) {
                overlay.remove();
            }
        }

        // é¡¯ç¤ºç·¨è¼¯åº—é‹ªè¡¨å–®
        function showEditStore(storeId) {
            const store = AppData.find('stores', storeId);
            if (!store) {
                showToast('åº—é‹ªä¸å­˜åœ¨', 'error');
                return;
            }

            // å‰µå»ºå½ˆçª—è¦†è“‹å±¤
            const overlay = document.createElement('div');
            overlay.id = 'editStoreOverlay';
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 10000;
            `;

            overlay.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 12px; width: 90%; max-width: 500px; max-height: 90vh; overflow-y: auto; box-shadow: 0 4px 20px rgba(0,0,0,0.2);">
                    <h3 style="margin: 0 0 20px 0; color: #333; font-size: 22px;">âœï¸ ç·¨è¼¯åº—é‹ª</h3>

                    <form id="editStoreForm" onsubmit="event.preventDefault(); handleUpdateStore(${storeId});">
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">åº—é‹ªåç¨± <span style="color: red;">*</span></label>
                            <input type="text" id="editStoreName" required
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼šPizza Hut å…§æ¯”éƒ½åˆ†åº—"
                                   value="${store.store_name || ''}">
                        </div>

                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">åº—é‹ªåœ°å€ <span style="color: red;">*</span></label>
                            <input type="text" id="editStoreAddress" required
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼šå…§æ¯”éƒ½å¸‚ Yarza Thingaha Road 100è™Ÿ"
                                   value="${store.address || ''}">
                        </div>

                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">è¯çµ¡é›»è©± <span style="color: red;">*</span></label>
                            <input type="tel" id="editStorePhone" required
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼š09-123-456-789"
                                   value="${store.phone || ''}">
                        </div>

                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">ç‡Ÿæ¥­æ™‚é–“ <span style="color: red;">*</span></label>
                            <input type="text" id="editStoreHours" required
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼š10:00-22:00"
                                   value="${store.business_hours || ''}">
                        </div>

                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">GPS ç·¯åº¦</label>
                            <input type="number" step="0.0001" id="editStoreLatitude"
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼š19.7450ï¼ˆé¸å¡«ï¼‰"
                                   value="${store.latitude || ''}">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 5px; color: #555; font-weight: 500;">GPS ç¶“åº¦</label>
                            <input type="number" step="0.0001" id="editStoreLongitude"
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px;"
                                   placeholder="ä¾‹å¦‚ï¼š96.1297ï¼ˆé¸å¡«ï¼‰"
                                   value="${store.longitude || ''}">
                        </div>

                        <div style="margin-bottom: 15px;">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" id="editStoreIsOpen" ${store.is_open ? 'checked' : ''}
                                       style="margin-right: 8px; width: 18px; height: 18px; cursor: pointer;">
                                <span style="color: #555; font-weight: 500;">åº—é‹ªç›®å‰ç‡Ÿæ¥­ä¸­</span>
                            </label>
                        </div>

                        <div style="display: flex; gap: 10px; margin-top: 25px;">
                            <button type="submit"
                                    style="flex: 1; padding: 12px; background: #2196F3; color: white; border: none; border-radius: 6px; font-size: 16px; font-weight: 500; cursor: pointer;">
                                ğŸ’¾ æ›´æ–°åº—é‹ª
                            </button>
                            <button type="button" onclick="closeEditStoreForm()"
                                    style="flex: 1; padding: 12px; background: #757575; color: white; border: none; border-radius: 6px; font-size: 16px; font-weight: 500; cursor: pointer;">
                                âŒ å–æ¶ˆ
                            </button>
                        </div>
                    </form>
                </div>
            `;

            document.body.appendChild(overlay);

            // èšç„¦ç¬¬ä¸€å€‹è¼¸å…¥æ¡†
            setTimeout(() => {
                document.getElementById('editStoreName').focus();
            }, 100);
        }

        // è™•ç†æ›´æ–°åº—é‹ª
        function handleUpdateStore(storeId) {
            const store = AppData.find('stores', storeId);
            if (!store) {
                showToast('åº—é‹ªä¸å­˜åœ¨', 'error');
                return;
            }

            // ç²å–è¡¨å–®æ•¸æ“š
            const storeName = document.getElementById('editStoreName').value.trim();
            const storeAddress = document.getElementById('editStoreAddress').value.trim();
            const storePhone = document.getElementById('editStorePhone').value.trim();
            const storeHours = document.getElementById('editStoreHours').value.trim();
            const storeLatitude = parseFloat(document.getElementById('editStoreLatitude').value) || null;
            const storeLongitude = parseFloat(document.getElementById('editStoreLongitude').value) || null;
            const storeIsOpen = document.getElementById('editStoreIsOpen').checked ? 1 : 0;

            // é©—è­‰å¿…å¡«æ¬„ä½
            if (!storeName || !storeAddress || !storePhone || !storeHours) {
                showToast('âš ï¸ è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½', 'error');
                return;
            }

            // æ›´æ–°åº—é‹ªè³‡æ–™
            store.store_name = storeName;
            store.address = storeAddress;
            store.phone = storePhone;
            store.business_hours = storeHours;
            store.latitude = storeLatitude;
            store.longitude = storeLongitude;
            store.is_open = storeIsOpen;

            // ä¿å­˜æ•¸æ“š
            AppData.save();

            // é¡¯ç¤ºæˆåŠŸè¨Šæ¯
            showToast(`åº—é‹ªã€Œ${storeName}ã€å·²æ›´æ–°ï¼`, 'success');

            // é—œé–‰è¡¨å–®
            closeEditStoreForm();

            // é‡æ–°æ¸²æŸ“åº—é‹ªåˆ—è¡¨å’Œå„€è¡¨æ¿
            setTimeout(() => {
                renderMerchantStores();
                renderMerchantDashboard();
            }, 300);

            console.log('âœ… åº—é‹ªå·²æ›´æ–°:', store);
        }

        // è™•ç†åˆªé™¤åº—é‹ª
        function handleDeleteStore(storeId) {
            const store = AppData.find('stores', storeId);
            if (!store) {
                showToast('åº—é‹ªä¸å­˜åœ¨', 'error');
                return;
            }

            // ç¢ºèªåˆªé™¤
            if (!confirm(`ç¢ºå®šè¦åˆªé™¤åº—é‹ªã€Œ${store.store_name}ã€å—ï¼Ÿ\næ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚`)) {
                return;
            }

            // å¾ AppData ä¸­åˆªé™¤
            const index = AppData.stores.findIndex(s => s.id === storeId);
            if (index !== -1) {
                AppData.stores.splice(index, 1);
                AppData.save();

                showToast(`åº—é‹ªã€Œ${store.store_name}ã€å·²åˆªé™¤`, 'success');

                // é‡æ–°æ¸²æŸ“åº—é‹ªåˆ—è¡¨å’Œå„€è¡¨æ¿
                setTimeout(() => {
                    renderMerchantStores();
                    renderMerchantDashboard();
                }, 300);

                console.log('âœ… åº—é‹ªå·²åˆªé™¤:', store);
            }
        }

        // è™•ç†å„²å­˜æ–°åº—é‹ª
        function handleSaveStore() {
            const merchantId = 1; // ç•¶å‰å•†å®¶ ID

            // ç²å–è¡¨å–®æ•¸æ“š
            const storeName = document.getElementById('storeName').value.trim();
            const storeAddress = document.getElementById('storeAddress').value.trim();
            const storePhone = document.getElementById('storePhone').value.trim();
            const storeHours = document.getElementById('storeHours').value.trim();
            const storeLatitude = parseFloat(document.getElementById('storeLatitude').value) || null;
            const storeLongitude = parseFloat(document.getElementById('storeLongitude').value) || null;
            const storeIsOpen = document.getElementById('storeIsOpen').checked ? 1 : 0;

            // é©—è­‰å¿…å¡«æ¬„ä½
            if (!storeName || !storeAddress || !storePhone || !storeHours) {
                alert('âš ï¸ è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½ï¼ˆæ¨™è¨˜ * çš„æ¬„ä½ï¼‰');
                return;
            }

            // ç”Ÿæˆæ–°çš„åº—é‹ª ID
            const stores = AppData.stores || [];
            const newId = stores.length > 0 ? Math.max(...stores.map(s => s.id)) + 1 : 1;

            // å»ºç«‹æ–°åº—é‹ªç‰©ä»¶
            const newStore = {
                id: newId,
                merchant_id: merchantId,
                store_name: storeName,
                address: storeAddress,
                phone: storePhone,
                business_hours: storeHours,
                latitude: storeLatitude,
                longitude: storeLongitude,
                is_open: storeIsOpen,
                created_at: new Date().toISOString().replace('T', ' ').substring(0, 19)
            };

            // æ–°å¢åˆ° AppData
            AppData.create('stores', newStore);

            // é¡¯ç¤ºæˆåŠŸè¨Šæ¯
            showToast(`åº—é‹ªã€Œ${storeName}ã€æ–°å¢æˆåŠŸï¼`, 'success');

            // é—œé–‰è¡¨å–®
            closeAddStoreForm();

            // é‡æ–°æ¸²æŸ“åº—é‹ªåˆ—è¡¨å’Œå„€è¡¨æ¿
            setTimeout(() => {
                renderMerchantStores();
                renderMerchantDashboard(); // åŒæ™‚æ›´æ–°å„€è¡¨æ¿
            }, 300);

            console.log('âœ… æ–°åº—é‹ªå·²æ–°å¢:', newStore);
        }

        // æ¸²æŸ“å•†å®¶ç«¯ä»»åŠ¡ä¸­å¿ƒ
        function renderMerchantTasks() {
            const merchantId = 1; // å½“å‰å•†å®¶ ID
            const tasks = AppData.merchant_tasks || [];

            // è®¡ç®—ç»Ÿè®¡æ•°æ®
            let currentBadge = '-';
            let activeCount = 0;
            let completedCount = 0;

            tasks.forEach(task => {
                const progress = task.merchant_progress || { status: 'not_started' };
                if (progress.status === 'claimed') {
                    completedCount++;
                    // æ£€æŸ¥æ˜¯å¦æœ‰æ ‡ç« å¥–åŠ±
                    if (task.reward_type === 'badge') {
                        currentBadge = task.reward_value || 'å•†å®¶æ¨™ç« ';
                    } else if (task.reward_description && task.reward_description.includes('æ¨™ç« ')) {
                        currentBadge = task.reward_description.replace(/.*æ¨™ç« /g, '').trim() || task.reward_description;
                    }
                } else if (progress.status === 'in_progress') {
                    activeCount++;
                }
            });

            // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
            document.getElementById('merchantTasksBadge').textContent = currentBadge !== '-' ? currentBadge : 'æš«ç„¡';
            document.getElementById('merchantTasksActive').textContent = activeCount;
            document.getElementById('merchantTasksCompleted').textContent = completedCount;

            // æ¸²æŸ“ä»»åŠ¡è¡¨æ ¼
            const tasksTable = document.getElementById('merchantTasksTable');
            if (tasksTable) {
                if (tasks.length === 0) {
                    tasksTable.innerHTML = `
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 40px; color: #999;">
                                <div style="font-size: 3em; margin-bottom: 10px;">âœ…</div>
                                <p>å°šç„¡å¯ç”¨ä»»å‹™</p>
                            </td>
                        </tr>
                    `;
                } else {
                    tasksTable.innerHTML = tasks.map(task => {
                        const progress = task.merchant_progress || { current: 0, total: 1, status: 'not_started' };
                        const progressText = progress.current !== undefined && progress.total !== undefined
                            ? `${progress.current}/${progress.total}`
                            : 'N/A';

                        const statusMap = {
                            'claimed': { text: 'å·²å®Œæˆ', class: 'active' },
                            'completed': { text: 'å¾…é ˜å–', class: 'success' },
                            'in_progress': { text: 'é€²è¡Œä¸­', class: 'pending' },
                            'not_started': { text: 'æœªé–‹å§‹', class: '' }
                        };
                        const statusInfo = statusMap[progress.status] || statusMap['not_started'];

                        // æ ¹æ“šçå‹µé¡å‹ç”Ÿæˆçå‹µæè¿°
                        let rewardDescription = task.reward_description;
                        if (!rewardDescription && task.reward_type && task.reward_value) {
                            const rewardTypeMap = {
                                'exposure': 'æ›å…‰åº¦',
                                'points': 'ç©åˆ†',
                                'discount': 'æŠ˜æ‰£åˆ¸',
                                'badge': 'æ¨™ç« ',
                                'commission': 'ä½£é‡‘å„ªæƒ '
                            };
                            const rewardTypeName = rewardTypeMap[task.reward_type] || task.reward_type;
                            rewardDescription = `${rewardTypeName} +${task.reward_value}`;
                        }

                        let actionButton = '';
                        if (progress.status === 'claimed') {
                            actionButton = '<span style="color: #4caf50;">âœ“ å·²é ˜å–</span>';
                        } else if (progress.status === 'completed') {
                            actionButton = '<button class="action-btn approve" onclick="handleClaimMerchantReward(' + task.id + ')">é ˜å–çå‹µ</button>';
                        } else {
                            actionButton = '<button class="action-btn edit">æŸ¥çœ‹</button>';
                        }

                        return `
                            <tr>
                                <td>${task.name}</td>
                                <td>${task.task_type}</td>
                                <td>${rewardDescription || 'æœªè¨­å®š'}</td>
                                <td>${progressText}</td>
                                <td><span class="status-badge ${statusInfo.class}">${statusInfo.text}</span></td>
                                <td>${actionButton}</td>
                            </tr>
                        `;
                    }).join('');
                }
            }
        }

        // å¤„ç†å•†å®¶ä»»åŠ¡å¥–åŠ±é¢†å–
        function handleClaimMerchantReward(taskId) {
            const task = AppData.find('merchant_tasks', taskId);
            if (!task) {
                showToast('ä»»å‹™ä¸å­˜åœ¨', 'error');
                return;
            }

            // ç”Ÿæˆçå‹µæè¿°
            let rewardDescription = task.reward_description;
            if (!rewardDescription && task.reward_type && task.reward_value) {
                const rewardTypeMap = {
                    'exposure': 'æ›å…‰åº¦',
                    'points': 'ç©åˆ†',
                    'discount': 'æŠ˜æ‰£åˆ¸',
                    'badge': 'æ¨™ç« ',
                    'commission': 'ä½£é‡‘å„ªæƒ '
                };
                const rewardTypeName = rewardTypeMap[task.reward_type] || task.reward_type;
                rewardDescription = `${rewardTypeName} +${task.reward_value}`;
            }

            // æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå·²é¢†å–
            if (task.merchant_progress) {
                task.merchant_progress.status = 'claimed';
            }

            showToast(`æ­å–œï¼æˆåŠŸé ˜å–ã€Œ${rewardDescription || 'çå‹µ'}ã€`, 'success');

            // åˆ·æ–°ä»»åŠ¡åˆ—è¡¨
            renderMerchantTasks();
        }

        // ============================================
        // é‹ç‡Ÿå¾Œå°åŠŸèƒ½
        // ============================================

        let currentOperationMemberFilter = 'all';
        let currentOperationMerchantFilter = 'all';
        let currentOperationProductFilter = 'pending';

        // åˆå§‹åŒ–é‹ç‡Ÿå¾Œå°
        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–ï¼ˆå·²ç§»é™¤ï¼Œæ”¹ç”± switchTab æ™‚åˆå§‹åŒ–ï¼‰
        // document.addEventListener('DOMContentLoaded', () => {
        //     initOperationMembers();
        //     initOperationMerchants();
        //     initOperationProducts();
        // });

        // ========== æœƒå“¡ç®¡ç† ==========

        function initOperationMembers() {
            updateOperationMembersStats();
            renderOperationMembers();
        }

        // æ›´æ–°é‹ç‡Ÿå¾Œå°æœƒå“¡çµ±è¨ˆæ•¸å­—
        function updateOperationMembersStats() {
            const users = AppData.users || [];
            const totalMembers = users.length;
            const activeMembers = users.filter(u => u.is_active === 1).length;

            // è¨ˆç®—æœ¬æœˆæ–°å¢æœƒå“¡
            const oneMonthAgo = new Date();
            oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);
            const newMembers = users.filter(u => new Date(u.created_at) > oneMonthAgo).length;

            const disabledMembers = users.filter(u => u.is_active === 0).length;

            // æ›´æ–° DOM
            const totalEl = document.getElementById('operationMembersTotal');
            const activeEl = document.getElementById('operationMembersActive');
            const newEl = document.getElementById('operationMembersNew');
            const disabledEl = document.getElementById('operationMembersDisabled');

            if (totalEl) totalEl.textContent = totalMembers.toLocaleString();
            if (activeEl) activeEl.textContent = activeMembers.toLocaleString();
            if (newEl) newEl.textContent = newMembers.toLocaleString();
            if (disabledEl) disabledEl.textContent = disabledMembers.toLocaleString();
        }

        function renderOperationMembers() {
            const tbody = document.getElementById('operationMembersTable');
            if (!tbody) return;

            let users = AppData.users || [];

            // æŒ‰ç¯©é¸æ¢ä»¶éæ¿¾
            if (currentOperationMemberFilter === 'active') {
                users = users.filter(u => u.is_active === 1 && u.orders_count > 0);
            } else if (currentOperationMemberFilter === 'new') {
                const oneMonthAgo = new Date();
                oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);
                users = users.filter(u => new Date(u.created_at) > oneMonthAgo);
            } else if (currentOperationMemberFilter === 'disabled') {
                users = users.filter(u => u.is_active === 0);
            }

            // ç”Ÿæˆ HTML
            if (users.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="9" style="text-align: center; padding: 40px; color: #999;">
                            æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„æœƒå“¡
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = users.map(user => {
                const statusClass = user.is_active === 1 ? 'active' : 'rejected';
                const statusText = user.is_active === 1 ? 'æ´»èº' : 'å·²åœç”¨';

                return `
                    <tr>
                        <td>#U${String(user.member_id).padStart(5, '0')}</td>
                        <td>${user.nickname}</td>
                        <td>${user.email}</td>
                        <td>${user.phone_number || '-'}</td>
                        <td>${user.created_at?.substring(0, 10) || '-'}</td>
                        <td>${user.orders_count || 0}</td>
                        <td>${(user.total_spent || 0).toLocaleString()} MMK</td>
                        <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn edit" onclick="showOperationMemberDetail(${user.id})">æŸ¥çœ‹</button>
                                ${user.is_active === 1
                                    ? `<button class="action-btn reject" onclick="toggleMemberStatus(${user.id}, 0)">åœç”¨</button>`
                                    : `<button class="action-btn approve" onclick="toggleMemberStatus(${user.id}, 1)">å•Ÿç”¨</button>`
                                }
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function filterOperationMembers(filter, btn) {
            currentOperationMemberFilter = filter;
            btn.parentElement.querySelectorAll('.filter-tab').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            renderOperationMembers();
        }

        function showOperationMemberDetail(userId) {
            const user = AppData.find('users', userId);
            if (!user) {
                showToast('æœƒå“¡ä¸å­˜åœ¨', 'error');
                return;
            }

            const content = `
                <div style="padding: 20px;">
                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸ‘¤ åŸºæœ¬è³‡æ–™</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">æœƒå“¡ ID</div>
                                <div style="font-weight: 600;">#U${String(user.member_id).padStart(5, '0')}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">æš±ç¨±</div>
                                <div style="font-weight: 600;">${user.nickname}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">é›»å­ä¿¡ç®±</div>
                                <div style="font-weight: 600;">${user.email}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">æ‰‹æ©Ÿè™Ÿç¢¼</div>
                                <div style="font-weight: 600;">${user.phone_number || '-'}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">è¨»å†Šæ—¥æœŸ</div>
                                <div style="font-weight: 600;">${user.created_at?.substring(0, 10) || '-'}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">åœ°å€</div>
                                <div style="font-weight: 600;">${user.region || '-'}</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px;">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸ“Š æ¶ˆè²»çµ±è¨ˆ</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 8px;">
                                <div style="font-size: 1.8em; color: #667eea; font-weight: 700;">${user.orders_count || 0}</div>
                                <div style="color: #999; margin-top: 5px;">è¨‚å–®æ•¸</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 8px;">
                                <div style="font-size: 1.8em; color: #4caf50; font-weight: 700;">${(user.total_spent || 0).toLocaleString()}</div>
                                <div style="color: #999; margin-top: 5px;">æ¶ˆè²»é‡‘é¡ (MMK)</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 8px;">
                                <div style="font-size: 1.8em; color: #ff9800; font-weight: 700;">${user.points || 0}</div>
                                <div style="color: #999; margin-top: 5px;">ç©åˆ†</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            showModal('ğŸ‘¤ æœƒå“¡è©³æƒ…', content);
        }

        function toggleMemberStatus(userId, newStatus) {
            const action = newStatus === 1 ? 'å•Ÿç”¨' : 'åœç”¨';
            showConfirm(
                `ç¢ºå®šè¦${action}æ­¤æœƒå“¡å—ï¼Ÿ`,
                () => {
                    AppData.update('users', userId, { is_active: newStatus });
                    showToast(`æœƒå“¡å·²${action}`, 'success');
                    setTimeout(() => {
                        renderOperationMembers();
                    }, 300);
                },
                `${action}æœƒå“¡`
            );
        }

        // ========== å•†å®¶ç®¡ç† ==========

        function initOperationMerchants() {
            updateOperationMerchantsStats();
            renderOperationMerchants();
        }

        // æ›´æ–°é‹ç‡Ÿå¾Œå°å•†å®¶çµ±è¨ˆæ•¸å­—
        function updateOperationMerchantsStats() {
            const merchants = AppData.merchants || [];
            const stores = AppData.stores || [];

            const totalMerchants = merchants.length;
            const activeMerchants = merchants.filter(m => m.status === 'approved' && m.is_active === 1).length;
            const pendingMerchants = merchants.filter(m => m.status === 'pending').length;
            const totalStores = stores.length;

            // æ›´æ–° DOM
            const totalEl = document.getElementById('operationMerchantsTotal');
            const activeEl = document.getElementById('operationMerchantsActive');
            const pendingEl = document.getElementById('operationMerchantsPending');
            const storesEl = document.getElementById('operationStoresTotal');

            if (totalEl) totalEl.textContent = totalMerchants.toLocaleString();
            if (activeEl) activeEl.textContent = activeMerchants.toLocaleString();
            if (pendingEl) pendingEl.textContent = pendingMerchants.toLocaleString();
            if (storesEl) storesEl.textContent = totalStores.toLocaleString();
        }

        function renderOperationMerchants() {
            const tbody = document.getElementById('operationMerchantsTable');
            if (!tbody) return;

            let merchants = AppData.merchants || [];

            // æŒ‰ç¯©é¸æ¢ä»¶éæ¿¾
            if (currentOperationMerchantFilter === 'approved') {
                merchants = merchants.filter(m => m.status === 'approved' && m.is_active === 1);
            } else if (currentOperationMerchantFilter === 'pending') {
                merchants = merchants.filter(m => m.status === 'pending');
            } else if (currentOperationMerchantFilter === 'disabled') {
                merchants = merchants.filter(m => m.is_active === 0);
            }

            // ç”Ÿæˆ HTML
            if (merchants.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="9" style="text-align: center; padding: 40px; color: #999;">
                            æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„å•†å®¶
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = merchants.map(merchant => {
                const productCount = AppData.products.filter(p => p.merchant_id === merchant.id).length;
                const statusClass = merchant.is_active === 1 && merchant.status === 'approved' ? 'active' :
                                  merchant.status === 'pending' ? 'pending' : 'rejected';
                const statusText = merchant.is_active === 1 && merchant.status === 'approved' ? 'ç‡Ÿæ¥­ä¸­' :
                                 merchant.status === 'pending' ? 'å¾…å¯©æ ¸' : 'å·²åœç”¨';

                return `
                    <tr>
                        <td>#M${String(merchant.id).padStart(4, '0')}</td>
                        <td>${merchant.merchant_name}</td>
                        <td>${merchant.account_email}</td>
                        <td>1</td>
                        <td>${productCount}</td>
                        <td>${merchant.total_orders || 0}</td>
                        <td>${merchant.rating || 0} â­</td>
                        <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn edit" onclick="showOperationMerchantDetail(${merchant.id})">æŸ¥çœ‹</button>
                                ${merchant.is_active === 1
                                    ? `<button class="action-btn reject" onclick="toggleMerchantStatus(${merchant.id}, 0)">åœç”¨</button>`
                                    : `<button class="action-btn approve" onclick="toggleMerchantStatus(${merchant.id}, 1)">å•Ÿç”¨</button>`
                                }
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function filterOperationMerchants(filter, btn) {
            currentOperationMerchantFilter = filter;
            btn.parentElement.querySelectorAll('.filter-tab').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            renderOperationMerchants();
        }

        function showOperationMerchantDetail(merchantId) {
            const merchant = AppData.find('merchants', merchantId);
            if (!merchant) {
                showToast('å•†å®¶ä¸å­˜åœ¨', 'error');
                return;
            }

            const productCount = AppData.products.filter(p => p.merchant_id === merchant.id).length;
            const orders = AppData.orders.filter(o => o.merchant_id === merchant.id);
            const totalRevenue = orders.reduce((sum, o) => sum + (o.final_amount || 0), 0);

            const content = `
                <div style="padding: 20px;">
                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸª å•†å®¶è³‡è¨Š</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">å•†å®¶ ID</div>
                                <div style="font-weight: 600;">#M${String(merchant.id).padStart(4, '0')}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">å•†å®¶åç¨±</div>
                                <div style="font-weight: 600;">${merchant.merchant_name}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">è¯çµ¡ä¿¡ç®±</div>
                                <div style="font-weight: 600;">${merchant.account_email}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">è¯çµ¡é›»è©±</div>
                                <div style="font-weight: 600;">${merchant.contact_phone || '-'}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">è² è²¬äºº</div>
                                <div style="font-weight: 600;">${merchant.owner_name || '-'}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">é¡åˆ¥</div>
                                <div style="font-weight: 600;">${merchant.category || '-'}</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px;">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸ“Š ç‡Ÿé‹çµ±è¨ˆ</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 8px;">
                                <div style="font-size: 1.8em; color: #667eea; font-weight: 700;">${productCount}</div>
                                <div style="color: #999; margin-top: 5px;">å•†å“æ•¸</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 8px;">
                                <div style="font-size: 1.8em; color: #4caf50; font-weight: 700;">${merchant.total_orders || 0}</div>
                                <div style="color: #999; margin-top: 5px;">è¨‚å–®æ•¸</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 8px;">
                                <div style="font-size: 1.8em; color: #ff9800; font-weight: 700;">${totalRevenue.toLocaleString()}</div>
                                <div style="color: #999; margin-top: 5px;">ç‡Ÿæ”¶ (MMK)</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            showModal('ğŸª å•†å®¶è©³æƒ…', content);
        }

        function toggleMerchantStatus(merchantId, newStatus) {
            const action = newStatus === 1 ? 'å•Ÿç”¨' : 'åœç”¨';
            showConfirm(
                `ç¢ºå®šè¦${action}æ­¤å•†å®¶å—ï¼Ÿ`,
                () => {
                    AppData.update('merchants', merchantId, { is_active: newStatus });
                    showToast(`å•†å®¶å·²${action}`, 'success');
                    setTimeout(() => {
                        renderOperationMerchants();
                    }, 300);
                },
                `${action}å•†å®¶`
            );
        }

        // ========== å•†å“å¯©æ ¸ ==========

        function initOperationProducts() {
            updateOperationProductsStats();
            renderOperationProducts();
        }

        // æ›´æ–°é‹ç‡Ÿå¾Œå°å•†å“å¯©æ ¸çµ±è¨ˆæ•¸å­—
        function updateOperationProductsStats() {
            const products = AppData.products || [];

            const pendingProducts = products.filter(p => p.review_status === 'pending').length;
            const approvedProducts = products.filter(p => p.review_status === 'approved').length;
            const rejectedProducts = products.filter(p => p.review_status === 'rejected').length;
            const totalProducts = products.length;

            // æ›´æ–° DOM
            const pendingEl = document.getElementById('operationProductsPending');
            const approvedEl = document.getElementById('operationProductsApproved');
            const rejectedEl = document.getElementById('operationProductsRejected');
            const totalEl = document.getElementById('operationProductsTotal');

            if (pendingEl) pendingEl.textContent = pendingProducts.toLocaleString();
            if (approvedEl) approvedEl.textContent = approvedProducts.toLocaleString();
            if (rejectedEl) rejectedEl.textContent = rejectedProducts.toLocaleString();
            if (totalEl) totalEl.textContent = totalProducts.toLocaleString();
        }

        // æ¸²æŸ“é‹ç‡Ÿå¾Œå°å„€è¡¨æ¿çµ±è¨ˆæ•¸æ“š
        function renderOperationDashboard() {
            const members = AppData.users || [];
            const merchants = AppData.merchants || [];
            const products = AppData.products || [];
            const orders = AppData.member_orders || [];
            const categories = AppData.product_categories || [];

            // è¨ˆç®—çµ±è¨ˆæ•¸æ“š
            const memberCount = members.length;
            const merchantCount = merchants.length;
            const pendingProducts = products.filter(p => p.review_status === 'pending');
            const pendingProductCount = pendingProducts.length;
            const orderCount = orders.length;

            // æ›´æ–°å„€è¡¨æ¿çµ±è¨ˆå¡ç‰‡
            const membersEl = document.getElementById('operationDashboardMembers');
            const merchantsEl = document.getElementById('operationDashboardMerchants');
            const pendingProductsEl = document.getElementById('operationDashboardPendingProducts');
            const ordersEl = document.getElementById('operationDashboardOrders');

            if (membersEl) membersEl.textContent = memberCount.toLocaleString();
            if (merchantsEl) merchantsEl.textContent = merchantCount.toLocaleString();
            if (pendingProductsEl) pendingProductsEl.textContent = pendingProductCount;
            if (ordersEl) ordersEl.textContent = orderCount.toLocaleString();

            // æ¸²æŸ“å¾…å¯©æ ¸å•†å“è¡¨æ ¼ï¼ˆé¡¯ç¤ºå‰5å€‹ï¼‰
            const tbody = document.getElementById('operationDashboardPendingProductsTable');
            if (tbody) {
                if (pendingProducts.length === 0) {
                    tbody.innerHTML = `
                        <tr>
                            <td colspan="7" style="text-align: center; padding: 40px; color: #999;">
                                <div style="font-size: 3em; margin-bottom: 10px;">âœ…</div>
                                <p>ç›®å‰æ²’æœ‰å¾…å¯©æ ¸å•†å“</p>
                            </td>
                        </tr>
                    `;
                } else {
                    // å‰µå»ºæ˜ å°„
                    const categoryMap = {};
                    categories.forEach(cat => {
                        categoryMap[cat.id] = { name: cat.category_name, icon: cat.icon };
                    });

                    const merchantMap = {};
                    merchants.forEach(m => {
                        merchantMap[m.id] = m.merchant_name;
                    });

                    // åªé¡¯ç¤ºå‰5å€‹å¾…å¯©æ ¸å•†å“
                    const displayProducts = pendingProducts.slice(0, 5);

                    tbody.innerHTML = displayProducts.map(product => {
                        const catInfo = categoryMap[product.category_id] || { name: 'å…¶ä»–', icon: 'ğŸ' };
                        const merchantName = merchantMap[product.merchant_id] || 'æœªçŸ¥å•†å®¶';

                        return `
                            <tr>
                                <td>${product.product_name}</td>
                                <td>${catInfo.icon} ${catInfo.name}</td>
                                <td>${merchantName}</td>
                                <td>${product.selling_price?.toLocaleString()}</td>
                                <td>${product.created_at?.substring(0, 10) || '-'}</td>
                                <td><span class="status-badge pending">å¾…å¯©æ ¸</span></td>
                                <td>
                                    <div class="action-buttons">
                                        <button class="action-btn approve" onclick="approveProduct(${product.id})">é€šé</button>
                                        <button class="action-btn reject" onclick="rejectProduct(${product.id})">æ‹’çµ•</button>
                                    </div>
                                </td>
                            </tr>
                        `;
                    }).join('');

                    // å¦‚æœæœ‰æ›´å¤šå•†å“ï¼Œé¡¯ç¤ºæç¤º
                    if (pendingProducts.length > 5) {
                        tbody.innerHTML += `
                            <tr>
                                <td colspan="7" style="text-align: center; padding: 20px; background: #f9fafb;">
                                    <button class="quick-action-btn" onclick="switchOperationView('products')">
                                        æŸ¥çœ‹å…¨éƒ¨ ${pendingProducts.length} å€‹å¾…å¯©æ ¸å•†å“ â†’
                                    </button>
                                </td>
                            </tr>
                        `;
                    }
                }
            }

            // æ¸²æŸ“ç®¡ç†å“¡åˆ—è¡¨
            renderAdminManagement();
        }

        // æ¸²æŸ“ç®¡ç†å“¡èˆ‡æ¬Šé™ç®¡ç†
        function renderAdminManagement() {
            const tbody = document.getElementById('adminManagementTable');
            if (!tbody) return;

            const admins = AppData.admins || [];

            if (admins.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="7" style="text-align: center; padding: 40px; color: #999;">
                            <div style="font-size: 3em; margin-bottom: 10px;">ğŸ‘¥</div>
                            <p>å°šç„¡ç®¡ç†å“¡è³‡æ–™</p>
                        </td>
                    </tr>
                `;
                return;
            }

            // è§’è‰²åœ–æ¨™æ˜ å°„
            const roleIconMap = {
                'super_admin': 'ğŸ›¡ï¸',
                'operation_admin': 'âš™ï¸',
                'content_admin': 'âœï¸',
                'cs_admin': 'ğŸ’¬',
                'analyst': 'ğŸ“Š'
            };

            // è§’è‰²åç¨±æ˜ å°„
            const roleNameMap = {
                'super_admin': 'è¶…ç´šç®¡ç†å“¡',
                'operation_admin': 'é‹ç‡Ÿç®¡ç†å“¡',
                'content_admin': 'å…§å®¹ç®¡ç†å“¡',
                'cs_admin': 'å®¢æœç®¡ç†å“¡',
                'analyst': 'æ•¸æ“šåˆ†æå¸«'
            };

            // æ¬Šé™æè¿°æ˜ å°„
            const permissionsDescMap = {
                'super_admin': 'å®Œæ•´æ¬Šé™',
                'operation_admin': 'å•†å®¶/å•†å“/è¨‚å–®/æœƒå“¡',
                'content_admin': 'æ–°è/æ©«å¹…/é»ƒé /å…¬ç›Š',
                'cs_admin': 'æœƒå“¡/è¨‚å–®/æŠ•è¨´',
                'analyst': 'å ±è¡¨/çµ±è¨ˆ'
            };

            tbody.innerHTML = admins.map(admin => {
                const roleIcon = roleIconMap[admin.role] || 'ğŸ‘¤';
                const roleName = roleNameMap[admin.role] || admin.role;
                const permissionsDesc = admin.permissions.includes('all') ? 'å®Œæ•´æ¬Šé™' :
                    (permissionsDescMap[admin.role] || admin.permissions.join(', '));

                const isActive = admin.status === 'active';
                const statusBadge = isActive ?
                    '<span class="status-badge active">å•Ÿç”¨</span>' :
                    '<span class="status-badge rejected">åœç”¨</span>';

                const actionButton = isActive ?
                    `<button class="action-btn edit" onclick="toggleAdminStatus(${admin.id})">åœç”¨</button>` :
                    `<button class="action-btn approve" onclick="toggleAdminStatus(${admin.id})">å•Ÿç”¨</button>`;

                return `
                    <tr>
                        <td>${admin.full_name}</td>
                        <td>${admin.email}</td>
                        <td>${roleIcon} ${roleName}</td>
                        <td>${permissionsDesc}</td>
                        <td>${statusBadge}</td>
                        <td>${admin.last_login || '-'}</td>
                        <td>${actionButton}</td>
                    </tr>
                `;
            }).join('');
        }

        // åˆ‡æ›ç®¡ç†å“¡ç‹€æ…‹ï¼ˆå•Ÿç”¨/åœç”¨ï¼‰
        function toggleAdminStatus(adminId) {
            const admin = AppData.find('admins', adminId);
            if (!admin) {
                showToast('ç®¡ç†å“¡ä¸å­˜åœ¨', 'error');
                return;
            }

            // é˜²æ­¢åœç”¨è¶…ç´šç®¡ç†å“¡
            if (admin.role === 'super_admin' && admin.status === 'active') {
                showConfirm(
                    'ç¢ºå®šè¦åœç”¨è¶…ç´šç®¡ç†å“¡å—ï¼Ÿé€™å¯èƒ½å½±éŸ¿ç³»çµ±ç®¡ç†åŠŸèƒ½ã€‚',
                    () => {
                        executeToggleAdminStatus(admin);
                    },
                    'åœç”¨è¶…ç´šç®¡ç†å“¡'
                );
                return;
            }

            executeToggleAdminStatus(admin);
        }

        function executeToggleAdminStatus(admin) {
            const newStatus = admin.status === 'active' ? 'inactive' : 'active';
            const action = newStatus === 'active' ? 'å•Ÿç”¨' : 'åœç”¨';

            AppData.update('admins', admin.id, { status: newStatus });

            showToast(`å·²${action}ç®¡ç†å“¡ã€Œ${admin.full_name}ã€`, 'success');
            renderAdminManagement();
        }

        function renderOperationProducts() {
            const tbody = document.getElementById('operationProductsTable');
            if (!tbody) return;

            const allProducts = AppData.products || [];
            const categories = AppData.product_categories || [];
            const merchants = AppData.merchants || [];

            // æ›´æ–°çµ±è¨ˆæ•¸æ“š
            const pendingCount = allProducts.filter(p => p.review_status === 'pending').length;
            const approvedCount = allProducts.filter(p => p.review_status === 'approved').length;
            const rejectedCount = allProducts.filter(p => p.review_status === 'rejected').length;
            const totalCount = allProducts.length;

            document.getElementById('operationProductsPending').textContent = pendingCount;
            document.getElementById('operationProductsApproved').textContent = approvedCount;
            document.getElementById('operationProductsRejected').textContent = rejectedCount;
            document.getElementById('operationProductsTotal').textContent = totalCount;

            // å‰µå»ºæ˜ å°„
            const categoryMap = {};
            categories.forEach(cat => {
                categoryMap[cat.id] = { name: cat.category_name, icon: cat.icon };
            });

            const merchantMap = {};
            merchants.forEach(m => {
                merchantMap[m.id] = m.merchant_name;
            });

            // æŒ‰ç¯©é¸æ¢ä»¶éæ¿¾
            let products = allProducts.filter(p => p.review_status === currentOperationProductFilter);

            // ç”Ÿæˆ HTML
            if (products.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 40px; color: #999;">
                            æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„å•†å“
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = products.map(product => {
                const catInfo = categoryMap[product.category_id] || { name: 'å…¶ä»–', icon: 'ğŸ' };
                const merchantName = merchantMap[product.merchant_id] || 'æœªçŸ¥å•†å®¶';
                const statusMap = {
                    'pending': { text: 'å¾…å¯©æ ¸', class: 'pending' },
                    'approved': { text: 'å·²é€šé', class: 'active' },
                    'rejected': { text: 'å·²æ‹’çµ•', class: 'rejected' }
                };
                const status = statusMap[product.review_status] || { text: 'æœªçŸ¥', class: 'pending' };

                let buttons = '';
                if (product.review_status === 'pending') {
                    buttons = `
                        <button class="action-btn approve" onclick="approveProduct(${product.id})">é€šé</button>
                        <button class="action-btn reject" onclick="rejectProduct(${product.id})">æ‹’çµ•</button>
                    `;
                } else {
                    buttons = `<button class="action-btn edit" onclick="showOperationProductDetail(${product.id})">æŸ¥çœ‹</button>`;
                }

                return `
                    <tr>
                        <td>#P${product.id}</td>
                        <td>${product.product_name}</td>
                        <td>${catInfo.icon} ${catInfo.name}</td>
                        <td>${merchantName}</td>
                        <td>${product.selling_price?.toLocaleString()}</td>
                        <td>${product.created_at?.substring(0, 10) || '-'}</td>
                        <td><span class="status-badge ${status.class}">${status.text}</span></td>
                        <td><div class="action-buttons">${buttons}</div></td>
                    </tr>
                `;
            }).join('');
        }

        function filterOperationProducts(filter, btn) {
            currentOperationProductFilter = filter;
            btn.parentElement.querySelectorAll('.filter-tab').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            renderOperationProducts();
        }

        function showOperationProductDetail(productId) {
            const product = AppData.find('products', productId);
            if (!product) {
                showToast('å•†å“ä¸å­˜åœ¨', 'error');
                return;
            }

            const categories = AppData.product_categories || [];
            const merchants = AppData.merchants || [];

            const category = categories.find(cat => cat.id === product.category_id);
            const categoryName = category?.category_name || 'å…¶ä»–';
            const merchant = merchants.find(m => m.id === product.merchant_id);
            const merchantName = merchant?.merchant_name || 'æœªçŸ¥å•†å®¶';

            const content = `
                <div style="padding: 20px; max-height: 500px; overflow-y: auto;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="font-size: 4em; margin-bottom: 10px;">${product.cover_image || 'ğŸ'}</div>
                        <h3 style="margin-bottom: 5px;">${product.product_name}</h3>
                        <div style="color: #666;">${categoryName}</div>
                    </div>

                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                        <h4 style="margin-bottom: 15px; color: #333;">ğŸ“‹ å•†å“è³‡è¨Š</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">å•†å®¶</div>
                                <div style="font-weight: 600;">${merchantName}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">é¡åˆ¥</div>
                                <div style="font-weight: 600;">${categoryName}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">åŸåƒ¹</div>
                                <div style="font-weight: 600;">${product.original_price?.toLocaleString()} MMK</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">å”®åƒ¹</div>
                                <div style="font-weight: 600; color: #667eea;">${product.selling_price?.toLocaleString()} MMK</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">ç¸½æ•¸é‡</div>
                                <div style="font-weight: 600;">${product.total_quantity}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9em; margin-bottom: 5px;">å¯ç”¨æ•¸é‡</div>
                                <div style="font-weight: 600;">${product.available_quantity}</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: #f9fafb; padding: 20px; border-radius: 12px;">
                        <h4 style="margin-bottom: 10px; color: #333;">ğŸ“ å•†å“æè¿°</h4>
                        <p style="color: #666; line-height: 1.6;">${product.description || 'ç„¡æè¿°'}</p>
                    </div>
                </div>
            `;

            showModal('ğŸ” å•†å“è©³æƒ…', content);
        }

        function approveProduct(productId) {
            showConfirm(
                'ç¢ºå®šè¦é€šéæ­¤å•†å“å¯©æ ¸å—ï¼Ÿé€šéå¾Œå•†å“å°‡ä¸Šæ¶è²©å”®ã€‚',
                () => {
                    AppData.update('products', productId, {
                        review_status: 'approved',
                        is_published: 1
                    });
                    showToast('å•†å“å·²é€šéå¯©æ ¸ä¸¦ä¸Šæ¶', 'success');
                    setTimeout(() => {
                        renderOperationProducts();
                        renderOperationDashboard(); // æ›´æ–°é‹ç‡Ÿå¾Œå°å„€è¡¨æ¿çµ±è¨ˆ
                        renderMerchantProducts(); // åŒæ™‚æ›´æ–°å•†å®¶ç«¯åˆ—è¡¨
                        renderMerchantDashboard(); // æ›´æ–°å•†å®¶ç«¯å„€è¡¨æ¿
                        renderProducts(); // åŒæ™‚æ›´æ–°æœƒå“¡ç«¯åˆ—è¡¨
                    }, 300);
                },
                'é€šéå¯©æ ¸'
            );
        }

        function rejectProduct(productId) {
            showConfirm(
                'ç¢ºå®šè¦æ‹’çµ•æ­¤å•†å“å—ï¼Ÿæ‹’çµ•å¾Œå•†å®¶å¯é‡æ–°ä¿®æ”¹ä¸¦é€å¯©ã€‚',
                () => {
                    AppData.update('products', productId, {
                        review_status: 'rejected',
                        is_published: 0
                    });
                    showToast('å•†å“å·²æ‹’çµ•', 'info');
                    setTimeout(() => {
                        renderOperationProducts();
                        renderOperationDashboard(); // æ›´æ–°é‹ç‡Ÿå¾Œå°å„€è¡¨æ¿çµ±è¨ˆ
                        renderMerchantProducts(); // åŒæ™‚æ›´æ–°å•†å®¶ç«¯åˆ—è¡¨
                        renderMerchantDashboard(); // æ›´æ–°å•†å®¶ç«¯å„€è¡¨æ¿
                    }, 300);
                },
                'æ‹’çµ•å¯©æ ¸'
            );
        }

        // ============================================
        // ä¸­å¤®å¾Œå°åŠŸèƒ½
        // ============================================

        // ç•¶å‰é¸æ“‡çš„åœ‹å®¶ (ç”¨æ–¼ä¸­å¤®å¾Œå°ç¯©é¸)
        let currentCentralCountry = 'all';

        // åˆå§‹åŒ–ä¸­å¤®å¾Œå°
        function initCentral() {
            renderCentralDashboard();
            renderCentralRevenue();
            renderCentralAnalytics();
        }

        // åœ‹å®¶ç¯©é¸åŠŸèƒ½ï¼ˆä¸­å¤®å¾Œå°é€šç”¨ï¼‰
        function filterCentralByCountry(country, buttonElement, viewName) {
            // æ›´æ–°ç•¶å‰é¸æ“‡çš„åœ‹å®¶
            currentCentralCountry = country;

            // æ›´æ–°æŒ‰éˆ• active ç‹€æ…‹
            const container = buttonElement.closest('.country-selector');
            container.querySelectorAll('.country-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            buttonElement.classList.add('active');

            // æ ¹æ“šè¦–åœ–é‡æ–°æ¸²æŸ“æ•¸æ“š
            if (viewName === 'dashboard') {
                renderCentralDashboard();
            } else if (viewName === 'revenue') {
                renderCentralRevenue();
            } else if (viewName === 'analytics') {
                renderCentralAnalytics();
            }

            showToast(`å·²åˆ‡æ›åˆ° ${country === 'all' ? 'å…¨éƒ¨åœ‹å®¶' : buttonElement.textContent}`, 'info');
        }

        // è¨ˆç®—è·¨åœ‹çµ±è¨ˆæ•¸æ“š
        function calculateCentralStats(countryFilter = 'all') {
            const users = AppData.users || [];
            const merchants = AppData.merchants || [];
            const orders = AppData.orders || [];
            const products = AppData.products || [];

            // æ ¹æ“šåœ‹å®¶éæ¿¾ï¼ˆç›®å‰ç¤ºä¾‹æ•¸æ“šæ²’æœ‰åœ‹å®¶å­—æ®µï¼Œæ‰€ä»¥æš«æ™‚è¿”å›å…¨éƒ¨ï¼‰
            // å¯¦éš›æ‡‰ç”¨ä¸­æœƒæ ¹æ“š users.country_iso, merchants.country_iso ç­‰é€²è¡Œéæ¿¾

            const totalMembers = users.length;
            const totalMerchants = merchants.filter(m => m.status === 'approved').length;
            const monthOrders = orders.length;
            const totalRevenue = orders.reduce((sum, o) => sum + (o.final_amount || 0), 0);

            const activeMembers = users.filter(u => u.is_active === 1).length;
            const activeMerchants = merchants.filter(m => m.is_active === 1 && m.status === 'approved').length;
            const totalProducts = products.filter(p => p.review_status === 'approved').length;

            const averageOrderValue = monthOrders > 0 ? (totalRevenue / monthOrders) : 0;

            return {
                totalMembers,
                totalMerchants,
                monthOrders,
                totalRevenue,
                activeMembers,
                activeMerchants,
                totalProducts,
                averageOrderValue
            };
        }

        // æ¸²æŸ“ä¸­å¤®å¾Œå°å„€è¡¨æ¿
        function renderCentralDashboard() {
            const stats = calculateCentralStats(currentCentralCountry);

            // æ›´æ–°é ‚éƒ¨çµ±è¨ˆå¡ç‰‡
            const statsRow = document.querySelector('#centralDashboard .stats-row');
            if (statsRow) {
                const statCards = statsRow.querySelectorAll('.stat-card');
                if (statCards.length >= 4) {
                    statCards[0].querySelector('.stat-number').textContent = stats.totalMembers.toLocaleString();
                    statCards[1].querySelector('.stat-number').textContent = stats.totalMerchants.toLocaleString();
                    statCards[2].querySelector('.stat-number').textContent = stats.monthOrders.toLocaleString();
                    statCards[3].querySelector('.stat-number').textContent = stats.totalRevenue.toLocaleString();
                }
            }

            // è¨ˆç®—å„åœ‹ç‡Ÿæ”¶ï¼ˆç¤ºä¾‹æ•¸æ“šï¼Œå¯¦éš›æ‡‰æ ¹æ“š country_iso åˆ†çµ„ï¼‰
            const countryRevenue = calculateCountryRevenue();
            updateCountryRevenueTable(countryRevenue);

            // è¨ˆç®—ç”¨æˆ¶åˆ†ä½ˆ
            const userDistribution = calculateUserDistribution();
            updateUserDistributionTable(userDistribution);
        }

        // è¨ˆç®—å„åœ‹ç‡Ÿæ”¶ï¼ˆç¤ºä¾‹å¯¦ç¾ï¼‰
        function calculateCountryRevenue() {
            const orders = AppData.orders || [];
            const totalRevenue = orders.reduce((sum, o) => sum + (o.final_amount || 0), 0);

            // ç¤ºä¾‹åˆ†é…ï¼ˆå¯¦éš›æ‡‰æ ¹æ“šè¨‚å–®çš„åœ‹å®¶å­—æ®µåˆ†çµ„ï¼‰
            return [
                { country: 'ğŸ‡¹ğŸ‡¼ å°ç£', revenue: Math.round(totalRevenue * 0.35), growth: 15 },
                { country: 'ğŸ‡²ğŸ‡² ç·¬ç”¸', revenue: Math.round(totalRevenue * 0.45), growth: 22 },
                { country: 'ğŸ‡¹ğŸ‡­ æ³°åœ‹', revenue: Math.round(totalRevenue * 0.12), growth: -5 },
                { country: 'ğŸ‡»ğŸ‡³ è¶Šå—', revenue: Math.round(totalRevenue * 0.08), growth: 8 }
            ];
        }

        // æ›´æ–°å„åœ‹ç‡Ÿæ”¶è¡¨æ ¼
        function updateCountryRevenueTable(countryData) {
            const table = document.querySelector('#centralDashboard .dashboard-card table tbody');
            if (!table) return;

            const rows = table.querySelectorAll('tr');
            countryData.forEach((data, index) => {
                if (rows[index]) {
                    const cells = rows[index].querySelectorAll('td');
                    if (cells.length >= 3) {
                        cells[1].textContent = `$${data.revenue.toLocaleString()}`;
                        cells[2].innerHTML = data.growth >= 0
                            ? `<span style="color: #4caf50;">â†‘ ${data.growth}%</span>`
                            : `<span style="color: #f44336;">â†“ ${Math.abs(data.growth)}%</span>`;
                    }
                }
            });
        }

        // è¨ˆç®—ç”¨æˆ¶åˆ†ä½ˆ
        function calculateUserDistribution() {
            const users = AppData.users || [];
            const totalUsers = users.length;
            const activeUsers = users.filter(u => u.is_active === 1).length;
            const activeRate = totalUsers > 0 ? Math.round((activeUsers / totalUsers) * 100) : 0;

            // ç¤ºä¾‹åˆ†é…ï¼ˆå¯¦éš›æ‡‰æ ¹æ“šç”¨æˆ¶çš„åœ‹å®¶å­—æ®µåˆ†çµ„ï¼‰
            return [
                { country: 'ğŸ‡¹ğŸ‡¼ å°ç£', members: Math.round(totalUsers * 0.41), activeRate: 78 },
                { country: 'ğŸ‡²ğŸ‡² ç·¬ç”¸', members: Math.round(totalUsers * 0.33), activeRate: 82 },
                { country: 'ğŸ‡¹ğŸ‡­ æ³°åœ‹', members: Math.round(totalUsers * 0.18), activeRate: 65 },
                { country: 'ğŸ‡»ğŸ‡³ è¶Šå—', members: Math.round(totalUsers * 0.08), activeRate: 71 }
            ];
        }

        // æ›´æ–°ç”¨æˆ¶åˆ†ä½ˆè¡¨æ ¼
        function updateUserDistributionTable(userData) {
            const tables = document.querySelectorAll('#centralDashboard .dashboard-card table');
            if (tables.length < 2) return;

            const table = tables[1].querySelector('tbody');
            if (!table) return;

            const rows = table.querySelectorAll('tr');
            userData.forEach((data, index) => {
                if (rows[index]) {
                    const cells = rows[index].querySelectorAll('td');
                    if (cells.length >= 3) {
                        cells[1].textContent = data.members.toLocaleString();
                        cells[2].textContent = `${data.activeRate}%`;
                    }
                }
            });
        }

        // æ¸²æŸ“ä¸­å¤®å¾Œå°ç‡Ÿæ”¶å ±è¡¨
        function renderCentralRevenue() {
            const stats = calculateCentralStats(currentCentralCountry);
            const orders = AppData.orders || [];
            const users = AppData.users || [];
            const merchants = AppData.merchants || [];

            // è¨ˆç®—å„åœ‹è©³ç´°ç‡Ÿæ”¶çµ±è¨ˆ
            const countryStats = calculateDetailedCountryStats();

            // æ›´æ–°ç‡Ÿæ”¶çµ±è¨ˆè¡¨æ ¼
            const table = document.querySelector('#centralRevenue table tbody');
            if (table) {
                const dataRows = table.querySelectorAll('tr:not(:last-child)');
                countryStats.forEach((stat, index) => {
                    if (dataRows[index]) {
                        const cells = dataRows[index].querySelectorAll('td');
                        if (cells.length >= 7) {
                            cells[1].textContent = `$${stat.revenue.toLocaleString()}`;
                            cells[2].textContent = stat.orders.toLocaleString();
                            cells[3].textContent = stat.activeMembers.toLocaleString();
                            cells[4].textContent = stat.activeMerchants.toLocaleString();
                            cells[5].textContent = `$${stat.avgOrderValue.toFixed(2)}`;
                            cells[6].innerHTML = stat.growth >= 0
                                ? `<span style="color: #4caf50;">â†‘ ${stat.growth}%</span>`
                                : `<span style="color: #f44336;">â†“ ${Math.abs(stat.growth)}%</span>`;
                        }
                    }
                });

                // æ›´æ–°ç¸½è¨ˆè¡Œ
                const totalRow = table.querySelector('tr:last-child');
                if (totalRow) {
                    const totalRevenue = countryStats.reduce((sum, s) => sum + s.revenue, 0);
                    const totalOrders = countryStats.reduce((sum, s) => sum + s.orders, 0);
                    const totalActiveMembers = countryStats.reduce((sum, s) => sum + s.activeMembers, 0);
                    const totalActiveMerchants = countryStats.reduce((sum, s) => sum + s.activeMerchants, 0);
                    const avgOrderValue = totalOrders > 0 ? (totalRevenue / totalOrders) : 0;
                    const avgGrowth = countryStats.reduce((sum, s) => sum + s.growth, 0) / countryStats.length;

                    const cells = totalRow.querySelectorAll('td');
                    if (cells.length >= 7) {
                        cells[1].textContent = `$${totalRevenue.toLocaleString()}`;
                        cells[2].textContent = totalOrders.toLocaleString();
                        cells[3].textContent = totalActiveMembers.toLocaleString();
                        cells[4].textContent = totalActiveMerchants.toLocaleString();
                        cells[5].textContent = `$${avgOrderValue.toFixed(2)}`;
                        cells[6].innerHTML = avgGrowth >= 0
                            ? `<span style="color: #4caf50;">â†‘ ${avgGrowth.toFixed(1)}%</span>`
                            : `<span style="color: #f44336;">â†“ ${Math.abs(avgGrowth).toFixed(1)}%</span>`;
                    }
                }
            }

            // æ›´æ–°ç‡Ÿæ”¶åˆ†é¡çµ±è¨ˆ
            updateRevenueCategoryStats();
        }

        // è¨ˆç®—å„åœ‹è©³ç´°çµ±è¨ˆ
        function calculateDetailedCountryStats() {
            const orders = AppData.orders || [];
            const users = AppData.users || [];
            const merchants = AppData.merchants || [];

            const totalRevenue = orders.reduce((sum, o) => sum + (o.final_amount || 0), 0);
            const totalOrders = orders.length;
            const activeMembers = users.filter(u => u.is_active === 1).length;
            const activeMerchants = merchants.filter(m => m.is_active === 1 && m.status === 'approved').length;

            // ç¤ºä¾‹åˆ†é…ï¼ˆå¯¦éš›æ‡‰æ ¹æ“šåœ‹å®¶å­—æ®µåˆ†çµ„ï¼‰
            return [
                {
                    country: 'ğŸ‡²ğŸ‡² ç·¬ç”¸',
                    revenue: Math.round(totalRevenue * 0.50),
                    orders: Math.round(totalOrders * 0.50),
                    activeMembers: Math.round(activeMembers * 0.49),
                    activeMerchants: Math.round(activeMerchants * 0.49),
                    avgOrderValue: (totalRevenue * 0.50) / (totalOrders * 0.50 || 1),
                    growth: 15.2
                },
                {
                    country: 'ğŸ‡¹ğŸ‡¼ å°ç£',
                    revenue: Math.round(totalRevenue * 0.30),
                    orders: Math.round(totalOrders * 0.25),
                    activeMembers: Math.round(activeMembers * 0.28),
                    activeMerchants: Math.round(activeMerchants * 0.27),
                    avgOrderValue: (totalRevenue * 0.30) / (totalOrders * 0.25 || 1),
                    growth: 8.5
                },
                {
                    country: 'ğŸ‡¹ğŸ‡­ æ³°åœ‹',
                    revenue: Math.round(totalRevenue * 0.15),
                    orders: Math.round(totalOrders * 0.18),
                    activeMembers: Math.round(activeMembers * 0.17),
                    activeMerchants: Math.round(activeMerchants * 0.17),
                    avgOrderValue: (totalRevenue * 0.15) / (totalOrders * 0.18 || 1),
                    growth: 12.8
                },
                {
                    country: 'ğŸ‡»ğŸ‡³ è¶Šå—',
                    revenue: Math.round(totalRevenue * 0.05),
                    orders: Math.round(totalOrders * 0.07),
                    activeMembers: Math.round(activeMembers * 0.06),
                    activeMerchants: Math.round(activeMerchants * 0.07),
                    avgOrderValue: (totalRevenue * 0.05) / (totalOrders * 0.07 || 1),
                    growth: -3.2
                }
            ];
        }

        // æ›´æ–°ç‡Ÿæ”¶åˆ†é¡çµ±è¨ˆ
        function updateRevenueCategoryStats() {
            const products = AppData.products || [];
            const categories = AppData.product_categories || [];
            const orders = AppData.orders || [];

            const totalRevenue = orders.reduce((sum, o) => sum + (o.final_amount || 0), 0);

            // è¨ˆç®—å„é¡åˆ¥ç‡Ÿæ”¶ï¼ˆç°¡åŒ–ç‰ˆæœ¬ï¼‰
            const categoryRevenue = {
                'ğŸ”': totalRevenue * 0.44,  // é¤é£²ç¾é£Ÿ
                'âœˆï¸': totalRevenue * 0.289, // æ—…éŠäº¤é€š
                'ğŸ¨': totalRevenue * 0.184, // é£¯åº—ä½å®¿
                'ğŸ­': totalRevenue * 0.087  // å¨›æ¨‚ä¼‘é–’
            };

            const cards = document.querySelectorAll('#centralRevenue .dashboard-grid .dashboard-card');
            const categoryIcons = ['ğŸ”', 'âœˆï¸', 'ğŸ¨', 'ğŸ­'];
            const growthRates = [18.5, 10.2, 6.8, -2.1];

            cards.forEach((card, index) => {
                const icon = categoryIcons[index];
                const revenue = categoryRevenue[icon] || 0;
                const percentage = totalRevenue > 0 ? ((revenue / totalRevenue) * 100).toFixed(1) : 0;
                const growth = growthRates[index];

                const revenueDiv = card.querySelector('div[style*="font-size: 2.5em"]');
                const percentageDiv = card.querySelectorAll('div[style*="color: #666"]')[0];
                const growthDiv = card.querySelectorAll('div[style*="margin-top: 5px"]')[1];

                if (revenueDiv) revenueDiv.textContent = `$${Math.round(revenue).toLocaleString()}`;
                if (percentageDiv) percentageDiv.textContent = `${percentage}% ä½”æ¯”`;
                if (growthDiv) {
                    growthDiv.style.color = growth >= 0 ? '#4caf50' : '#f44336';
                    growthDiv.textContent = growth >= 0 ? `â†‘ ${growth}%` : `â†“ ${Math.abs(growth)}%`;
                }
            });
        }

        // æ¸²æŸ“ä¸­å¤®å¾Œå°æ•¸æ“šåˆ†æ
        function renderCentralAnalytics() {
            const stats = calculateCentralStats(currentCentralCountry);
            const users = AppData.users || [];
            const products = AppData.products || [];

            // è¨ˆç®—ç”¨æˆ¶è¡Œç‚ºçµ±è¨ˆ
            const dau = Math.round(stats.activeMembers * 0.18); // å‡è¨­ 18% çš„æ´»èºç”¨æˆ¶ç‚ºæ—¥æ´»
            const mau = stats.activeMembers;
            const avgSessionTime = 8.5; // åˆ†é˜ï¼ˆç¤ºä¾‹ï¼‰
            const retentionRate = 68.5; // ç™¾åˆ†æ¯”ï¼ˆç¤ºä¾‹ï¼‰

            // æ›´æ–°ç”¨æˆ¶è¡Œç‚ºåˆ†æå¡ç‰‡
            const cards = document.querySelectorAll('#centralAnalytics .dashboard-grid .dashboard-card');
            if (cards.length >= 4) {
                updateAnalyticsCard(cards[0], dau, 'å¹³å‡æ¯æ—¥', 12.3);
                updateAnalyticsCard(cards[1], mau, 'æœ¬æœˆç¸½è¨ˆ', 8.7);
                updateAnalyticsCard(cards[2], avgSessionTime, 'åˆ†é˜/æ¬¡', 5.2);
                updateAnalyticsCard(cards[3], retentionRate, '30å¤©ç•™å­˜', 3.8, true);
            }

            // æ›´æ–°ç†±é–€å•†å“æ’è¡Œ
            updateTopProductsTable();
        }

        // æ›´æ–°åˆ†æå¡ç‰‡æ•¸æ“š
        function updateAnalyticsCard(card, value, label, growth, isPercentage = false) {
            const valueDiv = card.querySelector('div[style*="font-size: 2.5em"]');
            const labelDiv = card.querySelectorAll('div[style*="color: #666"]')[0];
            const growthDiv = card.querySelector('div[style*="color: #4caf50"], div[style*="color: #f44336"]');

            if (valueDiv) {
                if (isPercentage) {
                    valueDiv.textContent = `${value}%`;
                } else {
                    valueDiv.textContent = typeof value === 'number' && value > 100
                        ? value.toLocaleString()
                        : value;
                }
            }
            if (labelDiv) labelDiv.textContent = label;
            if (growthDiv) {
                growthDiv.style.color = '#4caf50';
                growthDiv.textContent = `â†‘ ${growth}%`;
            }
        }

        // æ›´æ–°ç†±é–€å•†å“æ’è¡Œè¡¨æ ¼
        function updateTopProductsTable() {
            const products = AppData.products || [];
            const categories = AppData.product_categories || [];

            // å‰µå»º category_id åˆ° category info çš„æ˜ å°„
            const categoryMap = {};
            categories.forEach(cat => {
                categoryMap[cat.id] = { name: cat.category_name, icon: cat.icon };
            });

            // æŒ‰è³¼è²·æ¬¡æ•¸æ’åºä¸¦å–å‰5å
            const topProducts = [...products]
                .filter(p => p.review_status === 'approved')
                .sort((a, b) => b.purchase_count - a.purchase_count)
                .slice(0, 5);

            const table = document.querySelector('#centralAnalytics table tbody');
            if (!table) return;

            const rows = table.querySelectorAll('tr');
            topProducts.forEach((product, index) => {
                if (rows[index]) {
                    const category = categoryMap[product.category_id] || { name: 'æœªåˆ†é¡', icon: 'ğŸ“¦' };
                    const revenue = product.purchase_count * product.selling_price;
                    const rating = (4.6 + Math.random() * 0.4).toFixed(1);

                    const cells = rows[index].querySelectorAll('td');
                    if (cells.length >= 7) {
                        cells[0].textContent = index === 0 ? 'ğŸ¥‡ 1' : index === 1 ? 'ğŸ¥ˆ 2' : index === 2 ? 'ğŸ¥‰ 3' : (index + 1);
                        cells[1].textContent = product.product_name;
                        cells[2].textContent = `${category.icon} ${category.name}`;
                        cells[3].textContent = product.purchase_count.toLocaleString();
                        cells[4].textContent = `$${revenue.toLocaleString()}`;
                        cells[5].textContent = `${rating} â­`;
                        // cells[6] ä¿æŒåŸæœ‰çš„å¸‚å ´æ¨™è¨˜
                    }
                }
            });
        }

        // ============================================
        // é‹ç‡Ÿå¾Œå° CMS ç®¡ç†æ¸²æŸ“å‡½æ•¸
        // ============================================

        // è¼”åŠ©å‡½æ•¸ï¼šåˆ‡æ›åˆ° CMS è©³ç´°è¦–åœ–
        function switchToCMSDetailView(viewId) {
            const operation = document.getElementById('operation');
            operation.querySelectorAll('.content-view').forEach(view => {
                view.classList.remove('active');
            });
            const targetView = document.getElementById(viewId);
            if (targetView) {
                targetView.classList.add('active');
            }
        }

        // ç•¶å‰æ©«å¹…ç¯©é¸æ¢ä»¶
        let currentBannerFilter = 'all';

        // æ¸²æŸ“æ©«å¹…å»£å‘Šç®¡ç†
        function renderOperationBanners() {
            console.log('ğŸª æ¸²æŸ“æ©«å¹…å»£å‘Šç®¡ç†');
            switchToCMSDetailView('operationBannersView');

            const banners = AppData.banners || [];

            // è¨ˆç®—çµ±è¨ˆæ•¸æ“š
            const now = new Date();
            const activeCount = banners.filter(b => b.is_active && new Date(b.end_date) > now).length;
            const draftCount = banners.filter(b => !b.is_active).length;
            const expiredCount = banners.filter(b => b.is_active && new Date(b.end_date) <= now).length;

            // æ›´æ–°çµ±è¨ˆå¡ç‰‡
            document.getElementById('bannersTotal').textContent = banners.length;
            document.getElementById('bannersActive').textContent = activeCount;
            document.getElementById('bannersDraft').textContent = draftCount;
            document.getElementById('bannersExpired').textContent = expiredCount;

            console.log(`æ©«å¹…ç¸½æ•¸ï¼š${banners.length} | å•Ÿç”¨ï¼š${activeCount} | è‰ç¨¿ï¼š${draftCount} | éæœŸï¼š${expiredCount}`);

            // æ¸²æŸ“æ©«å¹…åˆ—è¡¨
            renderBannersList();
        }

        // æ¸²æŸ“æ©«å¹…åˆ—è¡¨
        function renderBannersList() {
            const tbody = document.getElementById('bannersTable');
            if (!tbody) return;

            let banners = AppData.banners || [];
            const now = new Date();

            // æ ¹æ“šç¯©é¸æ¢ä»¶éæ¿¾
            if (currentBannerFilter === 'active') {
                banners = banners.filter(b => b.is_active && new Date(b.end_date) > now);
            } else if (currentBannerFilter === 'draft') {
                banners = banners.filter(b => !b.is_active);
            } else if (currentBannerFilter === 'expired') {
                banners = banners.filter(b => b.is_active && new Date(b.end_date) <= now);
            }

            // æŒ‰ display_order æ’åº
            banners.sort((a, b) => (a.display_order || 999) - (b.display_order || 999));

            if (banners.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 40px; color: #999;">
                            <div style="font-size: 3em; margin-bottom: 10px;">ğŸ–¼ï¸</div>
                            <p>${currentBannerFilter === 'all' ? 'å°šç„¡æ©«å¹…è³‡æ–™' : 'æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„æ©«å¹…'}</p>
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = banners.map(banner => {
                const endDate = new Date(banner.end_date);
                const isActive = banner.is_active && endDate > now;
                const isExpired = banner.is_active && endDate <= now;

                let statusBadge = '';
                if (!banner.is_active) {
                    statusBadge = '<span class="status-badge pending">è‰ç¨¿</span>';
                } else if (isExpired) {
                    statusBadge = '<span class="status-badge rejected">å·²éæœŸ</span>';
                } else {
                    statusBadge = '<span class="status-badge active">å•Ÿç”¨ä¸­</span>';
                }

                // é€£çµé¡å‹æ˜ å°„
                const linkTypeMap = {
                    'task': 'ä»»å‹™',
                    'merchant': 'å•†å®¶',
                    'product': 'å•†å“',
                    'news': 'æ–°è',
                    'charity': 'å…¬ç›Š',
                    'yellow_pages': 'é»ƒé ',
                    'vacancies': 'è·ç¼º',
                    'external': 'å¤–éƒ¨é€£çµ'
                };

                return `
                    <tr>
                        <td>#${banner.id}</td>
                        <td>${banner.title}</td>
                        <td>${linkTypeMap[banner.link_type] || banner.link_type}</td>
                        <td>ç¬¬ ${banner.display_order || '-'} ä½</td>
                        <td>${banner.clicks || 0}</td>
                        <td>${banner.start_date?.substring(0, 10)} ~ ${banner.end_date?.substring(0, 10)}</td>
                        <td>${statusBadge}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="action-btn edit" onclick="editBanner(${banner.id})">ç·¨è¼¯</button>
                                ${isActive ? `<button class="action-btn edit" onclick="toggleBannerStatus(${banner.id})">åœç”¨</button>` : ''}
                                ${!banner.is_active ? `<button class="action-btn approve" onclick="toggleBannerStatus(${banner.id})">å•Ÿç”¨</button>` : ''}
                                <button class="action-btn reject" onclick="deleteBanner(${banner.id})">åˆªé™¤</button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        // ç¯©é¸æ©«å¹…
        function filterBanners(filter, btn) {
            currentBannerFilter = filter;

            // æ›´æ–°æŒ‰éˆ•æ¨£å¼
            btn.parentElement.querySelectorAll('.filter-tab').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            renderBannersList();
        }

        // é¡¯ç¤ºæ–°å¢æ©«å¹…è¡¨å–®
        function showAddBannerForm() {
            const today = new Date().toISOString().substring(0, 10);
            const nextMonth = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().substring(0, 10);
            const categories = AppData.banner_categories || [];
            const activeCategories = categories.filter(cat => cat.is_active);

            const categoryOptions = activeCategories.map(cat =>
                `<option value="${cat.slug}">${cat.icon} ${cat.name}</option>`
            ).join('');

            const content = `
                <div style="padding: 20px;">
                    <form id="addBannerForm">
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">æ¨™é¡Œ *</label>
                            <input type="text" id="bannerTitle" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;" placeholder="æ©«å¹…æ¨™é¡Œ">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">å‰¯æ¨™é¡Œ</label>
                            <input type="text" id="bannerSubtitle" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;" placeholder="æ©«å¹…å‰¯æ¨™é¡Œ">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">é€£çµé¡å‹ *</label>
                            <select id="bannerLinkType" required onchange="updateBannerLinkTarget()" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                                <option value="category">åˆ†é¡</option>
                                <option value="task">ä»»å‹™</option>
                                <option value="merchant">å•†å®¶</option>
                                <option value="product">å•†å“</option>
                                <option value="news">æ–°è</option>
                                <option value="charity">å…¬ç›Šæ´»å‹•</option>
                                <option value="yellow_pages">é»ƒé </option>
                                <option value="vacancies">è·ç¼º</option>
                                <option value="external">å¤–éƒ¨é€£çµ</option>
                            </select>
                        </div>

                        <div id="categorySelectContainer" style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">é¸æ“‡åˆ†é¡ *</label>
                            <select id="bannerCategorySelect" onchange="updateCategoryUrl()" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                                ${categoryOptions}
                            </select>
                            <small style="color: #666; display: block; margin-top: 5px;">é¸æ“‡åˆ†é¡å¾Œæœƒè‡ªå‹•å¡«å…¥å°æ‡‰çš„ URL</small>
                        </div>

                        <div id="linkTargetContainer" style="margin-bottom: 20px; display: none;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">é€£çµç›®æ¨™</label>
                            <input type="text" id="bannerLinkTarget" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;" placeholder="ä¾‹å¦‚ï¼šå•†å®¶IDã€å•†å“IDã€å¤–éƒ¨URL">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">é¡¯ç¤ºé †åº</label>
                            <input type="number" id="bannerDisplayOrder" min="1" value="1" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                            <div>
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">é–‹å§‹æ—¥æœŸ *</label>
                                <input type="date" id="bannerStartDate" required value="${today}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">çµæŸæ—¥æœŸ *</label>
                                <input type="date" id="bannerEndDate" required value="${nextMonth}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                            </div>
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" id="bannerIsActive" checked style="margin-right: 10px;">
                                <span style="font-weight: 600;">å•Ÿç”¨æ©«å¹…</span>
                            </label>
                        </div>

                        <div style="display: flex; gap: 10px; justify-content: flex-end;">
                            <button type="button" class="quick-action-btn" onclick="closeModal()" style="background: #999;">å–æ¶ˆ</button>
                            <button type="submit" class="quick-action-btn" style="background: #667eea;">ç¢ºèªæ–°å¢</button>
                        </div>
                    </form>
                </div>
            `;

            showModal('â• æ–°å¢æ©«å¹…', content);

            // ç¶å®šè¡¨å–®æäº¤äº‹ä»¶
            document.getElementById('addBannerForm').onsubmit = function(e) {
                e.preventDefault();
                handleAddBanner();
            };

            // åˆå§‹åŒ–ï¼šé è¨­é¸æ“‡åˆ†é¡æ™‚é¡¯ç¤ºå°æ‡‰çš„è¼¸å…¥æ¡†
            updateBannerLinkTarget();
        }

        // æ›´æ–°é€£çµç›®æ¨™è¼¸å…¥æ¡†é¡¯ç¤º/éš±è—
        function updateBannerLinkTarget() {
            const linkType = document.getElementById('bannerLinkType')?.value;
            const categoryContainer = document.getElementById('categorySelectContainer');
            const linkTargetContainer = document.getElementById('linkTargetContainer');

            if (!categoryContainer || !linkTargetContainer) return;

            if (linkType === 'category') {
                categoryContainer.style.display = 'block';
                linkTargetContainer.style.display = 'none';
                // è‡ªå‹•å¡«å…¥åˆ†é¡ URL
                updateCategoryUrl();
            } else {
                categoryContainer.style.display = 'none';
                linkTargetContainer.style.display = 'block';
            }
        }

        // æ›´æ–°åˆ†é¡ URL
        function updateCategoryUrl() {
            const categorySelect = document.getElementById('bannerCategorySelect');
            if (!categorySelect) return;

            const selectedSlug = categorySelect.value;
            const categories = AppData.banner_categories || [];
            const category = categories.find(cat => cat.slug === selectedSlug);

            if (category) {
                const linkTargetInput = document.getElementById('bannerLinkTarget');
                if (linkTargetInput) {
                    linkTargetInput.value = category.slug;
                }
            }
        }

        // è™•ç†æ–°å¢æ©«å¹…
        function handleAddBanner() {
            const title = document.getElementById('bannerTitle').value.trim();
            const subtitle = document.getElementById('bannerSubtitle').value.trim();
            const linkType = document.getElementById('bannerLinkType').value;

            // å¦‚æœæ˜¯åˆ†é¡é¡å‹ï¼Œå¾åˆ†é¡é¸æ“‡æ¡†ç²å–å€¼
            let linkTarget;
            if (linkType === 'category') {
                const categorySelect = document.getElementById('bannerCategorySelect');
                linkTarget = categorySelect ? categorySelect.value : '';
            } else {
                linkTarget = document.getElementById('bannerLinkTarget').value.trim();
            }

            const displayOrder = parseInt(document.getElementById('bannerDisplayOrder').value) || 1;
            const startDate = document.getElementById('bannerStartDate').value;
            const endDate = document.getElementById('bannerEndDate').value;
            const isActive = document.getElementById('bannerIsActive').checked;

            if (!title || !linkType || !startDate || !endDate) {
                showToast('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½', 'error');
                return;
            }

            // é©—è­‰æ—¥æœŸ
            if (new Date(endDate) <= new Date(startDate)) {
                showToast('çµæŸæ—¥æœŸå¿…é ˆæ™šæ–¼é–‹å§‹æ—¥æœŸ', 'error');
                return;
            }

            const newBanner = {
                title,
                subtitle,
                link_type: linkType,
                link_target: linkTarget,
                is_active: isActive ? 1 : 0,
                display_order: displayOrder,
                start_date: startDate + ' 00:00:00',
                end_date: endDate + ' 23:59:59',
                image_url: 'banner_default.jpg',
                clicks: 0,
                created_at: new Date().toISOString().replace('T', ' ').substring(0, 19)
            };

            AppData.create('banners', newBanner);
            closeModal();
            showToast('æ©«å¹…æ–°å¢æˆåŠŸï¼', 'success');
            renderOperationBanners();
        }

        // ç·¨è¼¯æ©«å¹…
        function editBanner(bannerId) {
            const banner = AppData.find('banners', bannerId);
            if (!banner) {
                showToast('æ©«å¹…ä¸å­˜åœ¨', 'error');
                return;
            }

            const categories = AppData.banner_categories || [];
            const activeCategories = categories.filter(cat => cat.is_active);

            const categoryOptions = activeCategories.map(cat =>
                `<option value="${cat.slug}" ${banner.link_type === 'category' && banner.link_target === cat.slug ? 'selected' : ''}>${cat.icon} ${cat.name}</option>`
            ).join('');

            const content = `
                <div style="padding: 20px;">
                    <form id="editBannerForm">
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">æ¨™é¡Œ *</label>
                            <input type="text" id="editBannerTitle" required value="${banner.title}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">å‰¯æ¨™é¡Œ</label>
                            <input type="text" id="editBannerSubtitle" value="${banner.subtitle || ''}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">é€£çµé¡å‹ *</label>
                            <select id="editBannerLinkType" required onchange="updateEditBannerLinkTarget()" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                                <option value="category" ${banner.link_type === 'category' ? 'selected' : ''}>åˆ†é¡</option>
                                <option value="task" ${banner.link_type === 'task' ? 'selected' : ''}>ä»»å‹™</option>
                                <option value="merchant" ${banner.link_type === 'merchant' ? 'selected' : ''}>å•†å®¶</option>
                                <option value="product" ${banner.link_type === 'product' ? 'selected' : ''}>å•†å“</option>
                                <option value="news" ${banner.link_type === 'news' ? 'selected' : ''}>æ–°è</option>
                                <option value="charity" ${banner.link_type === 'charity' ? 'selected' : ''}>å…¬ç›Šæ´»å‹•</option>
                                <option value="yellow_pages" ${banner.link_type === 'yellow_pages' ? 'selected' : ''}>é»ƒé </option>
                                <option value="vacancies" ${banner.link_type === 'vacancies' ? 'selected' : ''}>è·ç¼º</option>
                                <option value="external" ${banner.link_type === 'external' ? 'selected' : ''}>å¤–éƒ¨é€£çµ</option>
                            </select>
                        </div>

                        <div id="editCategorySelectContainer" style="margin-bottom: 20px; display: ${banner.link_type === 'category' ? 'block' : 'none'};">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">é¸æ“‡åˆ†é¡ *</label>
                            <select id="editBannerCategorySelect" onchange="updateEditCategoryUrl()" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                                ${categoryOptions}
                            </select>
                            <small style="color: #666; display: block; margin-top: 5px;">é¸æ“‡åˆ†é¡å¾Œæœƒè‡ªå‹•å¡«å…¥å°æ‡‰çš„ URL</small>
                        </div>

                        <div id="editLinkTargetContainer" style="margin-bottom: 20px; display: ${banner.link_type === 'category' ? 'none' : 'block'};">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">é€£çµç›®æ¨™</label>
                            <input type="text" id="editBannerLinkTarget" value="${banner.link_target || ''}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600;">é¡¯ç¤ºé †åº</label>
                            <input type="number" id="editBannerDisplayOrder" min="1" value="${banner.display_order || 1}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                            <div>
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">é–‹å§‹æ—¥æœŸ *</label>
                                <input type="date" id="editBannerStartDate" required value="${banner.start_date?.substring(0, 10)}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 5px; font-weight: 600;">çµæŸæ—¥æœŸ *</label>
                                <input type="date" id="editBannerEndDate" required value="${banner.end_date?.substring(0, 10)}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                            </div>
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" id="editBannerIsActive" ${banner.is_active ? 'checked' : ''} style="margin-right: 10px;">
                                <span style="font-weight: 600;">å•Ÿç”¨æ©«å¹…</span>
                            </label>
                        </div>

                        <div style="display: flex; gap: 10px; justify-content: flex-end;">
                            <button type="button" class="quick-action-btn" onclick="closeModal()" style="background: #999;">å–æ¶ˆ</button>
                            <button type="submit" class="quick-action-btn" style="background: #667eea;">ç¢ºèªæ›´æ–°</button>
                        </div>
                    </form>
                </div>
            `;

            showModal('âœï¸ ç·¨è¼¯æ©«å¹…', content);

            // ç¶å®šè¡¨å–®æäº¤äº‹ä»¶
            document.getElementById('editBannerForm').onsubmit = function(e) {
                e.preventDefault();
                handleEditBanner(bannerId);
            };
        }

        // æ›´æ–°ç·¨è¼¯æ©«å¹…çš„é€£çµç›®æ¨™è¼¸å…¥æ¡†é¡¯ç¤º/éš±è—
        function updateEditBannerLinkTarget() {
            const linkType = document.getElementById('editBannerLinkType')?.value;
            const categoryContainer = document.getElementById('editCategorySelectContainer');
            const linkTargetContainer = document.getElementById('editLinkTargetContainer');

            if (!categoryContainer || !linkTargetContainer) return;

            if (linkType === 'category') {
                categoryContainer.style.display = 'block';
                linkTargetContainer.style.display = 'none';
                // è‡ªå‹•å¡«å…¥åˆ†é¡ URL
                updateEditCategoryUrl();
            } else {
                categoryContainer.style.display = 'none';
                linkTargetContainer.style.display = 'block';
            }
        }

        // æ›´æ–°ç·¨è¼¯åˆ†é¡ URL
        function updateEditCategoryUrl() {
            const categorySelect = document.getElementById('editBannerCategorySelect');
            if (!categorySelect) return;

            const selectedSlug = categorySelect.value;
            const categories = AppData.banner_categories || [];
            const category = categories.find(cat => cat.slug === selectedSlug);

            if (category) {
                const linkTargetInput = document.getElementById('editBannerLinkTarget');
                if (linkTargetInput) {
                    linkTargetInput.value = category.slug;
                }
            }
        }

        // è™•ç†ç·¨è¼¯æ©«å¹…
        function handleEditBanner(bannerId) {
            const title = document.getElementById('editBannerTitle').value.trim();
            const subtitle = document.getElementById('editBannerSubtitle').value.trim();
            const linkType = document.getElementById('editBannerLinkType').value;

            // å¦‚æœæ˜¯åˆ†é¡é¡å‹ï¼Œå¾åˆ†é¡é¸æ“‡æ¡†ç²å–å€¼
            let linkTarget;
            if (linkType === 'category') {
                const categorySelect = document.getElementById('editBannerCategorySelect');
                linkTarget = categorySelect ? categorySelect.value : '';
            } else {
                linkTarget = document.getElementById('editBannerLinkTarget').value.trim();
            }

            const displayOrder = parseInt(document.getElementById('editBannerDisplayOrder').value) || 1;
            const startDate = document.getElementById('editBannerStartDate').value;
            const endDate = document.getElementById('editBannerEndDate').value;
            const isActive = document.getElementById('editBannerIsActive').checked;

            if (!title || !linkType || !startDate || !endDate) {
                showToast('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½', 'error');
                return;
            }

            // é©—è­‰æ—¥æœŸ
            if (new Date(endDate) <= new Date(startDate)) {
                showToast('çµæŸæ—¥æœŸå¿…é ˆæ™šæ–¼é–‹å§‹æ—¥æœŸ', 'error');
                return;
            }

            AppData.update('banners', bannerId, {
                title,
                subtitle,
                link_type: linkType,
                link_target: linkTarget,
                is_active: isActive ? 1 : 0,
                display_order: displayOrder,
                start_date: startDate + ' 00:00:00',
                end_date: endDate + ' 23:59:59'
            });

            closeModal();
            showToast('æ©«å¹…æ›´æ–°æˆåŠŸï¼', 'success');
            renderOperationBanners();
        }

        // åˆ‡æ›æ©«å¹…ç‹€æ…‹
        function toggleBannerStatus(bannerId) {
            const banner = AppData.find('banners', bannerId);
            if (!banner) {
                showToast('æ©«å¹…ä¸å­˜åœ¨', 'error');
                return;
            }

            const newStatus = banner.is_active ? 0 : 1;
            const action = newStatus ? 'å•Ÿç”¨' : 'åœç”¨';

            AppData.update('banners', bannerId, { is_active: newStatus });
            showToast(`æ©«å¹…å·²${action}`, 'success');
            renderOperationBanners();
        }

        // åˆªé™¤æ©«å¹…
        function deleteBanner(bannerId) {
            const banner = AppData.find('banners', bannerId);
            if (!banner) {
                showToast('æ©«å¹…ä¸å­˜åœ¨', 'error');
                return;
            }

            showConfirm(
                `ç¢ºå®šè¦åˆªé™¤æ©«å¹…ã€Œ${banner.title}ã€å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚`,
                () => {
                    AppData.delete('banners', bannerId);
                    showToast('æ©«å¹…å·²åˆªé™¤', 'success');
                    renderOperationBanners();
                },
                'åˆªé™¤æ©«å¹…'
            );
        }

        // é¡¯ç¤ºåˆ†é¡ç®¡ç†
        function showBannerCategoryManagement() {
            const categories = AppData.banner_categories || [];

            const content = `
                <div style="padding: 20px;">
                    <div style="background: #f0f9ff; padding: 20px; border-radius: 12px; border-left: 4px solid #3b82f6; margin-bottom: 20px;">
                        <h4 style="margin: 0 0 10px 0; color: #1e40af;">ğŸ“‹ æ©«å¹…åˆ†é¡ç®¡ç†</h4>
                        <p style="margin: 0; color: #1e40af; line-height: 1.6;">
                            ç®¡ç†æ©«å¹…å»£å‘Šçš„åˆ†é¡ï¼Œæ¯å€‹åˆ†é¡éƒ½æœ‰å°æ‡‰çš„ URL è·¯å¾‘ã€‚æ–°å¢æ©«å¹…æ™‚å¯ä»¥é¸æ“‡åˆ†é¡ï¼Œç³»çµ±æœƒè‡ªå‹•å¡«å…¥å°æ‡‰çš„ URLã€‚
                        </p>
                    </div>

                    <div style="margin-bottom: 20px; text-align: right;">
                        <button class="quick-action-btn" onclick="showAddCategoryForm()">â• æ–°å¢åˆ†é¡</button>
                    </div>

                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>åœ–ç¤º</th>
                                <th>åˆ†é¡åç¨±</th>
                                <th>è­˜åˆ¥ç¢¼</th>
                                <th>URL è·¯å¾‘</th>
                                <th>æè¿°</th>
                                <th>æ’åº</th>
                                <th>ç‹€æ…‹</th>
                                <th>æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody id="categoriesTableBody">
                        </tbody>
                    </table>
                </div>
            `;

            showModal('ğŸ“ æ©«å¹…åˆ†é¡ç®¡ç†', content);

            // æ¸²æŸ“åˆ†é¡åˆ—è¡¨
            renderCategoriesTable();
        }

        // æ¸²æŸ“åˆ†é¡è¡¨æ ¼
        function renderCategoriesTable() {
            const tbody = document.getElementById('categoriesTableBody');
            if (!tbody) return;

            const categories = AppData.banner_categories || [];

            if (categories.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 40px; color: #999;">
                            <p>å°šç„¡åˆ†é¡è³‡æ–™</p>
                            <p style="font-size: 0.9em; margin-top: 10px;">é»æ“Šã€Œæ–°å¢åˆ†é¡ã€æŒ‰éˆ•ä¾†å»ºç«‹ç¬¬ä¸€å€‹åˆ†é¡</p>
                        </td>
                    </tr>
                `;
                return;
            }

            const sortedCategories = [...categories].sort((a, b) => (a.display_order || 999) - (b.display_order || 999));

            tbody.innerHTML = sortedCategories.map(cat => `
                <tr>
                    <td style="font-size: 1.5em;">${cat.icon}</td>
                    <td><strong>${cat.name}</strong></td>
                    <td><code>${cat.slug}</code></td>
                    <td><code>${cat.url}</code></td>
                    <td>${cat.description || '-'}</td>
                    <td>${cat.display_order}</td>
                    <td>
                        <span class="status-badge ${cat.is_active ? 'active' : 'pending'}">
                            ${cat.is_active ? 'å•Ÿç”¨' : 'åœç”¨'}
                        </span>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit" onclick="editCategory(${cat.id})">ç·¨è¼¯</button>
                            <button class="action-btn ${cat.is_active ? 'reject' : 'approve'}" onclick="toggleCategoryStatus(${cat.id})">
                                ${cat.is_active ? 'åœç”¨' : 'å•Ÿç”¨'}
                            </button>
                            <button class="action-btn reject" onclick="deleteCategory(${cat.id})">åˆªé™¤</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // é¡¯ç¤ºæ–°å¢åˆ†é¡è¡¨å–®
        function showAddCategoryForm() {
            const content = `
                <div style="padding: 20px;">
                    <form id="addCategoryForm" style="max-width: 600px;">
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">åˆ†é¡åç¨± *</label>
                            <input type="text" id="categoryName" required placeholder="ä¾‹å¦‚ï¼šç¾é£Ÿå„ªæƒ " style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">è­˜åˆ¥ç¢¼ï¼ˆslugï¼‰*</label>
                            <input type="text" id="categorySlug" required placeholder="ä¾‹å¦‚ï¼šfoodï¼ˆåªèƒ½ä½¿ç”¨è‹±æ–‡å°å¯«ã€æ•¸å­—ã€é€£å­—è™Ÿï¼‰" pattern="[a-z0-9-]+" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                            <small style="color: #666;">åªèƒ½ä½¿ç”¨è‹±æ–‡å°å¯«å­—æ¯ã€æ•¸å­—å’Œé€£å­—è™Ÿï¼ˆ-ï¼‰</small>
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">URL è·¯å¾‘ *</label>
                            <input type="text" id="categoryUrl" required placeholder="ä¾‹å¦‚ï¼š/categories/food" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                            <small style="color: #666;">æ©«å¹…é»æ“Šå¾Œæœƒé€£çµåˆ°æ­¤ URL</small>
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">åœ–ç¤ºï¼ˆemojiï¼‰*</label>
                            <input type="text" id="categoryIcon" required placeholder="ä¾‹å¦‚ï¼šğŸ”" maxlength="2" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">æè¿°</label>
                            <textarea id="categoryDescription" rows="3" placeholder="åˆ†é¡æè¿°..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;"></textarea>
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">æ’åºé †åº</label>
                            <input type="number" id="categoryOrder" min="1" value="1" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" id="categoryIsActive" checked style="margin-right: 10px;">
                                <span style="font-weight: 600;">å•Ÿç”¨åˆ†é¡</span>
                            </label>
                        </div>

                        <div style="display: flex; gap: 10px; justify-content: flex-end;">
                            <button type="button" onclick="closeModal(); showBannerCategoryManagement();" style="padding: 10px 20px; background: #e5e7eb; border: none; border-radius: 8px; cursor: pointer;">å–æ¶ˆ</button>
                            <button type="submit" style="padding: 10px 20px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">ç¢ºèªæ–°å¢</button>
                        </div>
                    </form>
                </div>
            `;

            showModal('â• æ–°å¢åˆ†é¡', content);

            document.getElementById('addCategoryForm').addEventListener('submit', handleAddCategory);
        }

        // è™•ç†æ–°å¢åˆ†é¡
        function handleAddCategory(e) {
            e.preventDefault();

            const name = document.getElementById('categoryName').value.trim();
            const slug = document.getElementById('categorySlug').value.trim().toLowerCase();
            const url = document.getElementById('categoryUrl').value.trim();
            const icon = document.getElementById('categoryIcon').value.trim();
            const description = document.getElementById('categoryDescription').value.trim();
            const displayOrder = parseInt(document.getElementById('categoryOrder').value) || 1;
            const isActive = document.getElementById('categoryIsActive').checked ? 1 : 0;

            // é©—è­‰ slug æ ¼å¼
            if (!/^[a-z0-9-]+$/.test(slug)) {
                showToast('è­˜åˆ¥ç¢¼æ ¼å¼éŒ¯èª¤ï¼Œåªèƒ½ä½¿ç”¨è‹±æ–‡å°å¯«å­—æ¯ã€æ•¸å­—å’Œé€£å­—è™Ÿ', 'error');
                return;
            }

            // æª¢æŸ¥ slug æ˜¯å¦å·²å­˜åœ¨
            const categories = AppData.banner_categories || [];
            if (categories.some(cat => cat.slug === slug)) {
                showToast('è­˜åˆ¥ç¢¼å·²å­˜åœ¨ï¼Œè«‹ä½¿ç”¨å…¶ä»–è­˜åˆ¥ç¢¼', 'error');
                return;
            }

            const newCategory = {
                id: AppData.getNextId('banner_categories'),
                name,
                slug,
                url,
                icon,
                description,
                is_active: isActive,
                display_order: displayOrder,
                created_at: new Date().toISOString().slice(0, 19).replace('T', ' ')
            };

            AppData.create('banner_categories', newCategory);
            showToast('åˆ†é¡æ–°å¢æˆåŠŸï¼', 'success');
            closeModal();
            showBannerCategoryManagement();
        }

        // ç·¨è¼¯åˆ†é¡
        function editCategory(categoryId) {
            const category = AppData.find('banner_categories', categoryId);
            if (!category) {
                showToast('åˆ†é¡ä¸å­˜åœ¨', 'error');
                return;
            }

            const content = `
                <div style="padding: 20px;">
                    <form id="editCategoryForm" style="max-width: 600px;">
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">åˆ†é¡åç¨± *</label>
                            <input type="text" id="editCategoryName" required value="${category.name}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">è­˜åˆ¥ç¢¼ï¼ˆslugï¼‰*</label>
                            <input type="text" id="editCategorySlug" required value="${category.slug}" pattern="[a-z0-9-]+" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                            <small style="color: #666;">åªèƒ½ä½¿ç”¨è‹±æ–‡å°å¯«å­—æ¯ã€æ•¸å­—å’Œé€£å­—è™Ÿï¼ˆ-ï¼‰</small>
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">URL è·¯å¾‘ *</label>
                            <input type="text" id="editCategoryUrl" required value="${category.url}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">åœ–ç¤ºï¼ˆemojiï¼‰*</label>
                            <input type="text" id="editCategoryIcon" required value="${category.icon}" maxlength="2" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">æè¿°</label>
                            <textarea id="editCategoryDescription" rows="3" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">${category.description || ''}</textarea>
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">æ’åºé †åº</label>
                            <input type="number" id="editCategoryOrder" min="1" value="${category.display_order}" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>

                        <div style="margin-bottom: 20px;">
                            <label style="display: flex; align-items: center; cursor: pointer;">
                                <input type="checkbox" id="editCategoryIsActive" ${category.is_active ? 'checked' : ''} style="margin-right: 10px;">
                                <span style="font-weight: 600;">å•Ÿç”¨åˆ†é¡</span>
                            </label>
                        </div>

                        <div style="display: flex; gap: 10px; justify-content: flex-end;">
                            <button type="button" onclick="closeModal(); showBannerCategoryManagement();" style="padding: 10px 20px; background: #e5e7eb; border: none; border-radius: 8px; cursor: pointer;">å–æ¶ˆ</button>
                            <button type="submit" style="padding: 10px 20px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">ç¢ºèªæ›´æ–°</button>
                        </div>
                    </form>
                </div>
            `;

            showModal('âœï¸ ç·¨è¼¯åˆ†é¡', content);

            document.getElementById('editCategoryForm').addEventListener('submit', (e) => {
                e.preventDefault();
                handleEditCategory(categoryId);
            });
        }

        // è™•ç†ç·¨è¼¯åˆ†é¡
        function handleEditCategory(categoryId) {
            const name = document.getElementById('editCategoryName').value.trim();
            const slug = document.getElementById('editCategorySlug').value.trim().toLowerCase();
            const url = document.getElementById('editCategoryUrl').value.trim();
            const icon = document.getElementById('editCategoryIcon').value.trim();
            const description = document.getElementById('editCategoryDescription').value.trim();
            const displayOrder = parseInt(document.getElementById('editCategoryOrder').value) || 1;
            const isActive = document.getElementById('editCategoryIsActive').checked ? 1 : 0;

            // é©—è­‰ slug æ ¼å¼
            if (!/^[a-z0-9-]+$/.test(slug)) {
                showToast('è­˜åˆ¥ç¢¼æ ¼å¼éŒ¯èª¤ï¼Œåªèƒ½ä½¿ç”¨è‹±æ–‡å°å¯«å­—æ¯ã€æ•¸å­—å’Œé€£å­—è™Ÿ', 'error');
                return;
            }

            // æª¢æŸ¥ slug æ˜¯å¦èˆ‡å…¶ä»–åˆ†é¡é‡è¤‡
            const categories = AppData.banner_categories || [];
            if (categories.some(cat => cat.slug === slug && cat.id !== categoryId)) {
                showToast('è­˜åˆ¥ç¢¼å·²å­˜åœ¨ï¼Œè«‹ä½¿ç”¨å…¶ä»–è­˜åˆ¥ç¢¼', 'error');
                return;
            }

            AppData.update('banner_categories', categoryId, {
                name,
                slug,
                url,
                icon,
                description,
                is_active: isActive,
                display_order: displayOrder
            });

            showToast('åˆ†é¡æ›´æ–°æˆåŠŸï¼', 'success');
            closeModal();
            showBannerCategoryManagement();
        }

        // åˆ‡æ›åˆ†é¡ç‹€æ…‹
        function toggleCategoryStatus(categoryId) {
            const category = AppData.find('banner_categories', categoryId);
            if (!category) {
                showToast('åˆ†é¡ä¸å­˜åœ¨', 'error');
                return;
            }

            const newStatus = category.is_active ? 0 : 1;
            const action = newStatus ? 'å•Ÿç”¨' : 'åœç”¨';

            AppData.update('banner_categories', categoryId, { is_active: newStatus });
            showToast(`åˆ†é¡å·²${action}`, 'success');
            renderCategoriesTable();
        }

        // åˆªé™¤åˆ†é¡
        function deleteCategory(categoryId) {
            const category = AppData.find('banner_categories', categoryId);
            if (!category) {
                showToast('åˆ†é¡ä¸å­˜åœ¨', 'error');
                return;
            }

            // æª¢æŸ¥æ˜¯å¦æœ‰æ©«å¹…ä½¿ç”¨æ­¤åˆ†é¡
            const banners = AppData.banners || [];
            const usedInBanners = banners.filter(b => b.link_type === 'category' && b.link_target === category.slug);

            if (usedInBanners.length > 0) {
                showToast(`æ­¤åˆ†é¡æ­£è¢« ${usedInBanners.length} å€‹æ©«å¹…ä½¿ç”¨ï¼Œç„¡æ³•åˆªé™¤`, 'error');
                return;
            }

            showConfirm(
                `ç¢ºå®šè¦åˆªé™¤åˆ†é¡ã€Œ${category.name}ã€å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚`,
                () => {
                    AppData.delete('banner_categories', categoryId);
                    showToast('åˆ†é¡å·²åˆªé™¤', 'success');
                    renderCategoriesTable();
                },
                'åˆªé™¤åˆ†é¡'
            );
        }

        // é¡¯ç¤ºæ’åºè¨­å®š
        function showBannerSortSettings() {
            const banners = AppData.banners || [];

            if (banners.length === 0) {
                showToast('å°šç„¡æ©«å¹…è³‡æ–™å¯æ’åº', 'info');
                return;
            }

            // æŒ‰ç•¶å‰é †åºæ’åº
            const sortedBanners = [...banners].sort((a, b) => (a.display_order || 999) - (b.display_order || 999));

            const content = `
                <div style="padding: 20px;">
                    <div style="background: #f0f9ff; padding: 15px; border-radius: 12px; border-left: 4px solid #3b82f6; margin-bottom: 20px;">
                        <p style="margin: 0; color: #1e40af;">
                            æ‹–æ›³æ©«å¹…ä»¥èª¿æ•´é¡¯ç¤ºé †åºï¼Œæ•¸å­—è¶Šå°è¶Šé å‰é¡¯ç¤ºã€‚
                        </p>
                    </div>

                    <div id="bannerSortList" style="max-height: 500px; overflow-y: auto;">
                        ${sortedBanners.map((banner, index) => `
                            <div class="sort-item" data-id="${banner.id}" style="display: flex; align-items: center; padding: 15px; background: white; border: 1px solid #e5e7eb; border-radius: 8px; margin-bottom: 10px; cursor: move;">
                                <div style="width: 40px; text-align: center; font-weight: 700; color: #667eea; font-size: 1.2em;">${index + 1}</div>
                                <div style="flex: 1; margin: 0 15px;">
                                    <div style="font-weight: 600; margin-bottom: 5px;">${banner.title}</div>
                                    <div style="font-size: 0.9em; color: #666;">ç•¶å‰é †åºï¼š${banner.display_order || 'æœªè¨­å®š'}</div>
                                </div>
                                <div style="color: #999;">â‹®â‹®</div>
                            </div>
                        `).join('')}
                    </div>

                    <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: flex-end;">
                        <button class="quick-action-btn" onclick="closeModal()" style="background: #999;">å–æ¶ˆ</button>
                        <button class="quick-action-btn" onclick="saveBannerSort()" style="background: #667eea;">å„²å­˜æ’åº</button>
                    </div>
                </div>
            `;

            showModal('ğŸ”„ æ©«å¹…æ’åºè¨­å®š', content);

            // å¯¦ç¾ç°¡æ˜“æ‹–æ›³æ’åº
            initSimpleDragSort('bannerSortList');
        }

        // åˆå§‹åŒ–ç°¡æ˜“æ‹–æ›³æ’åº
        function initSimpleDragSort(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;

            let draggedElement = null;

            const items = container.querySelectorAll('.sort-item');
            items.forEach((item, index) => {
                item.draggable = true;

                item.addEventListener('dragstart', function(e) {
                    draggedElement = this;
                    this.style.opacity = '0.5';
                });

                item.addEventListener('dragend', function(e) {
                    this.style.opacity = '1';
                });

                item.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    if (draggedElement !== this) {
                        const rect = this.getBoundingClientRect();
                        const midpoint = rect.top + rect.height / 2;
                        if (e.clientY < midpoint) {
                            this.parentNode.insertBefore(draggedElement, this);
                        } else {
                            this.parentNode.insertBefore(draggedElement, this.nextSibling);
                        }
                    }
                });
            });

            // æ›´æ–°é¡¯ç¤ºé †åº
            updateSortNumbers(containerId);
        }

        // æ›´æ–°æ’åºæ•¸å­—é¡¯ç¤º
        function updateSortNumbers(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;

            const items = container.querySelectorAll('.sort-item');
            items.forEach((item, index) => {
                const numberDiv = item.querySelector('div');
                if (numberDiv) {
                    numberDiv.textContent = index + 1;
                }
            });
        }

        // å„²å­˜æ©«å¹…æ’åº
        function saveBannerSort() {
            const container = document.getElementById('bannerSortList');
            if (!container) return;

            const items = container.querySelectorAll('.sort-item');
            const updates = [];

            items.forEach((item, index) => {
                const bannerId = parseInt(item.getAttribute('data-id'));
                const newOrder = index + 1;
                updates.push({ id: bannerId, order: newOrder });
            });

            // æ‰¹æ¬¡æ›´æ–°æ’åº
            updates.forEach(update => {
                AppData.update('banners', update.id, { display_order: update.order });
            });

            closeModal();
            showToast('æ’åºå·²å„²å­˜', 'success');
            renderOperationBanners();
        }

        // æ¸²æŸ“æ–°èå…¬å‘Šç®¡ç†
        function renderOperationNews() {
            console.log('ğŸ“° æ¸²æŸ“æ–°èå…¬å‘Šç®¡ç†');
            switchToCMSDetailView('operationNewsView');

            const news = AppData.news || [];

            // è¨ˆç®—çµ±è¨ˆæ•¸æ“š
            const publishedCount = news.filter(n => n.status === 'published').length;
            const draftCount = news.filter(n => n.status === 'draft').length;
            const totalViews = news.reduce((sum, n) => sum + (n.views || 0), 0);

            // æ›´æ–°çµ±è¨ˆå¡ç‰‡
            document.getElementById('newsTotal').textContent = news.length;
            document.getElementById('newsPublished').textContent = publishedCount;
            document.getElementById('newsDraft').textContent = draftCount;
            document.getElementById('newsViews').textContent = totalViews;

            console.log(`æ–°èç¸½æ•¸ï¼š${news.length} | å·²ç™¼å¸ƒï¼š${publishedCount} | è‰ç¨¿ï¼š${draftCount} | ç¸½ç€è¦½ï¼š${totalViews}`);
        }

        // æ¸²æŸ“é»ƒé ç®¡ç†
        function renderOperationYellowPages() {
            console.log('ğŸ“’ æ¸²æŸ“é»ƒé ç®¡ç†');
            switchToCMSDetailView('operationYellowPagesView');

            const yellowPages = AppData.yellow_pages || [];

            // è¨ˆç®—çµ±è¨ˆæ•¸æ“š
            const activeCount = yellowPages.filter(y => y.is_active).length;
            const pendingCount = yellowPages.filter(y => y.status === 'pending').length;
            const categoriesCount = [...new Set(yellowPages.map(y => y.category_id))].length;

            // æ›´æ–°çµ±è¨ˆå¡ç‰‡
            document.getElementById('yellowPagesTotal').textContent = yellowPages.length;
            document.getElementById('yellowPagesActive').textContent = activeCount;
            document.getElementById('yellowPagesPending').textContent = pendingCount;
            document.getElementById('yellowPagesCategories').textContent = categoriesCount;

            console.log(`é»ƒé ç¸½æ•¸ï¼š${yellowPages.length} | å•Ÿç”¨ï¼š${activeCount} | å¾…å¯©æ ¸ï¼š${pendingCount} | åˆ†é¡ï¼š${categoriesCount}`);
        }

        // æ¸²æŸ“æ…ˆå–„æ´»å‹•ç®¡ç†
        function renderOperationCharity() {
            console.log('â¤ï¸ æ¸²æŸ“æ…ˆå–„æ´»å‹•ç®¡ç†');
            switchToCMSDetailView('operationCharityView');

            const charity = AppData.charity_activities || [];
            const now = new Date();

            // è¨ˆç®—çµ±è¨ˆæ•¸æ“š
            const ongoingCount = charity.filter(c =>
                new Date(c.start_date) <= now && new Date(c.end_date) >= now
            ).length;
            const upcomingCount = charity.filter(c => new Date(c.start_date) > now).length;
            const completedCount = charity.filter(c => new Date(c.end_date) < now).length;

            // æ›´æ–°çµ±è¨ˆå¡ç‰‡
            document.getElementById('charityTotal').textContent = charity.length;
            document.getElementById('charityOngoing').textContent = ongoingCount;
            document.getElementById('charityUpcoming').textContent = upcomingCount;
            document.getElementById('charityCompleted').textContent = completedCount;

            console.log(`æ´»å‹•ç¸½æ•¸ï¼š${charity.length} | é€²è¡Œä¸­ï¼š${ongoingCount} | å³å°‡é–‹å§‹ï¼š${upcomingCount} | å·²çµæŸï¼š${completedCount}`);
        }

        // æ¸²æŸ“å•†å“è©•è«–ç®¡ç†
        function renderOperationReviews() {
            console.log('â­ æ¸²æŸ“å•†å“è©•è«–ç®¡ç†');
            switchToCMSDetailView('operationReviewsView');

            const ratings = AppData.product_ratings || [];

            // è¨ˆç®—çµ±è¨ˆæ•¸æ“šï¼ˆé€™è£¡å‡è¨­æ‰€æœ‰è©•è«–éƒ½å·²å¯©æ ¸é€šéï¼Œå¯¦éš›æ‡‰è©²æœ‰ status æ¬„ä½ï¼‰
            const pendingCount = 0; // å¾…å¯©æ ¸
            const approvedCount = ratings.length; // å·²ç™¼å¸ƒ
            const reportedCount = 0; // è¢«æª¢èˆ‰

            // æ›´æ–°çµ±è¨ˆå¡ç‰‡
            document.getElementById('reviewsTotal').textContent = ratings.length;
            document.getElementById('reviewsPending').textContent = pendingCount;
            document.getElementById('reviewsApproved').textContent = approvedCount;
            document.getElementById('reviewsReported').textContent = reportedCount;

            console.log(`è©•è«–ç¸½æ•¸ï¼š${ratings.length} | å¾…å¯©æ ¸ï¼š${pendingCount} | å·²ç™¼å¸ƒï¼š${approvedCount} | è¢«æª¢èˆ‰ï¼š${reportedCount}`);
        }

        // æ¸²æŸ“è·ç¼ºç®¡ç†
        function renderOperationVacancies() {
            console.log('ğŸ’¼ æ¸²æŸ“è·ç¼ºç®¡ç†');
            switchToCMSDetailView('operationVacanciesView');

            const vacancies = AppData.vacancies || [];

            // è¨ˆç®—çµ±è¨ˆæ•¸æ“š
            const activeCount = vacancies.filter(v => v.is_active).length;
            const pendingCount = 0; // å‡è¨­æ²’æœ‰å¾…å¯©æ ¸ç‹€æ…‹
            const closedCount = vacancies.filter(v => !v.is_active).length;

            // æ›´æ–°çµ±è¨ˆå¡ç‰‡
            document.getElementById('vacanciesTotal').textContent = vacancies.length;
            document.getElementById('vacanciesActive').textContent = activeCount;
            document.getElementById('vacanciesPending').textContent = pendingCount;
            document.getElementById('vacanciesClosed').textContent = closedCount;

            console.log(`è·ç¼ºç¸½æ•¸ï¼š${vacancies.length} | æ‹›å‹Ÿä¸­ï¼š${activeCount} | å¾…å¯©æ ¸ï¼š${pendingCount} | å·²é—œé–‰ï¼š${closedCount}`);
        }

        // æ¸²æŸ“è¨‚å–®ç›£æ§ï¼ˆç¤ºä¾‹æ¡†æ¶ï¼‰
        function renderOperationOrders() {
            console.log('ğŸ“¦ æ¸²æŸ“è¨‚å–®ç›£æ§ï¼ˆå·²æœ‰ 20 ç­†è¨‚å–®è³‡æ–™ï¼‰');
            // æ¡†æ¶å·²å»ºç«‹ï¼Œè¨‚å–®è³‡æ–™å¯é€é AppData.orders å–å¾—
        }

        // ============================================
        // ä¸­å¤®å¾Œå°ç®¡ç†æ¸²æŸ“å‡½æ•¸
        // ============================================

        // æ¸²æŸ“ç®¡ç†å“¡åˆ—è¡¨
        function renderCentralAdmins() {
            console.log('ğŸ‘¥ æ¸²æŸ“ç®¡ç†å“¡åˆ—è¡¨ï¼ˆå·²æœ‰ 5 ç­†ç®¡ç†å“¡è³‡æ–™ï¼‰');
            const admins = AppData.admins || [];

            // å¦‚æœæœ‰å°æ‡‰çš„ DOM å®¹å™¨ï¼Œå¯ä»¥åœ¨é€™è£¡æ¸²æŸ“
            console.log(`ç®¡ç†å“¡ç¸½æ•¸ï¼š${admins.length} äºº`);
            admins.forEach(admin => {
                console.log(`  - ${admin.full_name} (${admin.role}): ${admin.email}`);
            });
        }

        // æ¸²æŸ“è·ç¼ºç®¡ç†
        function renderCentralVacancies() {
            console.log('ğŸ’¼ æ¸²æŸ“è·ç¼ºç®¡ç†ï¼ˆå·²æœ‰ 8 ç­†è·ç¼ºè³‡æ–™ï¼‰');
            const vacancies = AppData.vacancies || [];

            // çµ±è¨ˆæ•¸æ“š
            const activeVacancies = vacancies.filter(v => v.is_active).length;
            console.log(`è·ç¼ºç¸½æ•¸ï¼š${vacancies.length} å€‹`);
            console.log(`é–‹æ”¾ä¸­è·ç¼ºï¼š${activeVacancies} å€‹`);
        }

        // æ“´å±• switchTab å‡½æ•¸ä»¥æ”¯æ´å„ä»‹é¢çš„åˆå§‹åŒ–
        const originalSwitchTab = switchTab;
        switchTab = function(tabName) {
            originalSwitchTab.call(this, tabName);

            // æ ¹æ“šåˆ‡æ›çš„æ¨™ç±¤åˆå§‹åŒ–å°æ‡‰çš„è³‡æ–™
            setTimeout(() => {
                if (tabName === 'member') {
                    // åˆå§‹åŒ–æœƒå“¡ç«¯
                    initProducts();
                } else if (tabName === 'merchant') {
                    // åˆå§‹åŒ–å•†å®¶ç«¯
                    initMerchantProducts();
                    initMerchantOrders();
                } else if (tabName === 'operation') {
                    // åˆå§‹åŒ–é‹ç‡Ÿå¾Œå°
                    initOperationMembers();
                    initOperationMerchants();
                    initOperationProducts();
                } else if (tabName === 'central') {
                    // åˆå§‹åŒ–ä¸­å¤®å¾Œå°
                    initCentral();
                }
            }, 100);
        };
    </script>
</body>
</html>
